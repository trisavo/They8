{"version":3,"sources":["node_modules/symbol-observable/es/ponyfill.js","node_modules/symbol-observable/es/index.js","node_modules/redux/es/redux.js","node_modules/process/browser.js","../src/common.js","../src/es5.js","../src/proxy.js","../src/patches.js","../src/immer.js","../src/index.js","node_modules/boardgame.io/dist/esm/turn-order-d7fe23d9.js","node_modules/boardgame.io/dist/esm/reducer-186c7602.js","node_modules/flatted/esm/index.js","node_modules/boardgame.io/dist/esm/ai-11415cb8.js","node_modules/boardgame.io/dist/esm/Debug-b191d299.js","node_modules/boardgame.io/dist/esm/initialize-f1052b38.js","node_modules/boardgame.io/dist/esm/client-051f8c0a.js","node_modules/boardgame.io/dist/esm/client.js","src/Game.js","src/App.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["symbolObservablePonyfill","root","result","Symbol","observable","self","window","global","module","Function","randomString","Math","random","toString","substring","split","join","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","obj","proto","Object","getPrototypeOf","createStore","reducer","preloadedState","enhancer","_ref2","arguments","Error","undefined","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","slice","getState","subscribe","listener","isSubscribed","push","unsubscribe","index","indexOf","splice","dispatch","action","type","listeners","i","length","replaceReducer","nextReducer","_ref","outerSubscribe","observer","TypeError","observeState","next","$$observable","warning","message","console","error","e","getUndefinedStateErrorMessage","key","actionType","actionDescription","String","getUnexpectedStateShapeWarningMessage","inputState","reducers","unexpectedKeyCache","reducerKeys","keys","argumentName","call","match","unexpectedKeys","filter","hasOwnProperty","forEach","assertReducerShape","initialState","combineReducers","finalReducers","finalReducerKeys","shapeAssertionError","combination","state","warningMessage","hasChanged","nextState","_i","_key","previousStateForKey","nextStateForKey","errorMessage","bindActionCreator","actionCreator","apply","bindActionCreators","actionCreators","boundActionCreators","_defineProperty","value","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","getOwnPropertySymbols","sym","getOwnPropertyDescriptor","_objectSpread2","target","source","getOwnPropertyDescriptors","defineProperties","compose","_len","funcs","Array","arg","reduce","a","b","applyMiddleware","middlewares","store","_dispatch","middlewareAPI","chain","map","middleware","isCrushed","name","process","exports","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","setTimeout","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","len","run","nextTick","args","Item","array","prototype","title","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","NOTHING","DRAFTABLE","DRAFT_STATE","isDraft","isDraftable","isArray","constructor","original","base","assign","has","Reflect","getOwnPropertyNames","shallowCopy","invokeGetters","clone","create","desc","get","each","cb","isEnumerable","prop","thing","is","x","y","descriptors","scopes","currentScope","willFinalize","baseDraft","needPatches","scope","finalizing","markChangesRecursively","createDraft","parent","draft","clonePotentialDraft","revoke","revoked","copy","set","assigned","modified","markChanged","prepareCopy","proxyProperty","assertUnrevoked","JSON","stringify","markChangesSweep","hasArrayChanges","hasObjectChanges","descriptor","createHiddenProperty","Proxy","revocable","arrayTraps","objectTraps","proxy","fn","deleteProperty","isNaN","parseInt","drafts","finalized","isUnchanged","owner","generatePatches","basePath","patches","inversePatches","generateArrayPatches","generateObjectPatches","minLength","min","path","op","assignedValue","origValue","applyPatches","patch","verifyMinified","configDefaults","Immer","config","setUseProxies","useProxies","produce","bind","recipe","patchListener","defaultBase","finalize","pop","autoFreeze","modernProxy","legacyProxy","isFrozen","finalizeTree","onDelete","onCopy","freeze","onAssign","finalizeProperty","inDraft","immer","setAutoFreeze","MAKE_MOVE","GAME_EVENT","REDO","RESET","SYNC","UNDO","UPDATE","PLUGIN","makeMove","playerID","credentials","payload","gameEvent","automaticGameEvent","automatic","sync","info","log","clientOnly","update","deltalog","reset","undo","redo","plugin","ActionCreators","INVALID_MOVE","ImmerPlugin","fnWrap","move","G","ctx","isInvalid","newG","_typeof","iterator","_classCallCheck","instance","Constructor","_defineProperties","props","_createClass","protoProps","staticProps","symbols","_inherits","subClass","superClass","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","__proto__","p","_objectWithoutPropertiesLoose","excluded","sourceKeys","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","arr2","iter","from","Alea","seed","me","mash","Mash","t","s0","c","s1","s2","f","n","data","charCodeAt","h","alea","opts","xg","prng","quick","Random","used","isUsed","_random","R","prngstate","number","api","SpotValue","D4","D6","D8","D10","D12","D20","predefined","_loop","spotvalue","diceCount","floor","Die","Number","Shuffle","deck","srcIndex","dstIndex","shuffled","randIndex","_obj","Date","RandomPlugin","noClient","flush","setup","game","Events","flow","events","phase","turn","eventNames","item","processEvent","EventsPlugin","dangerouslyFlushRawState","DEFAULT_PLUGINS","ProcessAction","plugins","pluginState","EnhanceCtx","entries","FnWrap","acc","Setup","Enhance","Flush","reverse","newData","NoClient","some","production","logfn","errorfn","msg","SetActivePlayersEvent","_playerID","SetActivePlayers","_prevActivePlayers","activePlayers","_nextActivePlayers","_activePlayersMoveLimit","v","Stage","NULL","revert","_activePlayersNumMoves","currentPlayer","ApplyActivePlayerArgument","others","playOrder","id","all","moveLimit","UpdateActivePlayersOnceEmpty","lastIndex","stage","getCurrentPlayer","playOrderPos","InitTurnOrderState","ctxWithAPI","order","numPlayers","_","first","posType","UpdateTurnOrderState","endTurnArg","endPhase","TurnOrder","DEFAULT","CONTINUE","ONCE","CUSTOM","CUSTOM_FROM","playOrderField","ActivePlayers","ALL","ALL_ONCE","OTHERS","OTHERS_ONCE","Flow","moves","phases","endIf","onEnd","disableUndo","phaseMap","moveMap","moveNames","Set","startingPhase","add","HookWrapper","withPlugins","TriggerWrapper","wrapped","conf","start","onBegin","onMove","stages","stageConfig","GetPhase","OnMove","s","Process","phasesEnded","turnsEnded","rest","EndPhase","clear","EndGame","shouldEndGame","ShouldEndGame","shouldEndPhase","ShouldEndPhase","shouldEndTurn","ShouldEndTurn","EndTurn","StartGame","StartPhase","StartTurn","numMoves","_undo","_redo","UpdatePhase","UpdateTurn","newCtx","UpdateStage","currentPlayerMoves","gameover","force","logEntry","_stateID","remove","EndStage","playerInStage","GetMove","ProcessMove","shouldCount","noLimit","SetStageEvent","EndStageEvent","SetPhaseEvent","newPhase","EndPhaseEvent","EndTurnEvent","PassEvent","EndGameEvent","eventHandlers","endStage","setStage","endTurn","pass","setPhase","endGame","setActivePlayers","enabledEventNames","ProcessEvent","eventArgs","IsPlayerActive","_G","_d","init","isPlayerActive","values","processMove","getMove","IsProcessed","ProcessGameConfig","playerView","includes","pluginNames","moveFn","IsLongFormMove","CanUndoMove","HasUndoable","undoable","IsFunction","CreateGameReducer","isClient","newState","client","redact","prevTurnCount","moveType","last","restore","lastMove","Flatted","Primitive","primitive","parse","text","input","Primitives","primitives","revive","firstRun","known","Map","output","replace","parsed","tmp","Bot","enumerate","enumerateFn","iterationCounter","_opts","range","initial","actions","event","r","CHUNK_SIZE","MCTSBot","objectives","iterations","playoutDepth","iterationCallback","addOpt","max","parentAction","children","visits","node","selectedChild","best","child","childVisits","EPSILON","uct","sqrt","select","childState","childNode","createNode","getOpt","score","objective","checker","weight","draw","winner","backpropagate","numIterations","getResult","metadata","Promise","resolve","iteration","leaf","expand","playout","asyncIteration","RandomBot","Step","bot","play","Simulate","bots","depth","identity","tar","src","k","blank_object","run_all","fns","is_function","safe_not_equal","callback","unsub","component_subscribe","component","$$","on_destroy","create_slot","definition","slot_ctx","get_slot_context","$$scope","get_slot_changes","changed","exclude_internal_props","is_client","now","performance","raf","requestAnimationFrame","tasks","running","run_tasks","task","delete","size","loop","promise","fulfil","abort","append","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","detaching","d","element","document","createElement","svg_element","createElementNS","createTextNode","space","empty","listen","handler","options","addEventListener","removeEventListener","stop_propagation","stopPropagation","attr","attribute","removeAttribute","setAttribute","to_number","childNodes","set_data","set_input_value","select_option","option","__value","selected","select_value","selected_option","querySelector","toggle_class","toggle","classList","custom_event","detail","createEvent","initCustomEvent","stylesheet","active","current_rules","hash","str","create_rule","duration","delay","ease","uid","step","keyframes","rule","style","head","sheet","insertRule","cssRules","animation","delete_rule","anim","clear_rules","deleteRule","current_component","set_current_component","get_current_component","afterUpdate","after_update","onDestroy","createEventDispatcher","callbacks","setContext","context","getContext","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","update_scheduled","schedule_update","then","add_render_callback","seen_callbacks","shift","fragment","dirty","before_update","wait","direction","kind","dispatchEvent","outroing","outros","group_outros","check_outros","transition_in","block","local","transition_out","null_transition","create_bidirectional_transition","params","intro","running_program","pending_program","animation_name","clear_animation","program","abs","end","group","go","easing","tick","css","globals","get_spread_update","levels","updates","to_null_out","accounted_for","get_spread_object","spread_props","mount_component","on_mount","m","new_on_destroy","destroy_component","make_dirty","create_fragment","not_equal","prop_names","parent_component","bound","ready","ret","hydrate","l","SvelteComponent","$destroy","subscriber_queue","stop","subscribers","new_value","run_queue","invalidate","subscriber","cubicOut","fly","opacity","getComputedStyle","target_opacity","transform","od","u","add_css","textContent","get_each_context","list","child_ctx","label","create_each_block","div","t0_value","t0","t1","dispose","click_handler","pane","new_ctx","panes","each_value","each_blocks","$$self","$$props","$$invalidate","$set","Menu","getElementById","add_css$1","create_if_block","create_fragment$1","div1","div0","if_block","Keypress","Activate","instance$1","$disableHotkeys","onPress","disable","disableHotkeys","$$value","Deactivate","ctrlKey","metaKey","preventDefault","Hotkey","add_css$2","create_fragment$2","span0","span1","t3","span2","t4","span3","keypress_handler","OnKeyDown","span2_binding","instance$2","span","Submit","innerText","argArray","focus","blur","InteractiveFunction","add_css$3","create_if_block$1","create_fragment$3","current","hotkey","shortcut","interactivefunction","$on","hotkey_changes","interactivefunction_changes","instance$3","error$1","Move","add_css$4","create_fragment$4","section","li0","li1","li2","t2","li3","hotkey0","hotkey1","Save","hotkey2","Restore","hotkey3","hotkey0_changes","instance$4","json","localStorage","setItem","gamestateJSON","getItem","initialStateJSON","gamestate","Controls","add_css$5","get_each_context$1","player","create_each_block$1","players","create_fragment$5","instance$5","OnClick","$$dirty","PlayerInfo","AssignShortcuts","blacklist","shortcuts","_name","taken","canUseFirstChar","_name2","_name3","_shortcut","fromCharCode","add_css$6","get_each_context$2","create_each_block$2","li","move_changes","create_if_block_2","button","create_if_block_1","click_handler_1","create_if_block$2","click_handler_2","create_fragment$6","section0","h30","section1","h31","t5","section2","h32","t7","t8","section3","h33","t10","t11","t12","t13","section4","label0","t15","pre0","t16_value","t16","t17","section5","label1","t19","pre1","t20_value","SanitizeCtx","t20","controls","playerinfo","change_handler","out","if_block0","if_block1","if_block2","controls_changes","playerinfo_changes","Boolean","startsWith","instance$6","updatePlayerID","Main","add_css$7","create_fragment$7","strong","t2_value","instance$7","add_css$8","create_if_block$3","item0","$client","isConnected","item1","isMultiplayer","item0_changes","item1_changes","create_fragment$8","gameID","item2","isActive","item2_changes","instance$8","Info","add_css$9","create_fragment$9","instance$9","numEvents","TurnMarker","add_css$a","create_fragment$a","t_value","instance$a","PhaseMarker","create_fragment$b","custompayload","instance$b","CustomPayload","add_css$b","create_else_block","custompayload_changes","create_if_block$4","switch_instance_anchor","switch_value","payloadComponent","switch_props","switch_instance","switch_instance_changes","old_component","create_fragment$c","current_block_type_index","if_block_creators","if_blocks","select_block_type","pinned","mouseenter_handler","mouseleave_handler","previous_block_index","instance$c","logIndex","LogEvent","add_css$c","create_if_block$5","title_1","create_fragment$d","svg","if_block_anchor","default_slot_template","$$slots","default","default_slot","viewBox","nodes","svg_nodes","instance$d","IconBase","create_default_slot","create_fragment$e","iconbase_spread_levels","iconbase_props","iconbase","iconbase_changes","instance$e","$$new_props","FaArrowAltCircleDown","add_css$d","create_fragment$f","instance$f","argsFormatted","Action","add_css$e","get_each_context$3","create_each_block$3","tr","td0","td1","td2","mouseout_handler","mouseover_handler","selectedIndex","action_changes","create_fragment$g","table","thead","t_5","tbody","innerHTML","instance$g","parents","Select","Preview","arrowText","sort","Table","add_css$f","get_each_context$4","create_if_block_2$1","arrow","create_else_block$1","select_handler_1","table_changes","create_if_block_1$1","select_handler","preview_handler","create_each_block$4","create_if_block$6","preview","create_fragment$h","instance$h","SelectNode","PreviewNode","MCTS","add_css$g","get_each_context$5","get_each_context_1","get_each_context_2","create_if_block_1$2","turnmarker","turnBoundaries","turnmarker_changes","renderedLogEntries","create_each_block_2","create_each_block_1","logevent","OnLogClick","OnMouseEnter","OnMouseLeave","logevent_changes","create_if_block$7","phasemarker","phaseBoundaries","phasemarker_changes","create_each_block$5","create_fragment$i","each_value_2","each_blocks_2","each_value_1","each_blocks_1","out_1","out_2","instance$i","secondaryPane","getInitialState","rewind","overrideGameState","Reset","keyCode","eventsInCurrentPhase","eventsInCurrentTurn","Log","Object_1","add_css$h","get_each_context$6","create_if_block_1$3","input_min_value","input_max_value","input_change_input_handler","OnChange","create_if_block$8","input_change_handler","checked","create_each_block$6","create_fragment$j","each_1_anchor","instance$j","setOpt","Options","add_css$i","get_each_context$7","create_else_block$2","p0","t_1","p1","create_if_block_5","create_if_block$9","t6","show_if","if_block1_anchor","create_each_block$7","create_if_block_4","botAction","create_if_block_1$4","selectedBot","select_change_handler","ChangeBot","h3","OnDebug","debug","options_changes","progress","create_if_block_3","create_if_block_2$2","progress_1","t4_value","botActionArgs","create_fragment$k","ai","multiplayer","instance$k","botConstructor","Step$1","sleepTimeout","Exit","AI","add_css$j","create_if_block$a","div1_transition","menu","MenuChange","$secondaryPane","create_if_block_1$5","menu_changes","create_fragment$l","visible","instance$l","main","Debug","InitializeGame","setupData","enhancedCtx","createDispatchers","storeActionType","innerActionNames","dispatchers","assumedPlayerID","createMoveDispatchers","createEventDispatchers","createPluginDispatchers","_ClientImpl","gameStateOverride","_running","LogMiddleware","TransportMiddleware","baseState","transport","onAction","SubscriptionMiddleware","notifySubscribers","subscribeGameMetadata","connect","disconnect","updateGameID","gameKey","gameName","gameMetadata","_debugPanel","debugImpl","impl","body","Client","They8","cells","fill","clickCell","They8Client","app","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","parcelRequire","every","generated","js","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","stack","overlay","createErrorOverlay","stackTrace","getParents","modules","dep","deps","cached","cache"],"mappings":"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","file":"App.f684dadd.js","sourceRoot":"..","sourcesContent":["export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","import $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionDescription = actionType && \"action \\\"\" + String(actionType) + \"\\\"\" || 'an action';\n  return \"Given \" + actionDescription + \", reducer \\\"\" + key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\";\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle \" + ActionTypes.INIT + \" or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(\"bindActionCreators expected an object or a function, instead received \" + (actionCreators === null ? 'null' : typeof actionCreators) + \". \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    keys.push.apply(keys, Object.getOwnPropertySymbols(object));\n  }\n\n  if (enumerableOnly) keys = keys.filter(function (sym) {\n    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n  });\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread2({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore };\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","export const NOTHING =\n    typeof Symbol !== \"undefined\"\n        ? Symbol(\"immer-nothing\")\n        : {[\"immer-nothing\"]: true}\n\nexport const DRAFTABLE =\n    typeof Symbol !== \"undefined\"\n        ? Symbol(\"immer-draftable\")\n        : \"__$immer_draftable\"\n\nexport const DRAFT_STATE =\n    typeof Symbol !== \"undefined\" ? Symbol(\"immer-state\") : \"__$immer_state\"\n\nexport function isDraft(value) {\n    return !!value && !!value[DRAFT_STATE]\n}\n\nexport function isDraftable(value) {\n    if (!value || typeof value !== \"object\") return false\n    if (Array.isArray(value)) return true\n    const proto = Object.getPrototypeOf(value)\n    if (!proto || proto === Object.prototype) return true\n    return !!value[DRAFTABLE] || !!value.constructor[DRAFTABLE]\n}\n\nexport function original(value) {\n    if (value && value[DRAFT_STATE]) {\n        return value[DRAFT_STATE].base\n    }\n    // otherwise return undefined\n}\n\nexport const assign =\n    Object.assign ||\n    function assign(target, value) {\n        for (let key in value) {\n            if (has(value, key)) {\n                target[key] = value[key]\n            }\n        }\n        return target\n    }\n\nexport const ownKeys =\n    typeof Reflect !== \"undefined\" && Reflect.ownKeys\n        ? Reflect.ownKeys\n        : typeof Object.getOwnPropertySymbols !== \"undefined\"\n        ? obj =>\n              Object.getOwnPropertyNames(obj).concat(\n                  Object.getOwnPropertySymbols(obj)\n              )\n        : Object.getOwnPropertyNames\n\nexport function shallowCopy(base, invokeGetters = false) {\n    if (Array.isArray(base)) return base.slice()\n    const clone = Object.create(Object.getPrototypeOf(base))\n    ownKeys(base).forEach(key => {\n        if (key === DRAFT_STATE) {\n            return // Never copy over draft state.\n        }\n        const desc = Object.getOwnPropertyDescriptor(base, key)\n        if (desc.get) {\n            if (!invokeGetters) {\n                throw new Error(\"Immer drafts cannot have computed properties\")\n            }\n            desc.value = desc.get.call(base)\n        }\n        if (desc.enumerable) {\n            clone[key] = desc.value\n        } else {\n            Object.defineProperty(clone, key, {\n                value: desc.value,\n                writable: true,\n                configurable: true\n            })\n        }\n    })\n    return clone\n}\n\nexport function each(value, cb) {\n    if (Array.isArray(value)) {\n        for (let i = 0; i < value.length; i++) cb(i, value[i], value)\n    } else {\n        ownKeys(value).forEach(key => cb(key, value[key], value))\n    }\n}\n\nexport function isEnumerable(base, prop) {\n    return Object.getOwnPropertyDescriptor(base, prop).enumerable\n}\n\nexport function has(thing, prop) {\n    return Object.prototype.hasOwnProperty.call(thing, prop)\n}\n\nexport function is(x, y) {\n    // From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n    if (x === y) {\n        return x !== 0 || 1 / x === 1 / y\n    } else {\n        return x !== x && y !== y\n    }\n}\n","\"use strict\"\n// @ts-check\n\nimport {\n    each,\n    has,\n    is,\n    isDraft,\n    isDraftable,\n    isEnumerable,\n    shallowCopy,\n    DRAFT_STATE\n} from \"./common\"\n\nconst descriptors = {}\n\n// For nested produce calls:\nexport const scopes = []\nexport const currentScope = () => scopes[scopes.length - 1]\n\nexport function willFinalize(result, baseDraft, needPatches) {\n    const scope = currentScope()\n    scope.forEach(state => (state.finalizing = true))\n    if (result === undefined || result === baseDraft) {\n        if (needPatches) markChangesRecursively(baseDraft)\n        // This is faster when we don't care about which attributes changed.\n        markChangesSweep(scope)\n    }\n}\n\nexport function createDraft(base, parent) {\n    const isArray = Array.isArray(base)\n    const draft = clonePotentialDraft(base)\n    each(draft, prop => {\n        proxyProperty(draft, prop, isArray || isEnumerable(base, prop))\n    })\n\n    // See \"proxy.js\" for property documentation.\n    const state = {\n        scope: parent ? parent.scope : currentScope(),\n        modified: false,\n        finalizing: false, // es5 only\n        finalized: false,\n        assigned: {},\n        parent,\n        base,\n        draft,\n        copy: null,\n        revoke,\n        revoked: false // es5 only\n    }\n\n    createHiddenProperty(draft, DRAFT_STATE, state)\n    state.scope.push(state)\n    return draft\n}\n\nfunction revoke() {\n    this.revoked = true\n}\n\nfunction source(state) {\n    return state.copy || state.base\n}\n\nfunction get(state, prop) {\n    assertUnrevoked(state)\n    const value = source(state)[prop]\n    // Drafts are only created for proxyable values that exist in the base state.\n    if (!state.finalizing && value === state.base[prop] && isDraftable(value)) {\n        prepareCopy(state)\n        return (state.copy[prop] = createDraft(value, state))\n    }\n    return value\n}\n\nfunction set(state, prop, value) {\n    assertUnrevoked(state)\n    state.assigned[prop] = true\n    if (!state.modified) {\n        if (is(source(state)[prop], value)) return\n        markChanged(state)\n        prepareCopy(state)\n    }\n    state.copy[prop] = value\n}\n\nfunction markChanged(state) {\n    if (!state.modified) {\n        state.modified = true\n        if (state.parent) markChanged(state.parent)\n    }\n}\n\nfunction prepareCopy(state) {\n    if (!state.copy) state.copy = clonePotentialDraft(state.base)\n}\n\nfunction clonePotentialDraft(base) {\n    const state = base && base[DRAFT_STATE]\n    if (state) {\n        state.finalizing = true\n        const draft = shallowCopy(state.draft, true)\n        state.finalizing = false\n        return draft\n    }\n    return shallowCopy(base)\n}\n\nfunction proxyProperty(draft, prop, enumerable) {\n    let desc = descriptors[prop]\n    if (desc) {\n        desc.enumerable = enumerable\n    } else {\n        descriptors[prop] = desc = {\n            configurable: true,\n            enumerable,\n            get() {\n                return get(this[DRAFT_STATE], prop)\n            },\n            set(value) {\n                set(this[DRAFT_STATE], prop, value)\n            }\n        }\n    }\n    Object.defineProperty(draft, prop, desc)\n}\n\nfunction assertUnrevoked(state) {\n    if (state.revoked === true)\n        throw new Error(\n            \"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" +\n                JSON.stringify(source(state))\n        )\n}\n\n// This looks expensive, but only proxies are visited, and only objects without known changes are scanned.\nfunction markChangesSweep(scope) {\n    // The natural order of drafts in the `scope` array is based on when they\n    // were accessed. By processing drafts in reverse natural order, we have a\n    // better chance of processing leaf nodes first. When a leaf node is known to\n    // have changed, we can avoid any traversal of its ancestor nodes.\n    for (let i = scope.length - 1; i >= 0; i--) {\n        const state = scope[i]\n        if (state.modified === false) {\n            if (Array.isArray(state.base)) {\n                if (hasArrayChanges(state)) markChanged(state)\n            } else if (hasObjectChanges(state)) markChanged(state)\n        }\n    }\n}\n\nfunction markChangesRecursively(object) {\n    if (!object || typeof object !== \"object\") return\n    const state = object[DRAFT_STATE]\n    if (!state) return\n    const {base, draft, assigned} = state\n    if (!Array.isArray(object)) {\n        // Look for added keys.\n        Object.keys(draft).forEach(key => {\n            // The `undefined` check is a fast path for pre-existing keys.\n            if (base[key] === undefined && !has(base, key)) {\n                assigned[key] = true\n                markChanged(state)\n            } else if (!assigned[key]) {\n                // Only untouched properties trigger recursion.\n                markChangesRecursively(draft[key])\n            }\n        })\n        // Look for removed keys.\n        Object.keys(base).forEach(key => {\n            // The `undefined` check is a fast path for pre-existing keys.\n            if (draft[key] === undefined && !has(draft, key)) {\n                assigned[key] = false\n                markChanged(state)\n            }\n        })\n    } else if (hasArrayChanges(state)) {\n        markChanged(state)\n        assigned.length = true\n        if (draft.length < base.length) {\n            for (let i = draft.length; i < base.length; i++) assigned[i] = false\n        } else {\n            for (let i = base.length; i < draft.length; i++) assigned[i] = true\n        }\n        for (let i = 0; i < draft.length; i++) {\n            // Only untouched indices trigger recursion.\n            if (assigned[i] === undefined) markChangesRecursively(draft[i])\n        }\n    }\n}\n\nfunction hasObjectChanges(state) {\n    const {base, draft} = state\n\n    // Search for added keys. Start at the back, because non-numeric keys\n    // are ordered by time of definition on the object.\n    const keys = Object.keys(draft)\n    for (let i = keys.length - 1; i >= 0; i--) {\n        // The `undefined` check is a fast path for pre-existing keys.\n        if (base[keys[i]] === undefined && !has(base, keys[i])) {\n            return true\n        }\n    }\n\n    // Since no keys have been added, we can compare lengths to know if an\n    // object has been deleted.\n    return keys.length !== Object.keys(base).length\n}\n\nfunction hasArrayChanges(state) {\n    const {draft} = state\n    if (draft.length !== state.base.length) return true\n    // See #116\n    // If we first shorten the length, our array interceptors will be removed.\n    // If after that new items are added, result in the same original length,\n    // those last items will have no intercepting property.\n    // So if there is no own descriptor on the last position, we know that items were removed and added\n    // N.B.: splice, unshift, etc only shift values around, but not prop descriptors, so we only have to check\n    // the last one\n    const descriptor = Object.getOwnPropertyDescriptor(draft, draft.length - 1)\n    // descriptor can be null, but only for newly created sparse arrays, eg. new Array(10)\n    if (descriptor && !descriptor.get) return true\n    // For all other cases, we don't have to compare, as they would have been picked up by the index setters\n    return false\n}\n\nfunction createHiddenProperty(target, prop, value) {\n    Object.defineProperty(target, prop, {\n        value: value,\n        enumerable: false,\n        writable: true\n    })\n}\n","\"use strict\"\n// @ts-check\n\nimport {\n    assign,\n    each,\n    has,\n    is,\n    isDraftable,\n    isDraft,\n    shallowCopy,\n    DRAFT_STATE\n} from \"./common\"\n\n// For nested produce calls:\nexport const scopes = []\nexport const currentScope = () => scopes[scopes.length - 1]\n\n// Do nothing before being finalized.\nexport function willFinalize() {}\n\nexport function createDraft(base, parent) {\n    const state = {\n        // Track which produce call this is associated with.\n        scope: parent ? parent.scope : currentScope(),\n        // True for both shallow and deep changes.\n        modified: false,\n        // Used during finalization.\n        finalized: false,\n        // Track which properties have been assigned (true) or deleted (false).\n        assigned: {},\n        // The parent draft state.\n        parent,\n        // The base state.\n        base,\n        // The base proxy.\n        draft: null,\n        // Any property proxies.\n        drafts: {},\n        // The base copy with any updated values.\n        copy: null,\n        // Called by the `produce` function.\n        revoke: null\n    }\n\n    const {revoke, proxy} = Array.isArray(base)\n        ? Proxy.revocable([state], arrayTraps)\n        : Proxy.revocable(state, objectTraps)\n\n    state.draft = proxy\n    state.revoke = revoke\n\n    state.scope.push(state)\n    return proxy\n}\n\nconst objectTraps = {\n    get,\n    has(target, prop) {\n        return prop in source(target)\n    },\n    ownKeys(target) {\n        return Reflect.ownKeys(source(target))\n    },\n    set,\n    deleteProperty,\n    getOwnPropertyDescriptor,\n    defineProperty() {\n        throw new Error(\"Object.defineProperty() cannot be used on an Immer draft\") // prettier-ignore\n    },\n    getPrototypeOf(target) {\n        return Object.getPrototypeOf(target.base)\n    },\n    setPrototypeOf() {\n        throw new Error(\"Object.setPrototypeOf() cannot be used on an Immer draft\") // prettier-ignore\n    }\n}\n\nconst arrayTraps = {}\neach(objectTraps, (key, fn) => {\n    arrayTraps[key] = function() {\n        arguments[0] = arguments[0][0]\n        return fn.apply(this, arguments)\n    }\n})\narrayTraps.deleteProperty = function(state, prop) {\n    if (isNaN(parseInt(prop))) {\n        throw new Error(\"Immer only supports deleting array indices\") // prettier-ignore\n    }\n    return objectTraps.deleteProperty.call(this, state[0], prop)\n}\narrayTraps.set = function(state, prop, value) {\n    if (prop !== \"length\" && isNaN(parseInt(prop))) {\n        throw new Error(\"Immer only supports setting array indices and the 'length' property\") // prettier-ignore\n    }\n    return objectTraps.set.call(this, state[0], prop, value)\n}\n\nfunction source(state) {\n    return state.copy || state.base\n}\n\nfunction get(state, prop) {\n    if (prop === DRAFT_STATE) return state\n    let {drafts} = state\n\n    // Check for existing draft in unmodified state.\n    if (!state.modified && has(drafts, prop)) {\n        return drafts[prop]\n    }\n\n    const value = source(state)[prop]\n    if (state.finalized || !isDraftable(value)) return value\n\n    // Check for existing draft in modified state.\n    if (state.modified) {\n        // Assigned values are never drafted. This catches any drafts we created, too.\n        if (value !== state.base[prop]) return value\n        // Store drafts on the copy (when one exists).\n        drafts = state.copy\n    }\n\n    return (drafts[prop] = createDraft(value, state))\n}\n\nfunction set(state, prop, value) {\n    if (!state.modified) {\n        // Optimize based on value's truthiness. Truthy values are guaranteed to\n        // never be undefined, so we can avoid the `in` operator. Lastly, truthy\n        // values may be drafts, but falsy values are never drafts.\n        const isUnchanged = value\n            ? is(state.base[prop], value) || value === state.drafts[prop]\n            : is(state.base[prop], value) && prop in state.base\n        if (isUnchanged) return true\n        markChanged(state)\n    }\n    state.assigned[prop] = true\n    state.copy[prop] = value\n    return true\n}\n\nfunction deleteProperty(state, prop) {\n    // The `undefined` check is a fast path for pre-existing keys.\n    if (state.base[prop] !== undefined || prop in state.base) {\n        state.assigned[prop] = false\n        markChanged(state)\n    }\n    if (state.copy) delete state.copy[prop]\n    return true\n}\n\nfunction getOwnPropertyDescriptor(state, prop) {\n    const owner = source(state)\n    const desc = Reflect.getOwnPropertyDescriptor(owner, prop)\n    if (desc) {\n        desc.writable = true\n        desc.configurable = !Array.isArray(owner) || prop !== \"length\"\n    }\n    return desc\n}\n\nfunction markChanged(state) {\n    if (!state.modified) {\n        state.modified = true\n        state.copy = assign(shallowCopy(state.base), state.drafts)\n        state.drafts = null\n        if (state.parent) markChanged(state.parent)\n    }\n}\n","import {each} from \"./common\"\n\nexport function generatePatches(state, basePath, patches, inversePatches) {\n    Array.isArray(state.base)\n        ? generateArrayPatches(state, basePath, patches, inversePatches)\n        : generateObjectPatches(state, basePath, patches, inversePatches)\n}\n\nfunction generateArrayPatches(state, basePath, patches, inversePatches) {\n    const {base, copy, assigned} = state\n    const minLength = Math.min(base.length, copy.length)\n\n    // Look for replaced indices.\n    for (let i = 0; i < minLength; i++) {\n        if (assigned[i] && base[i] !== copy[i]) {\n            const path = basePath.concat(i)\n            patches.push({op: \"replace\", path, value: copy[i]})\n            inversePatches.push({op: \"replace\", path, value: base[i]})\n        }\n    }\n\n    // Did the array expand?\n    if (minLength < copy.length) {\n        for (let i = minLength; i < copy.length; i++) {\n            patches.push({\n                op: \"add\",\n                path: basePath.concat(i),\n                value: copy[i]\n            })\n        }\n        inversePatches.push({\n            op: \"replace\",\n            path: basePath.concat(\"length\"),\n            value: base.length\n        })\n    }\n\n    // ...or did it shrink?\n    else if (minLength < base.length) {\n        patches.push({\n            op: \"replace\",\n            path: basePath.concat(\"length\"),\n            value: copy.length\n        })\n        for (let i = minLength; i < base.length; i++) {\n            inversePatches.push({\n                op: \"add\",\n                path: basePath.concat(i),\n                value: base[i]\n            })\n        }\n    }\n}\n\nfunction generateObjectPatches(state, basePath, patches, inversePatches) {\n    const {base, copy} = state\n    each(state.assigned, (key, assignedValue) => {\n        const origValue = base[key]\n        const value = copy[key]\n        const op = !assignedValue ? \"remove\" : key in base ? \"replace\" : \"add\"\n        if (origValue === value && op === \"replace\") return\n        const path = basePath.concat(key)\n        patches.push(op === \"remove\" ? {op, path} : {op, path, value})\n        inversePatches.push(\n            op === \"add\"\n                ? {op: \"remove\", path}\n                : op === \"remove\"\n                ? {op: \"add\", path, value: origValue}\n                : {op: \"replace\", path, value: origValue}\n        )\n    })\n}\n\nexport function applyPatches(draft, patches) {\n    for (let i = 0; i < patches.length; i++) {\n        const patch = patches[i]\n        const {path} = patch\n        if (path.length === 0 && patch.op === \"replace\") {\n            draft = patch.value\n        } else {\n            let base = draft\n            for (let i = 0; i < path.length - 1; i++) {\n                base = base[path[i]]\n                if (!base || typeof base !== \"object\")\n                    throw new Error(\"Cannot apply patch, path doesn't resolve: \" + path.join(\"/\")) // prettier-ignore\n            }\n            const key = path[path.length - 1]\n            switch (patch.op) {\n                case \"replace\":\n                case \"add\":\n                    // TODO: add support is not extensive, it does not support insertion or `-` atm!\n                    base[key] = patch.value\n                    break\n                case \"remove\":\n                    if (Array.isArray(base)) {\n                        if (key !== base.length - 1)\n                            throw new Error(`Only the last index of an array can be removed, index: ${key}, length: ${base.length}`) // prettier-ignore\n                        base.length -= 1\n                    } else {\n                        delete base[key]\n                    }\n                    break\n                default:\n                    throw new Error(\"Unsupported patch operation: \" + patch.op)\n            }\n        }\n    }\n    return draft\n}\n","import * as legacyProxy from \"./es5\"\nimport * as modernProxy from \"./proxy\"\nimport {applyPatches, generatePatches} from \"./patches\"\nimport {\n    assign,\n    each,\n    has,\n    is,\n    isDraft,\n    isDraftable,\n    isEnumerable,\n    shallowCopy,\n    DRAFT_STATE,\n    NOTHING\n} from \"./common\"\n\nfunction verifyMinified() {}\n\nconst configDefaults = {\n    useProxies: typeof Proxy !== \"undefined\" && typeof Reflect !== \"undefined\",\n    autoFreeze:\n        typeof process !== \"undefined\"\n            ? process.env.NODE_ENV !== \"production\"\n            : verifyMinified.name === \"verifyMinified\",\n    onAssign: null,\n    onDelete: null,\n    onCopy: null\n}\n\nexport class Immer {\n    constructor(config) {\n        assign(this, configDefaults, config)\n        this.setUseProxies(this.useProxies)\n        this.produce = this.produce.bind(this)\n    }\n    produce(base, recipe, patchListener) {\n        // curried invocation\n        if (typeof base === \"function\" && typeof recipe !== \"function\") {\n            const defaultBase = recipe\n            recipe = base\n\n            // prettier-ignore\n            return (base = defaultBase, ...args) =>\n                this.produce(base, draft => recipe.call(draft, draft, ...args))\n        }\n\n        // prettier-ignore\n        {\n            if (typeof recipe !== \"function\") throw new Error(\"if first argument is not a function, the second argument to produce should be a function\")\n            if (patchListener !== undefined && typeof patchListener !== \"function\") throw new Error(\"the third argument of a producer should not be set or a function\")\n        }\n\n        let result\n        // Only create proxies for plain objects/arrays.\n        if (!isDraftable(base)) {\n            result = recipe(base)\n            if (result === undefined) return base\n        }\n        // The given value must be proxied.\n        else {\n            this.scopes.push([])\n            const baseDraft = this.createDraft(base)\n            try {\n                result = recipe.call(baseDraft, baseDraft)\n                this.willFinalize(result, baseDraft, !!patchListener)\n\n                // Never generate patches when no listener exists.\n                var patches = patchListener && [],\n                    inversePatches = patchListener && []\n\n                // Finalize the modified draft...\n                if (result === undefined || result === baseDraft) {\n                    result = this.finalize(\n                        baseDraft,\n                        [],\n                        patches,\n                        inversePatches\n                    )\n                }\n                // ...or use a replacement value.\n                else {\n                    // Users must never modify the draft _and_ return something else.\n                    if (baseDraft[DRAFT_STATE].modified)\n                        throw new Error(\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\") // prettier-ignore\n\n                    // Finalize the replacement in case it contains (or is) a subset of the draft.\n                    if (isDraftable(result)) result = this.finalize(result)\n\n                    if (patchListener) {\n                        patches.push({\n                            op: \"replace\",\n                            path: [],\n                            value: result\n                        })\n                        inversePatches.push({\n                            op: \"replace\",\n                            path: [],\n                            value: base\n                        })\n                    }\n                }\n            } finally {\n                this.currentScope().forEach(state => state.revoke())\n                this.scopes.pop()\n            }\n            patchListener && patchListener(patches, inversePatches)\n        }\n        // Normalize the result.\n        return result === NOTHING ? undefined : result\n    }\n    setAutoFreeze(value) {\n        this.autoFreeze = value\n    }\n    setUseProxies(value) {\n        this.useProxies = value\n        assign(this, value ? modernProxy : legacyProxy)\n    }\n    applyPatches(base, patches) {\n        // Mutate the base state when a draft is passed.\n        if (isDraft(base)) {\n            return applyPatches(base, patches)\n        }\n        // Otherwise, produce a copy of the base state.\n        return this.produce(base, draft => applyPatches(draft, patches))\n    }\n    /**\n     * @internal\n     * Finalize a draft, returning either the unmodified base state or a modified\n     * copy of the base state.\n     */\n    finalize(draft, path, patches, inversePatches) {\n        const state = draft[DRAFT_STATE]\n        if (!state) {\n            if (Object.isFrozen(draft)) return draft\n            return this.finalizeTree(draft)\n        }\n        // Never finalize drafts owned by an outer scope.\n        if (state.scope !== this.currentScope()) {\n            return draft\n        }\n        if (!state.modified) return state.base\n        if (!state.finalized) {\n            state.finalized = true\n            this.finalizeTree(state.draft, path, patches, inversePatches)\n            if (this.onDelete) {\n                // The `assigned` object is unreliable with ES5 drafts.\n                if (this.useProxies) {\n                    const {assigned} = state\n                    for (const prop in assigned) {\n                        if (!assigned[prop]) this.onDelete(state, prop)\n                    }\n                } else {\n                    const {base, copy} = state\n                    each(base, prop => {\n                        if (!has(copy, prop)) this.onDelete(state, prop)\n                    })\n                }\n            }\n            if (this.onCopy) this.onCopy(state)\n\n            // Nested producers must never auto-freeze their result,\n            // because it may contain drafts from parent producers.\n            if (this.autoFreeze && this.scopes.length === 1) {\n                Object.freeze(state.copy)\n            }\n\n            if (patches) generatePatches(state, path, patches, inversePatches)\n        }\n        return state.copy\n    }\n    /**\n     * @internal\n     * Finalize all drafts in the given state tree.\n     */\n    finalizeTree(root, path, patches, inversePatches) {\n        const state = root[DRAFT_STATE]\n        if (state) {\n            if (!this.useProxies) {\n                state.finalizing = true\n                state.copy = shallowCopy(state.draft, true)\n                state.finalizing = false\n            }\n            root = state.copy\n        }\n\n        const {onAssign} = this\n        const finalizeProperty = (prop, value, parent) => {\n            if (value === parent) {\n                throw Error(\"Immer forbids circular references\")\n            }\n\n            // The only possible draft (in the scope of a `finalizeTree` call) is the `root` object.\n            const inDraft = !!state && parent === root\n\n            if (isDraft(value)) {\n                value =\n                    // Patches are never generated for assigned properties.\n                    patches && inDraft && !state.assigned[prop]\n                        ? this.finalize(value, path.concat(prop), patches, inversePatches) // prettier-ignore\n                        : this.finalize(value)\n\n                // Preserve non-enumerable properties.\n                if (Array.isArray(parent) || isEnumerable(parent, prop)) {\n                    parent[prop] = value\n                } else {\n                    Object.defineProperty(parent, prop, {value})\n                }\n\n                // Unchanged drafts are never passed to the `onAssign` hook.\n                if (inDraft && value === state.base[prop]) return\n            }\n            // Unchanged draft properties are ignored.\n            else if (inDraft && is(value, state.base[prop])) {\n                return\n            }\n            // Search new objects for unfinalized drafts. Frozen objects should never contain drafts.\n            else if (isDraftable(value) && !Object.isFrozen(value)) {\n                each(value, finalizeProperty)\n            }\n\n            if (inDraft && onAssign) {\n                onAssign(state, prop, value)\n            }\n        }\n\n        each(root, finalizeProperty)\n        return root\n    }\n}\n","import {Immer} from \"./immer\"\n\nconst immer = new Immer()\n\n/**\n * The `produce` function takes a value and a \"recipe function\" (whose\n * return value often depends on the base state). The recipe function is\n * free to mutate its first argument however it wants. All mutations are\n * only ever applied to a __copy__ of the base state.\n *\n * Pass only a function to create a \"curried producer\" which relieves you\n * from passing the recipe function every time.\n *\n * Only plain objects and arrays are made mutable. All other objects are\n * considered uncopyable.\n *\n * Note: This function is __bound__ to its `Immer` instance.\n *\n * @param {any} base - the initial state\n * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\n * @param {Function} patchListener - optional function that will be called with all the patches produced here\n * @returns {any} a new state, or the initial state if nothing was modified\n */\nexport const produce = immer.produce\nexport default produce\n\n/**\n * Pass true to automatically freeze all copies created by Immer.\n *\n * By default, auto-freezing is disabled in production.\n */\nexport const setAutoFreeze = immer.setAutoFreeze.bind(immer)\n\n/**\n * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\n * always faster than using ES5 proxies.\n *\n * By default, feature detection is used, so calling this is rarely necessary.\n */\nexport const setUseProxies = immer.setUseProxies.bind(immer)\n\n/**\n * Apply an array of Immer patches to the first argument.\n *\n * This function is a producer, which means copy-on-write is in effect.\n */\nexport const applyPatches = immer.applyPatches.bind(immer)\n\nexport {\n    original,\n    isDraft,\n    isDraftable,\n    NOTHING as nothing,\n    DRAFTABLE as immerable\n} from \"./common\"\n\nexport {Immer}\n","import produce from 'immer';\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nconst MAKE_MOVE = 'MAKE_MOVE';\r\nconst GAME_EVENT = 'GAME_EVENT';\r\nconst REDO = 'REDO';\r\nconst RESET = 'RESET';\r\nconst SYNC = 'SYNC';\r\nconst UNDO = 'UNDO';\r\nconst UPDATE = 'UPDATE';\r\nconst PLUGIN = 'PLUGIN';\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Generate a move to be dispatched to the game move reducer.\r\n *\r\n * @param {string} type - The move type.\r\n * @param {Array}  args - Additional arguments.\r\n * @param {string}  playerID - The ID of the player making this action.\r\n * @param {string}  credentials - (optional) The credentials for the player making this action.\r\n */\r\nconst makeMove = (type, args, playerID, credentials) => ({\r\n    type: MAKE_MOVE,\r\n    payload: { type, args, playerID, credentials },\r\n});\r\n/**\r\n * Generate a game event to be dispatched to the flow reducer.\r\n *\r\n * @param {string} type - The event type.\r\n * @param {Array}  args - Additional arguments.\r\n * @param {string}  playerID - The ID of the player making this action.\r\n * @param {string}  credentials - (optional) The credentials for the player making this action.\r\n */\r\nconst gameEvent = (type, args, playerID, credentials) => ({\r\n    type: GAME_EVENT,\r\n    payload: { type, args, playerID, credentials },\r\n});\r\n/**\r\n * Generate an automatic game event that is a side-effect of a move.\r\n * @param {string} type - The event type.\r\n * @param {Array}  args - Additional arguments.\r\n * @param {string}  playerID - The ID of the player making this action.\r\n * @param {string}  credentials - (optional) The credentials for the player making this action.\r\n */\r\nconst automaticGameEvent = (type, args, playerID, credentials) => ({\r\n    type: GAME_EVENT,\r\n    payload: { type, args, playerID, credentials },\r\n    automatic: true,\r\n});\r\nconst sync = (info) => ({\r\n    type: SYNC,\r\n    state: info.state,\r\n    log: info.log,\r\n    initialState: info.initialState,\r\n    clientOnly: true,\r\n});\r\n/**\r\n * Used to update the Redux store's state in response to\r\n * an action coming from another player.\r\n * @param {object} state - The state to restore.\r\n * @param {Array} deltalog - A log delta.\r\n */\r\nconst update = (state, deltalog) => ({\r\n    type: UPDATE,\r\n    state,\r\n    deltalog,\r\n    clientOnly: true,\r\n});\r\n/**\r\n * Used to reset the game state.\r\n * @param {object} state - The initial state.\r\n */\r\nconst reset = (state) => ({\r\n    type: RESET,\r\n    state,\r\n    clientOnly: true,\r\n});\r\n/**\r\n * Used to undo the last move.\r\n * @param {string}  playerID - The ID of the player making this action.\r\n * @param {string}  credentials - (optional) The credentials for the player making this action.\r\n */\r\nconst undo = (playerID, credentials) => ({\r\n    type: UNDO,\r\n    payload: { type: null, args: null, playerID, credentials },\r\n});\r\n/**\r\n * Used to redo the last undone move.\r\n * @param {string}  playerID - The ID of the player making this action.\r\n * @param {string}  credentials - (optional) The credentials for the player making this action.\r\n */\r\nconst redo = (playerID, credentials) => ({\r\n    type: REDO,\r\n    payload: { type: null, args: null, playerID, credentials },\r\n});\r\n/**\r\n * Allows plugins to define their own actions and intercept them.\r\n */\r\nconst plugin = (type, args, playerID, credentials) => ({\r\n    type: PLUGIN,\r\n    payload: { type, args, playerID, credentials },\r\n});\n\nvar ActionCreators = /*#__PURE__*/Object.freeze({\n  makeMove: makeMove,\n  gameEvent: gameEvent,\n  automaticGameEvent: automaticGameEvent,\n  sync: sync,\n  update: update,\n  reset: reset,\n  undo: undo,\n  redo: redo,\n  plugin: plugin\n});\n\n/**\r\n * Moves can return this when they want to indicate\r\n * that the combination of arguments is illegal and\r\n * the move ought to be discarded.\r\n */\r\nconst INVALID_MOVE = 'INVALID_MOVE';\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Plugin that allows using Immer to make immutable changes\r\n * to G by just mutating it.\r\n */\r\nconst ImmerPlugin = {\r\n    name: 'plugin-immer',\r\n    fnWrap: (move) => (G, ctx, ...args) => {\r\n        let isInvalid = false;\r\n        const newG = produce(G, G => {\r\n            const result = move(G, ctx, ...args);\r\n            if (result === INVALID_MOVE) {\r\n                isInvalid = true;\r\n                return;\r\n            }\r\n            return result;\r\n        });\r\n        if (isInvalid)\r\n            return INVALID_MOVE;\r\n        return newG;\r\n    },\r\n};\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\n// Inlined version of Alea from https://github.com/davidbau/seedrandom.\n\n/*\n * Copyright 2015 David Bau.\n *\n * Permission is hereby granted, free of charge,\n * to any person obtaining a copy of this software\n * and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge,\n * publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall\n * be included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\nfunction Alea(seed) {\n  var me = this,\n      mash = Mash();\n\n  me.next = function () {\n    var t = 2091639 * me.s0 + me.c * 2.3283064365386963e-10; // 2^-32\n\n    me.s0 = me.s1;\n    me.s1 = me.s2;\n    return me.s2 = t - (me.c = t | 0);\n  }; // Apply the seeding algorithm from Baagoe.\n\n\n  me.c = 1;\n  me.s0 = mash(' ');\n  me.s1 = mash(' ');\n  me.s2 = mash(' ');\n  me.s0 -= mash(seed);\n\n  if (me.s0 < 0) {\n    me.s0 += 1;\n  }\n\n  me.s1 -= mash(seed);\n\n  if (me.s1 < 0) {\n    me.s1 += 1;\n  }\n\n  me.s2 -= mash(seed);\n\n  if (me.s2 < 0) {\n    me.s2 += 1;\n  }\n\n  mash = null;\n}\n\nfunction copy(f, t) {\n  t.c = f.c;\n  t.s0 = f.s0;\n  t.s1 = f.s1;\n  t.s2 = f.s2;\n  return t;\n}\n\nfunction Mash() {\n  var n = 0xefc8249d;\n\n  var mash = function mash(data) {\n    data = data.toString();\n\n    for (var i = 0; i < data.length; i++) {\n      n += data.charCodeAt(i);\n      var h = 0.02519603282416938 * n;\n      n = h >>> 0;\n      h -= n;\n      h *= n;\n      n = h >>> 0;\n      h -= n;\n      n += h * 0x100000000; // 2^32\n    }\n\n    return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n  };\n\n  return mash;\n}\n\nfunction alea(seed, opts) {\n  var xg = new Alea(seed),\n      state = opts && opts.state,\n      prng = xg.next;\n  prng.quick = prng;\n\n  if (state) {\n    if (_typeof(state) == 'object') copy(state, xg);\n\n    prng.state = function () {\n      return copy(xg, {});\n    };\n  }\n\n  return prng;\n}\n\n/**\n * Random\n *\n * Calls that require a pseudorandom number generator.\n * Uses a seed from ctx, and also persists the PRNG\n * state in ctx so that moves can stay pure.\n */\n\nvar Random =\n/*#__PURE__*/\nfunction () {\n  /**\n   * constructor\n   * @param {object} ctx - The ctx object to initialize from.\n   */\n  function Random(state) {\n    _classCallCheck(this, Random);\n\n    // If we are on the client, the seed is not present.\n    // Just use a temporary seed to execute the move without\n    // crashing it. The move state itself is discarded,\n    // so the actual value doesn't matter.\n    this.state = state;\n    this.used = false;\n  }\n\n  _createClass(Random, [{\n    key: \"isUsed\",\n    value: function isUsed() {\n      return this.used;\n    }\n  }, {\n    key: \"getState\",\n    value: function getState() {\n      return this.state;\n    }\n    /**\n     * Generate a random number.\n     */\n\n  }, {\n    key: \"_random\",\n    value: function _random() {\n      this.used = true;\n      var R = this.state;\n      var fn;\n\n      if (R.prngstate === undefined) {\n        // No call to a random function has been made.\n        fn = new alea(R.seed, {\n          state: true\n        });\n      } else {\n        fn = new alea('', {\n          state: R.prngstate\n        });\n      }\n\n      var number = fn();\n      this.state = _objectSpread2({}, R, {\n        prngstate: fn.state()\n      });\n      return number;\n    }\n  }, {\n    key: \"api\",\n    value: function api() {\n      var random = this._random.bind(this);\n\n      var SpotValue = {\n        D4: 4,\n        D6: 6,\n        D8: 8,\n        D10: 10,\n        D12: 12,\n        D20: 20\n      }; // Generate functions for predefined dice values D4 - D20.\n\n      var predefined = {};\n\n      var _loop = function _loop(key) {\n        var spotvalue = SpotValue[key];\n\n        predefined[key] = function (diceCount) {\n          if (diceCount === undefined) {\n            return Math.floor(random() * spotvalue) + 1;\n          } else {\n            return _toConsumableArray(new Array(diceCount).keys()).map(function () {\n              return Math.floor(random() * spotvalue) + 1;\n            });\n          }\n        };\n      };\n\n      for (var key in SpotValue) {\n        _loop(key);\n      }\n\n      return _objectSpread2({}, predefined, {\n        /**\n         * Roll a die of specified spot value.\n         *\n         * @param {number} spotvalue - The die dimension (default: 6).\n         * @param {number} diceCount - number of dice to throw.\n         *                             if not defined, defaults to 1 and returns the value directly.\n         *                             if defined, returns an array containing the random dice values.\n         */\n        Die: function Die(spotvalue, diceCount) {\n          if (spotvalue === undefined) {\n            spotvalue = 6;\n          }\n\n          if (diceCount === undefined) {\n            return Math.floor(random() * spotvalue) + 1;\n          } else {\n            return _toConsumableArray(new Array(diceCount).keys()).map(function () {\n              return Math.floor(random() * spotvalue) + 1;\n            });\n          }\n        },\n\n        /**\n         * Generate a random number between 0 and 1.\n         */\n        Number: function Number() {\n          return random();\n        },\n\n        /**\n         * Shuffle an array.\n         *\n         * @param {Array} deck - The array to shuffle. Does not mutate\n         *                       the input, but returns the shuffled array.\n         */\n        Shuffle: function Shuffle(deck) {\n          var clone = deck.slice(0);\n          var srcIndex = deck.length;\n          var dstIndex = 0;\n          var shuffled = new Array(srcIndex);\n\n          while (srcIndex) {\n            var randIndex = srcIndex * random() | 0;\n            shuffled[dstIndex++] = clone[randIndex];\n            clone[randIndex] = clone[--srcIndex];\n          }\n\n          return shuffled;\n        },\n        _obj: this\n      });\n    }\n  }]);\n\n  return Random;\n}();\n/**\n * Generates a new seed from the current date / time.\n */\n\nRandom.seed = function () {\n  return (+new Date()).toString(36).slice(-10);\n};\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nconst RandomPlugin = {\r\n    name: 'random',\r\n    noClient: ({ api }) => {\r\n        return api._obj.isUsed();\r\n    },\r\n    flush: ({ api }) => {\r\n        return api._obj.getState();\r\n    },\r\n    api: ({ data }) => {\r\n        const random = new Random(data);\r\n        return random.api();\r\n    },\r\n    setup: ({ game }) => {\r\n        let seed = game.seed;\r\n        if (seed === undefined) {\r\n            seed = Random.seed();\r\n        }\r\n        return { seed };\r\n    },\r\n};\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Events\r\n */\r\nclass Events {\r\n    constructor(flow, playerID) {\r\n        this.flow = flow;\r\n        this.playerID = playerID;\r\n        this.dispatch = [];\r\n    }\r\n    /**\r\n     * Attaches the Events API to ctx.\r\n     * @param {object} ctx - The ctx object to attach to.\r\n     */\r\n    api(ctx) {\r\n        const events = {\r\n            _obj: this,\r\n        };\r\n        const { phase, turn } = ctx;\r\n        for (const key of this.flow.eventNames) {\r\n            events[key] = (...args) => {\r\n                this.dispatch.push({ key, args, phase, turn });\r\n            };\r\n        }\r\n        return events;\r\n    }\r\n    isUsed() {\r\n        return this.dispatch.length > 0;\r\n    }\r\n    /**\r\n     * Updates ctx with the triggered events.\r\n     * @param {object} state - The state object { G, ctx }.\r\n     */\r\n    update(state) {\r\n        for (let i = 0; i < this.dispatch.length; i++) {\r\n            const item = this.dispatch[i];\r\n            // If the turn already ended some other way,\r\n            // don't try to end the turn again.\r\n            if (item.key === 'endTurn' && item.turn !== state.ctx.turn) {\r\n                continue;\r\n            }\r\n            // If the phase already ended some other way,\r\n            // don't try to end the phase again.\r\n            if ((item.key === 'endPhase' || item.key === 'setPhase') &&\r\n                item.phase !== state.ctx.phase) {\r\n                continue;\r\n            }\r\n            const action = automaticGameEvent(item.key, item.args, this.playerID);\r\n            state = {\r\n                ...state,\r\n                ...this.flow.processEvent(state, action),\r\n            };\r\n        }\r\n        return state;\r\n    }\r\n}\n\n/*\r\n * Copyright 2020 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nconst EventsPlugin = {\r\n    name: 'events',\r\n    noClient: ({ api }) => {\r\n        return api._obj.isUsed();\r\n    },\r\n    dangerouslyFlushRawState: ({ state, api }) => {\r\n        return api._obj.update(state);\r\n    },\r\n    api: ({ game, playerID, ctx }) => {\r\n        return new Events(game.flow, playerID).api(ctx);\r\n    },\r\n};\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * List of plugins that are always added.\r\n */\r\nconst DEFAULT_PLUGINS = [ImmerPlugin, RandomPlugin, EventsPlugin];\r\n/**\r\n * Allow plugins to intercept actions and process them.\r\n */\r\nconst ProcessAction = (state, action, opts) => {\r\n    opts.game.plugins\r\n        .filter(plugin => plugin.action !== undefined)\r\n        .filter(plugin => plugin.name === action.payload.type)\r\n        .forEach(plugin => {\r\n        const name = plugin.name;\r\n        const pluginState = state.plugins[name] || { data: {} };\r\n        const data = plugin.action(pluginState.data, action.payload);\r\n        state = {\r\n            ...state,\r\n            plugins: {\r\n                ...state.plugins,\r\n                [name]: { ...pluginState, data },\r\n            },\r\n        };\r\n    });\r\n    return state;\r\n};\r\n/**\r\n * The API's created by various plugins are stored in the plugins\r\n * section of the state object:\r\n *\r\n * {\r\n *   G: {},\r\n *   ctx: {},\r\n *   plugins: {\r\n *     plugin-a: {\r\n *       data: {},  // this is generated by the plugin at Setup / Flush.\r\n *       api: {},   // this is ephemeral and generated by Enhance.\r\n *     }\r\n *   }\r\n * }\r\n *\r\n * This function takes these API's and stuffs them back into\r\n * ctx for consumption inside a move function or hook.\r\n */\r\nconst EnhanceCtx = (state) => {\r\n    let ctx = { ...state.ctx };\r\n    const plugins = state.plugins || {};\r\n    Object.entries(plugins).forEach(([name, { api }]) => {\r\n        ctx[name] = api;\r\n    });\r\n    return ctx;\r\n};\r\n/**\r\n * Applies the provided plugins to the given move / flow function.\r\n *\r\n * @param {function} fn - The move function or trigger to apply the plugins to.\r\n * @param {object} plugins - The list of plugins.\r\n */\r\nconst FnWrap = (fn, plugins) => {\r\n    const reducer = (acc, { fnWrap }) => fnWrap(acc);\r\n    return [...DEFAULT_PLUGINS, ...plugins]\r\n        .filter(plugin => plugin.fnWrap !== undefined)\r\n        .reduce(reducer, fn);\r\n};\r\n/**\r\n * Allows the plugin to generate its initial state.\r\n */\r\nconst Setup = (state, opts) => {\r\n    [...DEFAULT_PLUGINS, ...opts.game.plugins]\r\n        .filter(plugin => plugin.setup !== undefined)\r\n        .forEach(plugin => {\r\n        const name = plugin.name;\r\n        const data = plugin.setup({\r\n            G: state.G,\r\n            ctx: state.ctx,\r\n            game: opts.game,\r\n        });\r\n        state = {\r\n            ...state,\r\n            plugins: {\r\n                ...state.plugins,\r\n                [name]: { data },\r\n            },\r\n        };\r\n    });\r\n    return state;\r\n};\r\n/**\r\n * Invokes the plugin before a move or event.\r\n * The API that the plugin generates is stored inside\r\n * the `plugins` section of the state (which is subsequently\r\n * merged into ctx).\r\n */\r\nconst Enhance = (state, opts) => {\r\n    [...DEFAULT_PLUGINS, ...opts.game.plugins]\r\n        .filter(plugin => plugin.api !== undefined)\r\n        .forEach(plugin => {\r\n        const name = plugin.name;\r\n        const pluginState = state.plugins[name] || { data: {} };\r\n        const api = plugin.api({\r\n            G: state.G,\r\n            ctx: state.ctx,\r\n            data: pluginState.data,\r\n            game: opts.game,\r\n            playerID: opts.playerID,\r\n        });\r\n        state = {\r\n            ...state,\r\n            plugins: {\r\n                ...state.plugins,\r\n                [name]: { ...pluginState, api },\r\n            },\r\n        };\r\n    });\r\n    return state;\r\n};\r\n/**\r\n * Allows plugins to update their state after a move / event.\r\n */\r\nconst Flush = (state, opts) => {\r\n    // Note that we flush plugins in reverse order, to make sure that plugins\r\n    // that come before in the chain are still available.\r\n    [...DEFAULT_PLUGINS, ...opts.game.plugins].reverse().forEach(plugin => {\r\n        const name = plugin.name;\r\n        const pluginState = state.plugins[name] || { data: {} };\r\n        if (plugin.flush) {\r\n            const newData = plugin.flush({\r\n                G: state.G,\r\n                ctx: state.ctx,\r\n                game: opts.game,\r\n                api: pluginState.api,\r\n                data: pluginState.data,\r\n            });\r\n            state = {\r\n                ...state,\r\n                plugins: {\r\n                    ...state.plugins,\r\n                    [plugin.name]: { data: newData },\r\n                },\r\n            };\r\n        }\r\n        else if (plugin.dangerouslyFlushRawState) {\r\n            state = plugin.dangerouslyFlushRawState({\r\n                state,\r\n                game: opts.game,\r\n                api: pluginState.api,\r\n                data: pluginState.data,\r\n            });\r\n            // Remove everything other than data.\r\n            const data = state.plugins[name].data;\r\n            state = {\r\n                ...state,\r\n                plugins: {\r\n                    ...state.plugins,\r\n                    [plugin.name]: { data },\r\n                },\r\n            };\r\n        }\r\n    });\r\n    return state;\r\n};\r\n/**\r\n * Allows plugins to indicate if they should not be materialized on the client.\r\n * This will cause the client to discard the state update and wait for the\r\n * master instead.\r\n */\r\nconst NoClient = (state, opts) => {\r\n    return [...DEFAULT_PLUGINS, ...opts.game.plugins]\r\n        .filter(plugin => plugin.noClient !== undefined)\r\n        .map(plugin => {\r\n        const name = plugin.name;\r\n        const pluginState = state.plugins[name];\r\n        if (pluginState) {\r\n            return plugin.noClient({\r\n                G: state.G,\r\n                ctx: state.ctx,\r\n                game: opts.game,\r\n                api: pluginState.api,\r\n                data: pluginState.data,\r\n            });\r\n        }\r\n        return false;\r\n    })\r\n        .some(value => value === true);\r\n};\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nconst production = process.env.NODE_ENV === 'production';\r\nconst logfn = production ? () => { } : console.log;\r\nconst errorfn = console.error;\r\nfunction info(msg) {\r\n    logfn(`INFO: ${msg}`);\r\n}\r\nfunction error(error) {\r\n    errorfn('ERROR:', error);\r\n}\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Event to change the active players (and their stages) in the current turn.\r\n */\r\nfunction SetActivePlayersEvent(state, _playerID, arg) {\r\n    return { ...state, ctx: SetActivePlayers(state.ctx, arg) };\r\n}\r\nfunction SetActivePlayers(ctx, arg) {\r\n    let { _prevActivePlayers } = ctx;\r\n    let activePlayers = {};\r\n    let _nextActivePlayers = null;\r\n    let _activePlayersMoveLimit = {};\r\n    if (Array.isArray(arg)) {\r\n        // support a simple array of player IDs as active players\r\n        let value = {};\r\n        arg.forEach(v => (value[v] = Stage.NULL));\r\n        activePlayers = value;\r\n    }\r\n    else {\r\n        // process active players argument object\r\n        if (arg.next) {\r\n            _nextActivePlayers = arg.next;\r\n        }\r\n        if (arg.revert) {\r\n            _prevActivePlayers = _prevActivePlayers.concat({\r\n                activePlayers: ctx.activePlayers,\r\n                _activePlayersMoveLimit: ctx._activePlayersMoveLimit,\r\n                _activePlayersNumMoves: ctx._activePlayersNumMoves,\r\n            });\r\n        }\r\n        else {\r\n            _prevActivePlayers = [];\r\n        }\r\n        if (arg.currentPlayer !== undefined) {\r\n            ApplyActivePlayerArgument(activePlayers, _activePlayersMoveLimit, ctx.currentPlayer, arg.currentPlayer);\r\n        }\r\n        if (arg.others !== undefined) {\r\n            for (let i = 0; i < ctx.playOrder.length; i++) {\r\n                const id = ctx.playOrder[i];\r\n                if (id !== ctx.currentPlayer) {\r\n                    ApplyActivePlayerArgument(activePlayers, _activePlayersMoveLimit, id, arg.others);\r\n                }\r\n            }\r\n        }\r\n        if (arg.all !== undefined) {\r\n            for (let i = 0; i < ctx.playOrder.length; i++) {\r\n                const id = ctx.playOrder[i];\r\n                ApplyActivePlayerArgument(activePlayers, _activePlayersMoveLimit, id, arg.all);\r\n            }\r\n        }\r\n        if (arg.value) {\r\n            for (const id in arg.value) {\r\n                ApplyActivePlayerArgument(activePlayers, _activePlayersMoveLimit, id, arg.value[id]);\r\n            }\r\n        }\r\n        if (arg.moveLimit) {\r\n            for (const id in activePlayers) {\r\n                if (_activePlayersMoveLimit[id] === undefined) {\r\n                    _activePlayersMoveLimit[id] = arg.moveLimit;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (Object.keys(activePlayers).length == 0) {\r\n        activePlayers = null;\r\n    }\r\n    if (Object.keys(_activePlayersMoveLimit).length == 0) {\r\n        _activePlayersMoveLimit = null;\r\n    }\r\n    let _activePlayersNumMoves = {};\r\n    for (const id in activePlayers) {\r\n        _activePlayersNumMoves[id] = 0;\r\n    }\r\n    return {\r\n        ...ctx,\r\n        activePlayers,\r\n        _activePlayersMoveLimit,\r\n        _activePlayersNumMoves,\r\n        _prevActivePlayers,\r\n        _nextActivePlayers,\r\n    };\r\n}\r\n/**\r\n * Update activePlayers, setting it to previous, next or null values\r\n * when it becomes empty.\r\n * @param ctx\r\n */\r\nfunction UpdateActivePlayersOnceEmpty(ctx) {\r\n    let { activePlayers, _activePlayersMoveLimit, _activePlayersNumMoves, _prevActivePlayers, } = ctx;\r\n    if (activePlayers && Object.keys(activePlayers).length == 0) {\r\n        if (ctx._nextActivePlayers) {\r\n            ctx = SetActivePlayers(ctx, ctx._nextActivePlayers);\r\n            ({\r\n                activePlayers,\r\n                _activePlayersMoveLimit,\r\n                _activePlayersNumMoves,\r\n                _prevActivePlayers,\r\n            } = ctx);\r\n        }\r\n        else if (_prevActivePlayers.length > 0) {\r\n            const lastIndex = _prevActivePlayers.length - 1;\r\n            ({\r\n                activePlayers,\r\n                _activePlayersMoveLimit,\r\n                _activePlayersNumMoves,\r\n            } = _prevActivePlayers[lastIndex]);\r\n            _prevActivePlayers = _prevActivePlayers.slice(0, lastIndex);\r\n        }\r\n        else {\r\n            activePlayers = null;\r\n            _activePlayersMoveLimit = null;\r\n        }\r\n    }\r\n    return {\r\n        ...ctx,\r\n        activePlayers,\r\n        _activePlayersMoveLimit,\r\n        _activePlayersNumMoves,\r\n        _prevActivePlayers,\r\n    };\r\n}\r\n/**\r\n * Apply an active player argument to the given player ID\r\n * @param {Object} activePlayers\r\n * @param {Object} _activePlayersMoveLimit\r\n * @param {String} playerID The player to apply the parameter to\r\n * @param {(String|Object)} arg An active player argument\r\n */\r\nfunction ApplyActivePlayerArgument(activePlayers, _activePlayersMoveLimit, playerID, arg) {\r\n    if (typeof arg !== 'object' || arg === Stage.NULL) {\r\n        arg = { stage: arg };\r\n    }\r\n    if (arg.stage !== undefined) {\r\n        activePlayers[playerID] = arg.stage;\r\n        if (arg.moveLimit)\r\n            _activePlayersMoveLimit[playerID] = arg.moveLimit;\r\n    }\r\n}\r\n/**\r\n * Converts a playOrderPos index into its value in playOrder.\r\n * @param {Array} playOrder - An array of player ID's.\r\n * @param {number} playOrderPos - An index into the above.\r\n */\r\nfunction getCurrentPlayer(playOrder, playOrderPos) {\r\n    // convert to string in case playOrder is set to number[]\r\n    return playOrder[playOrderPos] + '';\r\n}\r\n/**\r\n * Called at the start of a turn to initialize turn order state.\r\n *\r\n * TODO: This is called inside StartTurn, which is called from\r\n * both UpdateTurn and StartPhase (so it's called at the beginning\r\n * of a new phase as well as between turns). We should probably\r\n * split it into two.\r\n */\r\nfunction InitTurnOrderState(state, turn) {\r\n    let { G, ctx } = state;\r\n    const ctxWithAPI = EnhanceCtx(state);\r\n    const order = turn.order;\r\n    let playOrder = [...new Array(ctx.numPlayers)].map((_, i) => i + '');\r\n    if (order.playOrder !== undefined) {\r\n        playOrder = order.playOrder(G, ctxWithAPI);\r\n    }\r\n    const playOrderPos = order.first(G, ctxWithAPI);\r\n    const posType = typeof playOrderPos;\r\n    if (posType !== 'number') {\r\n        error(`invalid value returned by turn.order.first  expected number got ${posType} ${playOrderPos}.`);\r\n    }\r\n    const currentPlayer = getCurrentPlayer(playOrder, playOrderPos);\r\n    ctx = { ...ctx, currentPlayer, playOrderPos, playOrder };\r\n    ctx = SetActivePlayers(ctx, turn.activePlayers || {});\r\n    return ctx;\r\n}\r\n/**\r\n * Called at the end of each turn to update the turn order state.\r\n * @param {object} G - The game object G.\r\n * @param {object} ctx - The game object ctx.\r\n * @param {object} turn - A turn object for this phase.\r\n * @param {string} endTurnArg - An optional argument to endTurn that\r\n                                may specify the next player.\r\n */\r\nfunction UpdateTurnOrderState(state, currentPlayer, turn, endTurnArg) {\r\n    const order = turn.order;\r\n    let { G, ctx } = state;\r\n    let playOrderPos = ctx.playOrderPos;\r\n    let endPhase = false;\r\n    if (endTurnArg && endTurnArg !== true) {\r\n        if (typeof endTurnArg !== 'object') {\r\n            error(`invalid argument to endTurn: ${endTurnArg}`);\r\n        }\r\n        Object.keys(endTurnArg).forEach(arg => {\r\n            switch (arg) {\r\n                case 'remove':\r\n                    currentPlayer = getCurrentPlayer(ctx.playOrder, playOrderPos);\r\n                    break;\r\n                case 'next':\r\n                    playOrderPos = ctx.playOrder.indexOf(endTurnArg.next);\r\n                    currentPlayer = endTurnArg.next;\r\n                    break;\r\n                default:\r\n                    error(`invalid argument to endTurn: ${arg}`);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        const ctxWithAPI = EnhanceCtx(state);\r\n        const t = order.next(G, ctxWithAPI);\r\n        const type = typeof t;\r\n        if (t !== undefined && type !== 'number') {\r\n            error(`invalid value returned by turn.order.next  expected number or undefined got ${type} ${t}.`);\r\n        }\r\n        if (t === undefined) {\r\n            endPhase = true;\r\n        }\r\n        else {\r\n            playOrderPos = t;\r\n            currentPlayer = getCurrentPlayer(ctx.playOrder, playOrderPos);\r\n        }\r\n    }\r\n    ctx = {\r\n        ...ctx,\r\n        playOrderPos,\r\n        currentPlayer,\r\n    };\r\n    return { endPhase, ctx };\r\n}\r\n/**\r\n * Set of different turn orders possible in a phase.\r\n * These are meant to be passed to the `turn` setting\r\n * in the flow objects.\r\n *\r\n * Each object defines the first player when the phase / game\r\n * begins, and also a function `next` to determine who the\r\n * next player is when the turn ends.\r\n *\r\n * The phase ends if next() returns undefined.\r\n */\r\nconst TurnOrder = {\r\n    /**\r\n     * DEFAULT\r\n     *\r\n     * The default round-robin turn order.\r\n     */\r\n    DEFAULT: {\r\n        first: (G, ctx) => ctx.turn === 0\r\n            ? ctx.playOrderPos\r\n            : (ctx.playOrderPos + 1) % ctx.playOrder.length,\r\n        next: (G, ctx) => (ctx.playOrderPos + 1) % ctx.playOrder.length,\r\n    },\r\n    /**\r\n     * RESET\r\n     *\r\n     * Similar to DEFAULT, but starts from 0 each time.\r\n     */\r\n    RESET: {\r\n        first: () => 0,\r\n        next: (G, ctx) => (ctx.playOrderPos + 1) % ctx.playOrder.length,\r\n    },\r\n    /**\r\n     * CONTINUE\r\n     *\r\n     * Similar to DEFAULT, but starts with the player who ended the last phase.\r\n     */\r\n    CONTINUE: {\r\n        first: (G, ctx) => ctx.playOrderPos,\r\n        next: (G, ctx) => (ctx.playOrderPos + 1) % ctx.playOrder.length,\r\n    },\r\n    /**\r\n     * ONCE\r\n     *\r\n     * Another round-robin turn order, but goes around just once.\r\n     * The phase ends after all players have played.\r\n     */\r\n    ONCE: {\r\n        first: () => 0,\r\n        next: (G, ctx) => {\r\n            if (ctx.playOrderPos < ctx.playOrder.length - 1) {\r\n                return ctx.playOrderPos + 1;\r\n            }\r\n        },\r\n    },\r\n    /**\r\n     * CUSTOM\r\n     *\r\n     * Identical to DEFAULT, but also sets playOrder at the\r\n     * beginning of the phase.\r\n     *\r\n     * @param {Array} playOrder - The play order.\r\n     */\r\n    CUSTOM: (playOrder) => ({\r\n        playOrder: () => playOrder,\r\n        first: () => 0,\r\n        next: (G, ctx) => (ctx.playOrderPos + 1) % ctx.playOrder.length,\r\n    }),\r\n    /**\r\n     * CUSTOM_FROM\r\n     *\r\n     * Identical to DEFAULT, but also sets playOrder at the\r\n     * beginning of the phase to a value specified by a field\r\n     * in G.\r\n     *\r\n     * @param {string} playOrderField - Field in G.\r\n     */\r\n    CUSTOM_FROM: (playOrderField) => ({\r\n        playOrder: (G) => G[playOrderField],\r\n        first: () => 0,\r\n        next: (G, ctx) => (ctx.playOrderPos + 1) % ctx.playOrder.length,\r\n    }),\r\n};\r\nconst Stage = {\r\n    NULL: null,\r\n};\r\nconst ActivePlayers = {\r\n    /**\r\n     * ALL\r\n     *\r\n     * The turn stays with one player, but any player can play (in any order)\r\n     * until the phase ends.\r\n     */\r\n    ALL: { all: Stage.NULL },\r\n    /**\r\n     * ALL_ONCE\r\n     *\r\n     * The turn stays with one player, but any player can play (once, and in any order).\r\n     * This is typically used in a phase where you want to elicit a response\r\n     * from every player in the game.\r\n     */\r\n    ALL_ONCE: { all: Stage.NULL, moveLimit: 1 },\r\n    /**\r\n     * OTHERS\r\n     *\r\n     * The turn stays with one player, and every *other* player can play (in any order)\r\n     * until the phase ends.\r\n     */\r\n    OTHERS: { others: Stage.NULL },\r\n    /**\r\n     * OTHERS_ONCE\r\n     *\r\n     * The turn stays with one player, and every *other* player can play (once, and in any order).\r\n     * This is typically used in a phase where you want to elicit a response\r\n     * from every *other* player in the game.\r\n     */\r\n    OTHERS_ONCE: { others: Stage.NULL, moveLimit: 1 },\r\n};\n\nexport { ActionCreators as A, _getPrototypeOf as B, _assertThisInitialized as C, _toConsumableArray as D, EnhanceCtx as E, FnWrap as F, GAME_EVENT as G, update as H, InitTurnOrderState as I, _objectWithoutProperties as J, _objectSpread2 as K, MAKE_MOVE as M, NoClient as N, PLUGIN as P, RESET as R, Stage as S, TurnOrder as T, UpdateTurnOrderState as U, _createClass as _, SetActivePlayersEvent as a, SetActivePlayers as b, UpdateActivePlayersOnceEmpty as c, Enhance as d, error as e, Flush as f, gameEvent as g, INVALID_MOVE as h, info as i, UPDATE as j, SYNC as k, UNDO as l, REDO as m, ProcessAction as n, makeMove as o, alea as p, redo as q, reset as r, sync as s, Setup as t, undo as u, ActivePlayers as v, _classCallCheck as w, _inherits as x, _defineProperty as y, _possibleConstructorReturn as z };\n","import { e as error, E as EnhanceCtx, T as TurnOrder, i as info, S as Stage, a as SetActivePlayersEvent, F as FnWrap, b as SetActivePlayers, I as InitTurnOrderState, U as UpdateTurnOrderState, g as gameEvent, c as UpdateActivePlayersOnceEmpty, G as GAME_EVENT, d as Enhance, f as Flush, M as MAKE_MOVE, h as INVALID_MOVE, N as NoClient, R as RESET, j as UPDATE, k as SYNC, l as UNDO, m as REDO, P as PLUGIN, n as ProcessAction } from './turn-order-d7fe23d9.js';\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Flow\r\n *\r\n * Creates a reducer that updates ctx (analogous to how moves update G).\r\n */\r\nfunction Flow({ moves, phases, endIf, onEnd, turn, events, plugins, disableUndo, }) {\r\n    // Attach defaults.\r\n    if (moves === undefined) {\r\n        moves = {};\r\n    }\r\n    if (events === undefined) {\r\n        events = {};\r\n    }\r\n    if (plugins === undefined) {\r\n        plugins = [];\r\n    }\r\n    if (phases === undefined) {\r\n        phases = {};\r\n    }\r\n    if (!endIf)\r\n        endIf = () => undefined;\r\n    if (!onEnd)\r\n        onEnd = G => G;\r\n    if (!turn)\r\n        turn = {};\r\n    const phaseMap = { ...phases };\r\n    if ('' in phaseMap) {\r\n        error('cannot specify phase with empty name');\r\n    }\r\n    phaseMap[''] = {};\r\n    let moveMap = {};\r\n    let moveNames = new Set();\r\n    let startingPhase = null;\r\n    Object.keys(moves).forEach(name => moveNames.add(name));\r\n    const HookWrapper = (fn) => {\r\n        const withPlugins = FnWrap(fn, plugins);\r\n        return (state) => {\r\n            const ctxWithAPI = EnhanceCtx(state);\r\n            return withPlugins(state.G, ctxWithAPI);\r\n        };\r\n    };\r\n    const TriggerWrapper = (endIf) => {\r\n        return (state) => {\r\n            let ctxWithAPI = EnhanceCtx(state);\r\n            return endIf(state.G, ctxWithAPI);\r\n        };\r\n    };\r\n    const wrapped = {\r\n        onEnd: HookWrapper(onEnd),\r\n        endIf: TriggerWrapper(endIf),\r\n    };\r\n    for (let phase in phaseMap) {\r\n        const conf = phaseMap[phase];\r\n        if (conf.start === true) {\r\n            startingPhase = phase;\r\n        }\r\n        if (conf.moves !== undefined) {\r\n            for (let move of Object.keys(conf.moves)) {\r\n                moveMap[phase + '.' + move] = conf.moves[move];\r\n                moveNames.add(move);\r\n            }\r\n        }\r\n        if (conf.endIf === undefined) {\r\n            conf.endIf = () => undefined;\r\n        }\r\n        if (conf.onBegin === undefined) {\r\n            conf.onBegin = G => G;\r\n        }\r\n        if (conf.onEnd === undefined) {\r\n            conf.onEnd = G => G;\r\n        }\r\n        if (conf.turn === undefined) {\r\n            conf.turn = turn;\r\n        }\r\n        if (conf.turn.order === undefined) {\r\n            conf.turn.order = TurnOrder.DEFAULT;\r\n        }\r\n        if (conf.turn.onBegin === undefined) {\r\n            conf.turn.onBegin = G => G;\r\n        }\r\n        if (conf.turn.onEnd === undefined) {\r\n            conf.turn.onEnd = G => G;\r\n        }\r\n        if (conf.turn.endIf === undefined) {\r\n            conf.turn.endIf = () => false;\r\n        }\r\n        if (conf.turn.onMove === undefined) {\r\n            conf.turn.onMove = G => G;\r\n        }\r\n        if (conf.turn.stages === undefined) {\r\n            conf.turn.stages = {};\r\n        }\r\n        for (const stage in conf.turn.stages) {\r\n            const stageConfig = conf.turn.stages[stage];\r\n            const moves = stageConfig.moves || {};\r\n            for (let move of Object.keys(moves)) {\r\n                let key = phase + '.' + stage + '.' + move;\r\n                moveMap[key] = moves[move];\r\n                moveNames.add(move);\r\n            }\r\n        }\r\n        conf.wrapped = {\r\n            onBegin: HookWrapper(conf.onBegin),\r\n            onEnd: HookWrapper(conf.onEnd),\r\n            endIf: TriggerWrapper(conf.endIf),\r\n        };\r\n        conf.turn.wrapped = {\r\n            onMove: HookWrapper(conf.turn.onMove),\r\n            onBegin: HookWrapper(conf.turn.onBegin),\r\n            onEnd: HookWrapper(conf.turn.onEnd),\r\n            endIf: TriggerWrapper(conf.turn.endIf),\r\n        };\r\n    }\r\n    function GetPhase(ctx) {\r\n        return ctx.phase ? phaseMap[ctx.phase] : phaseMap[''];\r\n    }\r\n    function OnMove(s) {\r\n        return s;\r\n    }\r\n    function Process(state, events) {\r\n        const phasesEnded = new Set();\r\n        const turnsEnded = new Set();\r\n        for (let i = 0; i < events.length; i++) {\r\n            const { fn, arg, ...rest } = events[i];\r\n            // Detect a loop of EndPhase calls.\r\n            // This could potentially even be an infinite loop\r\n            // if the endIf condition of each phase blindly\r\n            // returns true. The moment we detect a single\r\n            // loop, we just bail out of all phases.\r\n            if (fn === EndPhase) {\r\n                turnsEnded.clear();\r\n                const phase = state.ctx.phase;\r\n                if (phasesEnded.has(phase)) {\r\n                    const ctx = { ...state.ctx, phase: null };\r\n                    return { ...state, ctx };\r\n                }\r\n                phasesEnded.add(phase);\r\n            }\r\n            // Process event.\r\n            let next = [];\r\n            state = fn(state, {\r\n                ...rest,\r\n                arg,\r\n                next,\r\n            });\r\n            if (fn === EndGame) {\r\n                break;\r\n            }\r\n            // Check if we should end the game.\r\n            const shouldEndGame = ShouldEndGame(state);\r\n            if (shouldEndGame) {\r\n                events.push({\r\n                    fn: EndGame,\r\n                    arg: shouldEndGame,\r\n                    turn: state.ctx.turn,\r\n                    phase: state.ctx.phase,\r\n                    automatic: true,\r\n                });\r\n                continue;\r\n            }\r\n            // Check if we should end the phase.\r\n            const shouldEndPhase = ShouldEndPhase(state);\r\n            if (shouldEndPhase) {\r\n                events.push({\r\n                    fn: EndPhase,\r\n                    arg: shouldEndPhase,\r\n                    turn: state.ctx.turn,\r\n                    phase: state.ctx.phase,\r\n                    automatic: true,\r\n                });\r\n                continue;\r\n            }\r\n            // Check if we should end the turn.\r\n            if (fn === OnMove) {\r\n                const shouldEndTurn = ShouldEndTurn(state);\r\n                if (shouldEndTurn) {\r\n                    events.push({\r\n                        fn: EndTurn,\r\n                        arg: shouldEndTurn,\r\n                        turn: state.ctx.turn,\r\n                        phase: state.ctx.phase,\r\n                        automatic: true,\r\n                    });\r\n                    continue;\r\n                }\r\n            }\r\n            events.push(...next);\r\n        }\r\n        return state;\r\n    }\r\n    ///////////\r\n    // Start //\r\n    ///////////\r\n    function StartGame(state, { next }) {\r\n        next.push({ fn: StartPhase });\r\n        return state;\r\n    }\r\n    function StartPhase(state, { next }) {\r\n        let { G, ctx } = state;\r\n        const conf = GetPhase(ctx);\r\n        // Run any phase setup code provided by the user.\r\n        G = conf.wrapped.onBegin(state);\r\n        next.push({ fn: StartTurn });\r\n        return { ...state, G, ctx };\r\n    }\r\n    function StartTurn(state, { currentPlayer }) {\r\n        let { G, ctx } = state;\r\n        const conf = GetPhase(ctx);\r\n        // Initialize the turn order state.\r\n        if (currentPlayer) {\r\n            ctx = { ...ctx, currentPlayer };\r\n            if (conf.turn.activePlayers) {\r\n                ctx = SetActivePlayers(ctx, conf.turn.activePlayers);\r\n            }\r\n        }\r\n        else {\r\n            // This is only called at the beginning of the phase\r\n            // when there is no currentPlayer yet.\r\n            ctx = InitTurnOrderState(state, conf.turn);\r\n        }\r\n        const turn = ctx.turn + 1;\r\n        ctx = { ...ctx, turn, numMoves: 0, _prevActivePlayers: [] };\r\n        G = conf.turn.wrapped.onBegin({ ...state, G, ctx });\r\n        const _undo = disableUndo ? [] : [{ G, ctx }];\r\n        return { ...state, G, ctx, _undo, _redo: [] };\r\n    }\r\n    ////////////\r\n    // Update //\r\n    ////////////\r\n    function UpdatePhase(state, { arg, next, phase }) {\r\n        const conf = GetPhase({ phase });\r\n        let { ctx } = state;\r\n        if (arg && arg.next) {\r\n            if (arg.next in phaseMap) {\r\n                ctx = { ...ctx, phase: arg.next };\r\n            }\r\n            else {\r\n                error('invalid phase: ' + arg.next);\r\n                return state;\r\n            }\r\n        }\r\n        else if (conf.next !== undefined) {\r\n            ctx = { ...ctx, phase: conf.next };\r\n        }\r\n        else {\r\n            ctx = { ...ctx, phase: null };\r\n        }\r\n        state = { ...state, ctx };\r\n        // Start the new phase.\r\n        next.push({ fn: StartPhase });\r\n        return state;\r\n    }\r\n    function UpdateTurn(state, { arg, currentPlayer, next }) {\r\n        let { G, ctx } = state;\r\n        const conf = GetPhase(ctx);\r\n        // Update turn order state.\r\n        const { endPhase, ctx: newCtx } = UpdateTurnOrderState(state, currentPlayer, conf.turn, arg);\r\n        ctx = newCtx;\r\n        state = { ...state, G, ctx };\r\n        if (endPhase) {\r\n            next.push({ fn: EndPhase, turn: ctx.turn, phase: ctx.phase });\r\n        }\r\n        else {\r\n            next.push({ fn: StartTurn, currentPlayer: ctx.currentPlayer });\r\n        }\r\n        return state;\r\n    }\r\n    function UpdateStage(state, { arg, playerID }) {\r\n        if (typeof arg === 'string') {\r\n            arg = { stage: arg };\r\n        }\r\n        let { ctx } = state;\r\n        let { activePlayers, _activePlayersMoveLimit, _activePlayersNumMoves, } = ctx;\r\n        if (arg.stage) {\r\n            if (activePlayers === null) {\r\n                activePlayers = {};\r\n            }\r\n            activePlayers[playerID] = arg.stage;\r\n            _activePlayersNumMoves[playerID] = 0;\r\n            if (arg.moveLimit) {\r\n                if (_activePlayersMoveLimit === null) {\r\n                    _activePlayersMoveLimit = {};\r\n                }\r\n                _activePlayersMoveLimit[playerID] = arg.moveLimit;\r\n            }\r\n        }\r\n        ctx = {\r\n            ...ctx,\r\n            activePlayers,\r\n            _activePlayersMoveLimit,\r\n            _activePlayersNumMoves,\r\n        };\r\n        return { ...state, ctx };\r\n    }\r\n    ///////////////\r\n    // ShouldEnd //\r\n    ///////////////\r\n    function ShouldEndGame(state) {\r\n        return wrapped.endIf(state);\r\n    }\r\n    function ShouldEndPhase(state) {\r\n        const conf = GetPhase(state.ctx);\r\n        return conf.wrapped.endIf(state);\r\n    }\r\n    function ShouldEndTurn(state) {\r\n        const conf = GetPhase(state.ctx);\r\n        // End the turn if the required number of moves has been made.\r\n        const currentPlayerMoves = state.ctx.numMoves || 0;\r\n        if (conf.turn.moveLimit && currentPlayerMoves >= conf.turn.moveLimit) {\r\n            return true;\r\n        }\r\n        return conf.turn.wrapped.endIf(state);\r\n    }\r\n    /////////\r\n    // End //\r\n    /////////\r\n    function EndGame(state, { arg, phase }) {\r\n        state = EndPhase(state, { phase });\r\n        if (arg === undefined) {\r\n            arg = true;\r\n        }\r\n        state = { ...state, ctx: { ...state.ctx, gameover: arg } };\r\n        // Run game end hook.\r\n        const G = wrapped.onEnd(state);\r\n        return { ...state, G };\r\n    }\r\n    function EndPhase(state, { arg, next, turn, automatic }) {\r\n        // End the turn first.\r\n        state = EndTurn(state, { turn, force: true });\r\n        let G = state.G;\r\n        let ctx = state.ctx;\r\n        if (next) {\r\n            next.push({ fn: UpdatePhase, arg, phase: ctx.phase });\r\n        }\r\n        // If we aren't in a phase, there is nothing else to do.\r\n        if (ctx.phase === null) {\r\n            return state;\r\n        }\r\n        // Run any cleanup code for the phase that is about to end.\r\n        const conf = GetPhase(ctx);\r\n        G = conf.wrapped.onEnd(state);\r\n        // Reset the phase.\r\n        ctx = { ...ctx, phase: null };\r\n        // Add log entry.\r\n        const action = gameEvent('endPhase', arg);\r\n        const logEntry = {\r\n            action,\r\n            _stateID: state._stateID,\r\n            turn: state.ctx.turn,\r\n            phase: state.ctx.phase,\r\n        };\r\n        if (automatic) {\r\n            logEntry.automatic = true;\r\n        }\r\n        const deltalog = [...state.deltalog, logEntry];\r\n        return { ...state, G, ctx, deltalog };\r\n    }\r\n    function EndTurn(state, { arg, next, turn, force, automatic, playerID }) {\r\n        // This is not the turn that EndTurn was originally\r\n        // called for. The turn was probably ended some other way.\r\n        if (turn !== state.ctx.turn) {\r\n            return state;\r\n        }\r\n        let { G, ctx } = state;\r\n        const conf = GetPhase(ctx);\r\n        // Prevent ending the turn if moveLimit hasn't been reached.\r\n        const currentPlayerMoves = ctx.numMoves || 0;\r\n        if (!force &&\r\n            conf.turn.moveLimit &&\r\n            currentPlayerMoves < conf.turn.moveLimit) {\r\n            info(`cannot end turn before making ${conf.turn.moveLimit} moves`);\r\n            return state;\r\n        }\r\n        // Run turn-end triggers.\r\n        G = conf.turn.wrapped.onEnd(state);\r\n        if (next) {\r\n            next.push({ fn: UpdateTurn, arg, currentPlayer: ctx.currentPlayer });\r\n        }\r\n        // Reset activePlayers.\r\n        ctx = { ...ctx, activePlayers: null };\r\n        // Remove player from playerOrder\r\n        if (arg && arg.remove) {\r\n            playerID = playerID || ctx.currentPlayer;\r\n            const playOrder = ctx.playOrder.filter(i => i != playerID);\r\n            const playOrderPos = ctx.playOrderPos > playOrder.length - 1 ? 0 : ctx.playOrderPos;\r\n            ctx = { ...ctx, playOrder, playOrderPos };\r\n            if (playOrder.length === 0) {\r\n                next.push({ fn: EndPhase, turn: ctx.turn, phase: ctx.phase });\r\n                return state;\r\n            }\r\n        }\r\n        // Add log entry.\r\n        const action = gameEvent('endTurn', arg);\r\n        const logEntry = {\r\n            action,\r\n            _stateID: state._stateID,\r\n            turn: state.ctx.turn,\r\n            phase: state.ctx.phase,\r\n        };\r\n        if (automatic) {\r\n            logEntry.automatic = true;\r\n        }\r\n        const deltalog = [...(state.deltalog || []), logEntry];\r\n        return { ...state, G, ctx, deltalog, _undo: [], _redo: [] };\r\n    }\r\n    function EndStage(state, { arg, next, automatic, playerID }) {\r\n        playerID = playerID || state.ctx.currentPlayer;\r\n        let { ctx } = state;\r\n        let { activePlayers, _activePlayersMoveLimit } = ctx;\r\n        const playerInStage = activePlayers !== null && playerID in activePlayers;\r\n        if (!arg && playerInStage) {\r\n            const conf = GetPhase(ctx);\r\n            const stage = conf.turn.stages[activePlayers[playerID]];\r\n            if (stage && stage.next)\r\n                arg = stage.next;\r\n        }\r\n        if (next && arg) {\r\n            next.push({ fn: UpdateStage, arg, playerID });\r\n        }\r\n        // If player isnt in a stage, there is nothing else to do.\r\n        if (!playerInStage)\r\n            return state;\r\n        // Remove player from activePlayers.\r\n        activePlayers = Object.keys(activePlayers)\r\n            .filter(id => id !== playerID)\r\n            .reduce((obj, key) => {\r\n            obj[key] = activePlayers[key];\r\n            return obj;\r\n        }, {});\r\n        if (_activePlayersMoveLimit) {\r\n            // Remove player from _activePlayersMoveLimit.\r\n            _activePlayersMoveLimit = Object.keys(_activePlayersMoveLimit)\r\n                .filter(id => id !== playerID)\r\n                .reduce((obj, key) => {\r\n                obj[key] = _activePlayersMoveLimit[key];\r\n                return obj;\r\n            }, {});\r\n        }\r\n        ctx = UpdateActivePlayersOnceEmpty({\r\n            ...ctx,\r\n            activePlayers,\r\n            _activePlayersMoveLimit,\r\n        });\r\n        // Add log entry.\r\n        const action = gameEvent('endStage', arg);\r\n        const logEntry = {\r\n            action,\r\n            _stateID: state._stateID,\r\n            turn: state.ctx.turn,\r\n            phase: state.ctx.phase,\r\n        };\r\n        if (automatic) {\r\n            logEntry.automatic = true;\r\n        }\r\n        const deltalog = [...(state.deltalog || []), logEntry];\r\n        return { ...state, ctx, deltalog };\r\n    }\r\n    /**\r\n     * Retrieves the relevant move that can be played by playerID.\r\n     *\r\n     * If ctx.activePlayers is set (i.e. one or more players are in some stage),\r\n     * then it attempts to find the move inside the stages config for\r\n     * that turn. If the stage for a player is '', then the player is\r\n     * allowed to make a move (as determined by the phase config), but\r\n     * isn't restricted to a particular set as defined in the stage config.\r\n     *\r\n     * If not, it then looks for the move inside the phase.\r\n     *\r\n     * If it doesn't find the move there, it looks at the global move definition.\r\n     *\r\n     * @param {object} ctx\r\n     * @param {string} name\r\n     * @param {string} playerID\r\n     */\r\n    function GetMove(ctx, name, playerID) {\r\n        const conf = GetPhase(ctx);\r\n        const stages = conf.turn.stages;\r\n        const { activePlayers } = ctx;\r\n        if (activePlayers &&\r\n            activePlayers[playerID] !== undefined &&\r\n            activePlayers[playerID] !== Stage.NULL &&\r\n            stages[activePlayers[playerID]] !== undefined &&\r\n            stages[activePlayers[playerID]].moves !== undefined) {\r\n            // Check if moves are defined for the player's stage.\r\n            const stage = stages[activePlayers[playerID]];\r\n            const moves = stage.moves;\r\n            if (name in moves) {\r\n                return moves[name];\r\n            }\r\n        }\r\n        else if (conf.moves) {\r\n            // Check if moves are defined for the current phase.\r\n            if (name in conf.moves) {\r\n                return conf.moves[name];\r\n            }\r\n        }\r\n        else if (name in moves) {\r\n            // Check for the move globally.\r\n            return moves[name];\r\n        }\r\n        return null;\r\n    }\r\n    function ProcessMove(state, action) {\r\n        let conf = GetPhase(state.ctx);\r\n        const move = GetMove(state.ctx, action.type, action.playerID);\r\n        const shouldCount = !move || typeof move === 'function' || move.noLimit !== true;\r\n        let { ctx } = state;\r\n        let { _activePlayersNumMoves } = ctx;\r\n        const { playerID } = action;\r\n        let numMoves = state.ctx.numMoves;\r\n        if (shouldCount) {\r\n            if (playerID == state.ctx.currentPlayer) {\r\n                numMoves++;\r\n            }\r\n            if (ctx.activePlayers)\r\n                _activePlayersNumMoves[playerID]++;\r\n        }\r\n        state = {\r\n            ...state,\r\n            ctx: {\r\n                ...ctx,\r\n                numMoves,\r\n                _activePlayersNumMoves,\r\n            },\r\n        };\r\n        if (ctx._activePlayersMoveLimit &&\r\n            _activePlayersNumMoves[playerID] >= ctx._activePlayersMoveLimit[playerID]) {\r\n            state = EndStage(state, { playerID, automatic: true });\r\n        }\r\n        const G = conf.turn.wrapped.onMove(state);\r\n        state = { ...state, G };\r\n        let events = [{ fn: OnMove }];\r\n        return Process(state, events);\r\n    }\r\n    function SetStageEvent(state, playerID, arg) {\r\n        return Process(state, [{ fn: EndStage, arg, playerID }]);\r\n    }\r\n    function EndStageEvent(state, playerID) {\r\n        return Process(state, [{ fn: EndStage, playerID }]);\r\n    }\r\n    function SetPhaseEvent(state, _playerID, newPhase) {\r\n        return Process(state, [\r\n            {\r\n                fn: EndPhase,\r\n                phase: state.ctx.phase,\r\n                turn: state.ctx.turn,\r\n                arg: { next: newPhase },\r\n            },\r\n        ]);\r\n    }\r\n    function EndPhaseEvent(state) {\r\n        return Process(state, [\r\n            { fn: EndPhase, phase: state.ctx.phase, turn: state.ctx.turn },\r\n        ]);\r\n    }\r\n    function EndTurnEvent(state, _playerID, arg) {\r\n        return Process(state, [\r\n            { fn: EndTurn, turn: state.ctx.turn, phase: state.ctx.phase, arg },\r\n        ]);\r\n    }\r\n    function PassEvent(state, _playerID, arg) {\r\n        return Process(state, [\r\n            {\r\n                fn: EndTurn,\r\n                turn: state.ctx.turn,\r\n                phase: state.ctx.phase,\r\n                force: true,\r\n                arg,\r\n            },\r\n        ]);\r\n    }\r\n    function EndGameEvent(state, _playerID, arg) {\r\n        return Process(state, [\r\n            { fn: EndGame, turn: state.ctx.turn, phase: state.ctx.phase, arg },\r\n        ]);\r\n    }\r\n    const eventHandlers = {\r\n        endStage: EndStageEvent,\r\n        setStage: SetStageEvent,\r\n        endTurn: EndTurnEvent,\r\n        pass: PassEvent,\r\n        endPhase: EndPhaseEvent,\r\n        setPhase: SetPhaseEvent,\r\n        endGame: EndGameEvent,\r\n        setActivePlayers: SetActivePlayersEvent,\r\n    };\r\n    let enabledEventNames = [];\r\n    if (events.endTurn !== false) {\r\n        enabledEventNames.push('endTurn');\r\n    }\r\n    if (events.pass !== false) {\r\n        enabledEventNames.push('pass');\r\n    }\r\n    if (events.endPhase !== false) {\r\n        enabledEventNames.push('endPhase');\r\n    }\r\n    if (events.setPhase !== false) {\r\n        enabledEventNames.push('setPhase');\r\n    }\r\n    if (events.endGame !== false) {\r\n        enabledEventNames.push('endGame');\r\n    }\r\n    if (events.setActivePlayers !== false) {\r\n        enabledEventNames.push('setActivePlayers');\r\n    }\r\n    if (events.endStage !== false) {\r\n        enabledEventNames.push('endStage');\r\n    }\r\n    if (events.setStage !== false) {\r\n        enabledEventNames.push('setStage');\r\n    }\r\n    function ProcessEvent(state, action) {\r\n        const { type, playerID, args } = action.payload;\r\n        if (eventHandlers.hasOwnProperty(type)) {\r\n            const eventArgs = [state, playerID].concat(args);\r\n            return eventHandlers[type].apply({}, eventArgs);\r\n        }\r\n        return state;\r\n    }\r\n    function IsPlayerActive(_G, ctx, playerID) {\r\n        if (ctx.activePlayers) {\r\n            return playerID in ctx.activePlayers;\r\n        }\r\n        return ctx.currentPlayer === playerID;\r\n    }\r\n    return {\r\n        ctx: (numPlayers) => ({\r\n            numPlayers,\r\n            turn: 0,\r\n            currentPlayer: '0',\r\n            playOrder: [...new Array(numPlayers)].map((_d, i) => i + ''),\r\n            playOrderPos: 0,\r\n            phase: startingPhase,\r\n            activePlayers: null,\r\n        }),\r\n        init: (state) => {\r\n            return Process(state, [{ fn: StartGame }]);\r\n        },\r\n        isPlayerActive: IsPlayerActive,\r\n        eventHandlers,\r\n        eventNames: Object.keys(eventHandlers),\r\n        enabledEventNames,\r\n        moveMap,\r\n        moveNames: [...moveNames.values()],\r\n        processMove: ProcessMove,\r\n        processEvent: ProcessEvent,\r\n        getMove: GetMove,\r\n    };\r\n}\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nfunction IsProcessed(game) {\r\n    return game.processMove !== undefined;\r\n}\r\n/**\r\n * Helper to generate the game move reducer. The returned\r\n * reducer has the following signature:\r\n *\r\n * (G, action, ctx) => {}\r\n *\r\n * You can roll your own if you like, or use any Redux\r\n * addon to generate such a reducer.\r\n *\r\n * The convention used in this framework is to\r\n * have action.type contain the name of the move, and\r\n * action.args contain any additional arguments as an\r\n * Array.\r\n */\r\nfunction ProcessGameConfig(game) {\r\n    // The Game() function has already been called on this\r\n    // config object, so just pass it through.\r\n    if (IsProcessed(game)) {\r\n        return game;\r\n    }\r\n    if (game.name === undefined)\r\n        game.name = 'default';\r\n    if (game.disableUndo === undefined)\r\n        game.disableUndo = false;\r\n    if (game.setup === undefined)\r\n        game.setup = () => ({});\r\n    if (game.moves === undefined)\r\n        game.moves = {};\r\n    if (game.playerView === undefined)\r\n        game.playerView = G => G;\r\n    if (game.plugins === undefined)\r\n        game.plugins = [];\r\n    game.plugins.forEach(plugin => {\r\n        if (plugin.name === undefined) {\r\n            throw new Error('Plugin missing name attribute');\r\n        }\r\n        if (plugin.name.includes(' ')) {\r\n            throw new Error(plugin.name + ': Plugin name must not include spaces');\r\n        }\r\n    });\r\n    if (game.name.includes(' ')) {\r\n        throw new Error(game.name + ': Game name must not include spaces');\r\n    }\r\n    const flow = Flow(game);\r\n    return {\r\n        ...game,\r\n        flow,\r\n        moveNames: flow.moveNames,\r\n        pluginNames: game.plugins.map(p => p.name),\r\n        processMove: (state, action) => {\r\n            let moveFn = flow.getMove(state.ctx, action.type, action.playerID);\r\n            if (IsLongFormMove(moveFn)) {\r\n                moveFn = moveFn.move;\r\n            }\r\n            if (moveFn instanceof Function) {\r\n                const fn = FnWrap(moveFn, game.plugins);\r\n                const ctxWithAPI = {\r\n                    ...EnhanceCtx(state),\r\n                    playerID: action.playerID,\r\n                };\r\n                let args = [];\r\n                if (action.args !== undefined) {\r\n                    args = args.concat(action.args);\r\n                }\r\n                return fn(state.G, ctxWithAPI, ...args);\r\n            }\r\n            error(`invalid move object: ${action.type}`);\r\n            return state.G;\r\n        },\r\n    };\r\n}\r\nfunction IsLongFormMove(move) {\r\n    return move instanceof Object && move.move !== undefined;\r\n}\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Returns true if a move can be undone.\r\n */\r\nconst CanUndoMove = (G, ctx, move) => {\r\n    function HasUndoable(move) {\r\n        return move.undoable !== undefined;\r\n    }\r\n    function IsFunction(undoable) {\r\n        return undoable instanceof Function;\r\n    }\r\n    if (!HasUndoable(move)) {\r\n        return true;\r\n    }\r\n    if (IsFunction(move.undoable)) {\r\n        return move.undoable(G, ctx);\r\n    }\r\n    return move.undoable;\r\n};\r\n/**\r\n * CreateGameReducer\r\n *\r\n * Creates the main game state reducer.\r\n */\r\nfunction CreateGameReducer({ game, isClient, }) {\r\n    game = ProcessGameConfig(game);\r\n    /**\r\n     * GameReducer\r\n     *\r\n     * Redux reducer that maintains the overall game state.\r\n     * @param {object} state - The state before the action.\r\n     * @param {object} action - A Redux action.\r\n     */\r\n    return (state = null, action) => {\r\n        switch (action.type) {\r\n            case GAME_EVENT: {\r\n                state = { ...state, deltalog: [] };\r\n                // Process game events only on the server.\r\n                // These events like `endTurn` typically\r\n                // contain code that may rely on secret state\r\n                // and cannot be computed on the client.\r\n                if (isClient) {\r\n                    return state;\r\n                }\r\n                // Disallow events once the game is over.\r\n                if (state.ctx.gameover !== undefined) {\r\n                    error(`cannot call event after game end`);\r\n                    return state;\r\n                }\r\n                // Ignore the event if the player isn't active.\r\n                if (action.payload.playerID !== null &&\r\n                    action.payload.playerID !== undefined &&\r\n                    !game.flow.isPlayerActive(state.G, state.ctx, action.payload.playerID)) {\r\n                    error(`disallowed event: ${action.payload.type}`);\r\n                    return state;\r\n                }\r\n                // Execute plugins.\r\n                state = Enhance(state, {\r\n                    game,\r\n                    isClient: false,\r\n                    playerID: action.payload.playerID,\r\n                });\r\n                // Process event.\r\n                let newState = game.flow.processEvent(state, action);\r\n                // Execute plugins.\r\n                newState = Flush(newState, { game, isClient: false });\r\n                return { ...newState, _stateID: state._stateID + 1 };\r\n            }\r\n            case MAKE_MOVE: {\r\n                state = { ...state, deltalog: [] };\r\n                // Check whether the move is allowed at this time.\r\n                const move = game.flow.getMove(state.ctx, action.payload.type, action.payload.playerID || state.ctx.currentPlayer);\r\n                if (move === null) {\r\n                    error(`disallowed move: ${action.payload.type}`);\r\n                    return state;\r\n                }\r\n                // Don't run move on client if move says so.\r\n                if (isClient && move.client === false) {\r\n                    return state;\r\n                }\r\n                // Disallow moves once the game is over.\r\n                if (state.ctx.gameover !== undefined) {\r\n                    error(`cannot make move after game end`);\r\n                    return state;\r\n                }\r\n                // Ignore the move if the player isn't active.\r\n                if (action.payload.playerID !== null &&\r\n                    action.payload.playerID !== undefined &&\r\n                    !game.flow.isPlayerActive(state.G, state.ctx, action.payload.playerID)) {\r\n                    error(`disallowed move: ${action.payload.type}`);\r\n                    return state;\r\n                }\r\n                // Execute plugins.\r\n                state = Enhance(state, {\r\n                    game,\r\n                    isClient,\r\n                    playerID: action.payload.playerID,\r\n                });\r\n                // Process the move.\r\n                let G = game.processMove(state, action.payload);\r\n                // The game declared the move as invalid.\r\n                if (G === INVALID_MOVE) {\r\n                    error(`invalid move: ${action.payload.type} args: ${action.payload.args}`);\r\n                    return state;\r\n                }\r\n                // Create a log entry for this move.\r\n                let logEntry = {\r\n                    action,\r\n                    _stateID: state._stateID,\r\n                    turn: state.ctx.turn,\r\n                    phase: state.ctx.phase,\r\n                };\r\n                if (move.redact === true) {\r\n                    logEntry.redact = true;\r\n                }\r\n                const newState = {\r\n                    ...state,\r\n                    G,\r\n                    deltalog: [logEntry],\r\n                    _stateID: state._stateID + 1,\r\n                };\r\n                // Some plugin indicated that it is not suitable to be\r\n                // materialized on the client (and must wait for the server\r\n                // response instead).\r\n                if (isClient && NoClient(newState, { game })) {\r\n                    return state;\r\n                }\r\n                state = newState;\r\n                // If we're on the client, just process the move\r\n                // and no triggers in multiplayer mode.\r\n                // These will be processed on the server, which\r\n                // will send back a state update.\r\n                if (isClient) {\r\n                    state = Flush(state, {\r\n                        game,\r\n                        isClient: true,\r\n                    });\r\n                    return state;\r\n                }\r\n                const prevTurnCount = state.ctx.turn;\r\n                // Allow the flow reducer to process any triggers that happen after moves.\r\n                state = game.flow.processMove(state, action.payload);\r\n                state = Flush(state, { game });\r\n                // Update undo / redo state.\r\n                // Only update undo stack if the turn has not been ended\r\n                if (state.ctx.turn === prevTurnCount && !game.disableUndo) {\r\n                    state._undo = state._undo.concat({\r\n                        G: state.G,\r\n                        ctx: state.ctx,\r\n                        moveType: action.payload.type,\r\n                    });\r\n                }\r\n                // Always reset redo stack when making a move\r\n                state._redo = [];\r\n                return state;\r\n            }\r\n            case RESET:\r\n            case UPDATE:\r\n            case SYNC: {\r\n                return action.state;\r\n            }\r\n            case UNDO: {\r\n                if (game.disableUndo) {\r\n                    error(\"Undo is not enabled\");\r\n                    return state;\r\n                }\r\n                const { _undo, _redo } = state;\r\n                if (_undo.length < 2) {\r\n                    return state;\r\n                }\r\n                const last = _undo[_undo.length - 1];\r\n                const restore = _undo[_undo.length - 2];\r\n                // Only allow undoable moves to be undone.\r\n                const lastMove = game.flow.getMove(restore.ctx, last.moveType, action.payload.playerID);\r\n                if (!CanUndoMove(state.G, state.ctx, lastMove)) {\r\n                    return state;\r\n                }\r\n                return {\r\n                    ...state,\r\n                    G: restore.G,\r\n                    ctx: restore.ctx,\r\n                    _undo: _undo.slice(0, _undo.length - 1),\r\n                    _redo: [last, ..._redo],\r\n                };\r\n            }\r\n            case REDO: {\r\n                const { _undo, _redo } = state;\r\n                if (game.disableUndo) {\r\n                    error(\"Redo is not enabled\");\r\n                    return state;\r\n                }\r\n                if (_redo.length == 0) {\r\n                    return state;\r\n                }\r\n                const first = _redo[0];\r\n                return {\r\n                    ...state,\r\n                    G: first.G,\r\n                    ctx: first.ctx,\r\n                    _undo: [..._undo, first],\r\n                    _redo: _redo.slice(1),\r\n                };\r\n            }\r\n            case PLUGIN: {\r\n                return ProcessAction(state, action, { game });\r\n            }\r\n            default: {\r\n                return state;\r\n            }\r\n        }\r\n    };\r\n}\n\nexport { CreateGameReducer as C, ProcessGameConfig as P };\n","var Flatted = (function (Primitive, primitive) {\n\n  /*!\n   * ISC License\n   *\n   * Copyright (c) 2018, Andrea Giammarchi, @WebReflection\n   *\n   * Permission to use, copy, modify, and/or distribute this software for any\n   * purpose with or without fee is hereby granted, provided that the above\n   * copyright notice and this permission notice appear in all copies.\n   *\n   * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n   * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n   * AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n   * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n   * LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE\n   * OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n   * PERFORMANCE OF THIS SOFTWARE.\n   */\n\n  var Flatted = {\n\n    parse: function parse(text) {\n      var input = JSON.parse(text, Primitives).map(primitives);\n      var value = input[0];\n      return typeof value === 'object' && value ?\n              revive(input, new Set, value) : value;\n    },\n\n    stringify: function stringify(value) {\n      for (var\n        firstRun,\n        known = new Map,\n        input = [],\n        output = [],\n        i = +set(known, input, value),\n        replace = function (key, value) {\n          if (firstRun) return (firstRun = !firstRun), value;\n          switch (typeof value) {\n            case 'object':\n              if (value === null) return value;\n            case primitive:\n              return known.get(value) || set(known, input, value);\n          }\n          return value;\n        };\n        i < input.length; i++\n      ) {\n        firstRun = true;\n        output[i] = JSON.stringify(input[i], replace);\n      }\n      return '[' + output.join(',') + ']';\n    }\n\n  };\n\n  return Flatted;\n\n  function revive(input, parsed, output) {\n    return Object.keys(output).reduce(\n      function (output, key) {\n        var value = output[key];\n        if (value instanceof Primitive) {\n          var tmp = input[value];\n          if (typeof tmp === 'object' && !parsed.has(tmp)) {\n            parsed.add(tmp);\n            output[key] = revive(input, parsed, tmp);\n          } else {\n            output[key] = tmp;\n          }\n        }\n        return output;\n      },\n      output\n    );\n  }\n\n  function set(known, input, value) {\n    var index = Primitive(input.push(value) - 1);\n    known.set(value, index);\n    return index;\n  }\n\n  function primitives(value) {\n    return value instanceof Primitive ? Primitive(value) : value;\n  }\n\n  function Primitives(key, value) {\n    return typeof value === primitive ? new Primitive(value) : value;\n  }\n\n}(String, 'string'));\nexport default Flatted;\nexport const parse = Flatted.parse;\nexport const stringify = Flatted.stringify;\n","import { o as makeMove, g as gameEvent, p as alea } from './turn-order-d7fe23d9.js';\nimport { C as CreateGameReducer } from './reducer-186c7602.js';\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Base class that bots can extend.\r\n */\r\nclass Bot {\r\n    constructor({ enumerate, seed, }) {\r\n        this.enumerateFn = enumerate;\r\n        this.seed = seed;\r\n        this.iterationCounter = 0;\r\n        this._opts = {};\r\n    }\r\n    addOpt({ key, range, initial, }) {\r\n        this._opts[key] = {\r\n            range,\r\n            value: initial,\r\n        };\r\n    }\r\n    getOpt(key) {\r\n        return this._opts[key].value;\r\n    }\r\n    setOpt(key, value) {\r\n        if (key in this._opts) {\r\n            this._opts[key].value = value;\r\n        }\r\n    }\r\n    opts() {\r\n        return this._opts;\r\n    }\r\n    enumerate(G, ctx, playerID) {\r\n        const actions = this.enumerateFn(G, ctx, playerID);\r\n        return actions.map(a => {\r\n            if ('payload' in a) {\r\n                return a;\r\n            }\r\n            if ('move' in a) {\r\n                return makeMove(a.move, a.args, playerID);\r\n            }\r\n            if ('event' in a) {\r\n                return gameEvent(a.event, a.args, playerID);\r\n            }\r\n        });\r\n    }\r\n    random(arg) {\r\n        let number;\r\n        if (this.seed !== undefined) {\r\n            let r = null;\r\n            if (this.prngstate) {\r\n                r = new alea('', { state: this.prngstate });\r\n            }\r\n            else {\r\n                r = new alea(this.seed, { state: true });\r\n            }\r\n            number = r();\r\n            this.prngstate = r.state();\r\n        }\r\n        else {\r\n            number = Math.random();\r\n        }\r\n        if (arg) {\r\n            if (Array.isArray(arg)) {\r\n                const id = Math.floor(number * arg.length);\r\n                return arg[id];\r\n            }\r\n            else {\r\n                return Math.floor(number * arg);\r\n            }\r\n        }\r\n        return number;\r\n    }\r\n}\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * The number of iterations to run before yielding to\r\n * the JS event loop (in async mode).\r\n */\r\nconst CHUNK_SIZE = 25;\r\n/**\r\n * Bot that uses Monte-Carlo Tree Search to find promising moves.\r\n */\r\nclass MCTSBot extends Bot {\r\n    constructor({ enumerate, seed, objectives, game, iterations, playoutDepth, iterationCallback, }) {\r\n        super({ enumerate, seed });\r\n        if (objectives === undefined) {\r\n            objectives = () => ({});\r\n        }\r\n        this.objectives = objectives;\r\n        this.iterationCallback = iterationCallback || (() => { });\r\n        this.reducer = CreateGameReducer({ game });\r\n        this.iterations = iterations;\r\n        this.playoutDepth = playoutDepth;\r\n        this.addOpt({\r\n            key: 'async',\r\n            initial: false,\r\n        });\r\n        this.addOpt({\r\n            key: 'iterations',\r\n            initial: typeof iterations === 'number' ? iterations : 1000,\r\n            range: { min: 1, max: 2000 },\r\n        });\r\n        this.addOpt({\r\n            key: 'playoutDepth',\r\n            initial: typeof playoutDepth === 'number' ? playoutDepth : 50,\r\n            range: { min: 1, max: 100 },\r\n        });\r\n    }\r\n    createNode({ state, parentAction, parent, playerID, }) {\r\n        const { G, ctx } = state;\r\n        let actions = [];\r\n        let objectives = [];\r\n        if (playerID !== undefined) {\r\n            actions = this.enumerate(G, ctx, playerID);\r\n            objectives = this.objectives(G, ctx, playerID);\r\n        }\r\n        else if (ctx.activePlayers) {\r\n            for (let playerID in ctx.activePlayers) {\r\n                actions = actions.concat(this.enumerate(G, ctx, playerID));\r\n                objectives = objectives.concat(this.objectives(G, ctx, playerID));\r\n            }\r\n        }\r\n        else {\r\n            actions = actions.concat(this.enumerate(G, ctx, ctx.currentPlayer));\r\n            objectives = objectives.concat(this.objectives(G, ctx, ctx.currentPlayer));\r\n        }\r\n        return {\r\n            state,\r\n            parent,\r\n            parentAction,\r\n            actions,\r\n            objectives,\r\n            children: [],\r\n            visits: 0,\r\n            value: 0,\r\n        };\r\n    }\r\n    select(node) {\r\n        // This node has unvisited children.\r\n        if (node.actions.length > 0) {\r\n            return node;\r\n        }\r\n        // This is a terminal node.\r\n        if (node.children.length == 0) {\r\n            return node;\r\n        }\r\n        let selectedChild = null;\r\n        let best = 0.0;\r\n        for (const child of node.children) {\r\n            const childVisits = child.visits + Number.EPSILON;\r\n            const uct = child.value / childVisits +\r\n                Math.sqrt((2 * Math.log(node.visits)) / childVisits);\r\n            if (selectedChild == null || uct > best) {\r\n                best = uct;\r\n                selectedChild = child;\r\n            }\r\n        }\r\n        return this.select(selectedChild);\r\n    }\r\n    expand(node) {\r\n        const actions = node.actions;\r\n        if (actions.length == 0 || node.state.ctx.gameover !== undefined) {\r\n            return node;\r\n        }\r\n        const id = this.random(actions.length);\r\n        const action = actions[id];\r\n        node.actions.splice(id, 1);\r\n        const childState = this.reducer(node.state, action);\r\n        const childNode = this.createNode({\r\n            state: childState,\r\n            parentAction: action,\r\n            parent: node,\r\n        });\r\n        node.children.push(childNode);\r\n        return childNode;\r\n    }\r\n    playout({ state }) {\r\n        let playoutDepth = this.getOpt('playoutDepth');\r\n        if (typeof this.playoutDepth === 'function') {\r\n            playoutDepth = this.playoutDepth(state.G, state.ctx);\r\n        }\r\n        for (let i = 0; i < playoutDepth && state.ctx.gameover === undefined; i++) {\r\n            const { G, ctx } = state;\r\n            let playerID = ctx.currentPlayer;\r\n            if (ctx.activePlayers) {\r\n                playerID = Object.keys(ctx.activePlayers)[0];\r\n            }\r\n            const moves = this.enumerate(G, ctx, playerID);\r\n            // Check if any objectives are met.\r\n            const objectives = this.objectives(G, ctx, playerID);\r\n            const score = Object.keys(objectives).reduce((score, key) => {\r\n                const objective = objectives[key];\r\n                if (objective.checker(G, ctx)) {\r\n                    return score + objective.weight;\r\n                }\r\n                return score;\r\n            }, 0.0);\r\n            // If so, stop and return the score.\r\n            if (score > 0) {\r\n                return { score };\r\n            }\r\n            if (!moves || moves.length == 0) {\r\n                return undefined;\r\n            }\r\n            const id = this.random(moves.length);\r\n            const childState = this.reducer(state, moves[id]);\r\n            state = childState;\r\n        }\r\n        return state.ctx.gameover;\r\n    }\r\n    backpropagate(node, result = {}) {\r\n        node.visits++;\r\n        if (result.score !== undefined) {\r\n            node.value += result.score;\r\n        }\r\n        if (result.draw === true) {\r\n            node.value += 0.5;\r\n        }\r\n        if (node.parentAction &&\r\n            result.winner === node.parentAction.payload.playerID) {\r\n            node.value++;\r\n        }\r\n        if (node.parent) {\r\n            this.backpropagate(node.parent, result);\r\n        }\r\n    }\r\n    play(state, playerID) {\r\n        const root = this.createNode({ state, playerID });\r\n        let numIterations = this.getOpt('iterations');\r\n        if (typeof this.iterations === 'function') {\r\n            numIterations = this.iterations(state.G, state.ctx);\r\n        }\r\n        const getResult = () => {\r\n            let selectedChild = null;\r\n            for (const child of root.children) {\r\n                if (selectedChild == null || child.visits > selectedChild.visits) {\r\n                    selectedChild = child;\r\n                }\r\n            }\r\n            const action = selectedChild && selectedChild.parentAction;\r\n            const metadata = root;\r\n            return { action, metadata };\r\n        };\r\n        return new Promise(resolve => {\r\n            const iteration = () => {\r\n                for (let i = 0; i < CHUNK_SIZE && this.iterationCounter < numIterations; i++) {\r\n                    const leaf = this.select(root);\r\n                    const child = this.expand(leaf);\r\n                    const result = this.playout(child);\r\n                    this.backpropagate(child, result);\r\n                    this.iterationCounter++;\r\n                }\r\n                this.iterationCallback({\r\n                    iterationCounter: this.iterationCounter,\r\n                    numIterations,\r\n                    metadata: root,\r\n                });\r\n            };\r\n            this.iterationCounter = 0;\r\n            if (this.getOpt('async')) {\r\n                const asyncIteration = () => {\r\n                    if (this.iterationCounter < numIterations) {\r\n                        iteration();\r\n                        setTimeout(asyncIteration, 0);\r\n                    }\r\n                    else {\r\n                        resolve(getResult());\r\n                    }\r\n                };\r\n                asyncIteration();\r\n            }\r\n            else {\r\n                while (this.iterationCounter < numIterations) {\r\n                    iteration();\r\n                }\r\n                resolve(getResult());\r\n            }\r\n        });\r\n    }\r\n}\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Bot that picks a move at random.\r\n */\r\nclass RandomBot extends Bot {\r\n    play({ G, ctx }, playerID) {\r\n        const moves = this.enumerate(G, ctx, playerID);\r\n        return Promise.resolve({ action: this.random(moves) });\r\n    }\r\n}\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Make a single move on the client with a bot.\r\n *\r\n * @param {...object} client - The game client.\r\n * @param {...object} bot - The bot.\r\n */\r\nasync function Step(client, bot) {\r\n    const state = client.store.getState();\r\n    let playerID = state.ctx.currentPlayer;\r\n    if (state.ctx.activePlayers) {\r\n        playerID = Object.keys(state.ctx.activePlayers)[0];\r\n    }\r\n    const { action, metadata } = await bot.play(state, playerID);\r\n    if (action) {\r\n        const a = {\r\n            ...action,\r\n            payload: {\r\n                ...action.payload,\r\n                metadata,\r\n            },\r\n        };\r\n        client.store.dispatch(a);\r\n        return a;\r\n    }\r\n}\r\n/**\r\n * Simulates the game till the end or a max depth.\r\n *\r\n * @param {...object} game - The game object.\r\n * @param {...object} bots - An array of bots.\r\n * @param {...object} state - The game state to start from.\r\n */\r\nasync function Simulate({ game, bots, state, depth, }) {\r\n    if (depth === undefined)\r\n        depth = 10000;\r\n    const reducer = CreateGameReducer({ game });\r\n    let metadata = null;\r\n    let iter = 0;\r\n    while (state.ctx.gameover === undefined && iter < depth) {\r\n        let playerID = state.ctx.currentPlayer;\r\n        if (state.ctx.activePlayers) {\r\n            playerID = Object.keys(state.ctx.activePlayers)[0];\r\n        }\r\n        const bot = bots instanceof Bot ? bots : bots[playerID];\r\n        const t = await bot.play(state, playerID);\r\n        if (!t.action) {\r\n            break;\r\n        }\r\n        metadata = t.metadata;\r\n        state = reducer(state, t.action);\r\n        iter++;\r\n    }\r\n    return { state, metadata };\r\n}\n\nexport { Bot as B, MCTSBot as M, RandomBot as R, Step as S, Simulate as a };\n","import { e as error, s as sync, M as MAKE_MOVE } from './turn-order-d7fe23d9.js';\nimport { stringify, parse } from 'flatted';\nimport { M as MCTSBot, R as RandomBot, S as Step } from './ai-11415cb8.js';\n\nfunction noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction subscribe(store, callback) {\n    const unsub = store.subscribe(callback);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, fn) {\n    return definition[1]\n        ? assign({}, assign(ctx.$$scope.ctx, definition[1](fn ? fn(ctx) : {})))\n        : ctx.$$scope.ctx;\n}\nfunction get_slot_changes(definition, ctx, changed, fn) {\n    return definition[1]\n        ? assign({}, assign(ctx.$$scope.changed || {}, definition[1](fn ? fn(changed) : {})))\n        : ctx.$$scope.changed || {};\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n\nconst tasks = new Set();\nlet running = false;\nfunction run_tasks() {\n    tasks.forEach(task => {\n        if (!task[0](now())) {\n            tasks.delete(task);\n            task[1]();\n        }\n    });\n    running = tasks.size > 0;\n    if (running)\n        raf(run_tasks);\n}\nfunction loop(fn) {\n    let task;\n    if (!running) {\n        running = true;\n        raf(run_tasks);\n    }\n    return {\n        promise: new Promise(fulfil => {\n            tasks.add(task = [fn, fulfil]);\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else\n        node.setAttribute(attribute, value);\n}\nfunction to_number(value) {\n    return value === '' ? undefined : +value;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    if (value != null || input.value) {\n        input.value = value;\n    }\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\n\nlet stylesheet;\nlet active = 0;\nlet current_rules = {};\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    if (!current_rules[name]) {\n        if (!stylesheet) {\n            const style = element('style');\n            document.head.appendChild(style);\n            stylesheet = style.sheet;\n        }\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    node.style.animation = (node.style.animation || '')\n        .split(', ')\n        .filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    )\n        .join(', ');\n    if (name && !--active)\n        clear_rules();\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        let i = stylesheet.cssRules.length;\n        while (i--)\n            stylesheet.deleteRule(i);\n        current_rules = {};\n    });\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error(`Function called outside component initialization`);\n    return current_component;\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = current_component;\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n\nconst dirty_components = [];\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction flush() {\n    const seen_callbacks = new Set();\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        while (dirty_components.length) {\n            const component = dirty_components.shift();\n            set_current_component(component);\n            update(component.$$);\n        }\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                callback();\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n}\nfunction update($$) {\n    if ($$.fragment) {\n        $$.update($$.dirty);\n        run_all($$.before_update);\n        $$.fragment.p($$.dirty, $$.ctx);\n        $$.dirty = null;\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro  we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro  needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nconst globals = (typeof window !== 'undefined' ? window : global);\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    if (component.$$.fragment) {\n        run_all(component.$$.on_destroy);\n        component.$$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        component.$$.on_destroy = component.$$.fragment = null;\n        component.$$.ctx = {};\n    }\n}\nfunction make_dirty(component, key) {\n    if (!component.$$.dirty) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty = blank_object();\n    }\n    component.$$.dirty[key] = true;\n}\nfunction init(component, options, instance, create_fragment, not_equal, prop_names) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const props = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props: prop_names,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty: null\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, props, (key, ret, value = ret) => {\n            if ($$.ctx && not_equal($$.ctx[key], $$.ctx[key] = value)) {\n                if ($$.bound[key])\n                    $$.bound[key](value);\n                if (ready)\n                    make_dirty(component, key);\n            }\n            return ret;\n        })\n        : props;\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    $$.fragment = create_fragment($$.ctx);\n    if (options.target) {\n        if (options.hydrate) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment.l(children(options.target));\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set() {\n        // overridden by instance, if it has props\n    }\n}\n\nconst subscriber_queue = [];\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\n\nfunction cubicOut(t) {\n    const f = t - 1.0;\n    return f * f * f + 1.0;\n}\n\nfunction fly(node, { delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 }) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * x}px, ${(1 - t) * y}px);\n\t\t\topacity: ${target_opacity - (od * u)}`\n    };\n}\n\n/* src/client/debug/Menu.svelte generated by Svelte v3.12.1 */\n\nfunction add_css() {\n\tvar style = element(\"style\");\n\tstyle.id = 'svelte-19bfq8g-style';\n\tstyle.textContent = \".menu.svelte-19bfq8g{display:flex;margin-top:-10px;flex-direction:row;border:1px solid #ccc;border-radius:5px 5px 0 0;height:25px;line-height:25px;margin-right:-500px;transform-origin:bottom right;transform:rotate(-90deg) translate(0, -500px)}.menu-item.svelte-19bfq8g{line-height:25px;cursor:pointer;background:#fefefe;color:#555;padding-left:15px;padding-right:15px;text-align:center}.menu-item.svelte-19bfq8g:last-child{border-radius:0 5px 0 0}.menu-item.svelte-19bfq8g:first-child{border-radius:5px 0 0 0}.menu-item.active.svelte-19bfq8g{cursor:default;font-weight:bold;background:#ddd;color:#555}.menu-item.svelte-19bfq8g:hover{background:#ddd;color:#555}\";\n\tappend(document.head, style);\n}\n\nfunction get_each_context(ctx, list, i) {\n\tconst child_ctx = Object.create(ctx);\n\tchild_ctx.key = list[i][0];\n\tchild_ctx.label = list[i][1].label;\n\treturn child_ctx;\n}\n\n// (55:2) {#each Object.entries(panes).reverse() as [key, {label}\nfunction create_each_block(ctx) {\n\tvar div, t0_value = ctx.label + \"\", t0, t1, dispose;\n\n\tfunction click_handler() {\n\t\treturn ctx.click_handler(ctx);\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tt0 = text(t0_value);\n\t\t\tt1 = space();\n\t\t\tattr(div, \"class\", \"menu-item svelte-19bfq8g\");\n\t\t\ttoggle_class(div, \"active\", ctx.pane == ctx.key);\n\t\t\tdispose = listen(div, \"click\", click_handler);\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, t0);\n\t\t\tappend(div, t1);\n\t\t},\n\n\t\tp(changed, new_ctx) {\n\t\t\tctx = new_ctx;\n\t\t\tif ((changed.panes) && t0_value !== (t0_value = ctx.label + \"\")) {\n\t\t\t\tset_data(t0, t0_value);\n\t\t\t}\n\n\t\t\tif ((changed.pane || changed.panes)) {\n\t\t\t\ttoggle_class(div, \"active\", ctx.pane == ctx.key);\n\t\t\t}\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(div);\n\t\t\t}\n\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction create_fragment(ctx) {\n\tvar div;\n\n\tlet each_value = Object.entries(ctx.panes).reverse();\n\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block(get_each_context(ctx, each_value, i));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\t\t\tattr(div, \"class\", \"menu svelte-19bfq8g\");\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(div, null);\n\t\t\t}\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif (changed.pane || changed.panes) {\n\t\t\t\teach_value = Object.entries(ctx.panes).reverse();\n\n\t\t\t\tlet i;\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(changed, child_ctx);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\teach_blocks[i].m(div, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (; i < each_blocks.length; i += 1) {\n\t\t\t\t\teach_blocks[i].d(1);\n\t\t\t\t}\n\t\t\t\teach_blocks.length = each_value.length;\n\t\t\t}\n\t\t},\n\n\t\ti: noop,\n\t\to: noop,\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(div);\n\t\t\t}\n\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t}\n\t};\n}\n\nfunction instance($$self, $$props, $$invalidate) {\n\tlet { pane, panes } = $$props;\n  const dispatch = createEventDispatcher();\n\n\tconst click_handler = ({ key }) => dispatch('change', key);\n\n\t$$self.$set = $$props => {\n\t\tif ('pane' in $$props) $$invalidate('pane', pane = $$props.pane);\n\t\tif ('panes' in $$props) $$invalidate('panes', panes = $$props.panes);\n\t};\n\n\treturn { pane, panes, dispatch, click_handler };\n}\n\nclass Menu extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-19bfq8g-style\")) add_css();\n\t\tinit(this, options, instance, create_fragment, safe_not_equal, [\"pane\", \"panes\"]);\n\t}\n}\n\n/* src/client/debug/main/Hotkey.svelte generated by Svelte v3.12.1 */\n\nfunction add_css$1() {\n\tvar style = element(\"style\");\n\tstyle.id = 'svelte-1olzq4i-style';\n\tstyle.textContent = \".key.svelte-1olzq4i{display:flex;flex-direction:row;align-items:center}.key-box.svelte-1olzq4i{cursor:pointer;min-width:10px;padding-left:5px;padding-right:5px;height:20px;line-height:20px;text-align:center;border:1px solid #ccc;box-shadow:1px 1px 1px #888;background:#eee;color:#444}.key-box.svelte-1olzq4i:hover{background:#ddd}.key.active.svelte-1olzq4i .key-box.svelte-1olzq4i{background:#ddd;border:1px solid #999;box-shadow:none}.label.svelte-1olzq4i{margin-left:10px}\";\n\tappend(document.head, style);\n}\n\n// (77:2) {#if label}\nfunction create_if_block(ctx) {\n\tvar div, t;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tt = text(ctx.label);\n\t\t\tattr(div, \"class\", \"label svelte-1olzq4i\");\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, t);\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif (changed.label) {\n\t\t\t\tset_data(t, ctx.label);\n\t\t\t}\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(div);\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction create_fragment$1(ctx) {\n\tvar div1, div0, t0, t1, dispose;\n\n\tvar if_block = (ctx.label) && create_if_block(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tdiv1 = element(\"div\");\n\t\t\tdiv0 = element(\"div\");\n\t\t\tt0 = text(ctx.value);\n\t\t\tt1 = space();\n\t\t\tif (if_block) if_block.c();\n\t\t\tattr(div0, \"class\", \"key-box svelte-1olzq4i\");\n\t\t\tattr(div1, \"class\", \"key svelte-1olzq4i\");\n\t\t\ttoggle_class(div1, \"active\", ctx.active);\n\n\t\t\tdispose = [\n\t\t\t\tlisten(window, \"keydown\", ctx.Keypress),\n\t\t\t\tlisten(div0, \"click\", ctx.Activate)\n\t\t\t];\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div1, anchor);\n\t\t\tappend(div1, div0);\n\t\t\tappend(div0, t0);\n\t\t\tappend(div1, t1);\n\t\t\tif (if_block) if_block.m(div1, null);\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif (changed.value) {\n\t\t\t\tset_data(t0, ctx.value);\n\t\t\t}\n\n\t\t\tif (ctx.label) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(changed, ctx);\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(div1, null);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = null;\n\t\t\t}\n\n\t\t\tif (changed.active) {\n\t\t\t\ttoggle_class(div1, \"active\", ctx.active);\n\t\t\t}\n\t\t},\n\n\t\ti: noop,\n\t\to: noop,\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(div1);\n\t\t\t}\n\n\t\t\tif (if_block) if_block.d();\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\nfunction instance$1($$self, $$props, $$invalidate) {\n\tlet $disableHotkeys;\n\n\tlet { value, onPress = null, label = null, disable = false } = $$props;\n\n  const { disableHotkeys } = getContext('hotkeys'); component_subscribe($$self, disableHotkeys, $$value => { $disableHotkeys = $$value; $$invalidate('$disableHotkeys', $disableHotkeys); });\n\n  let active = false;\n\n  function Deactivate() {\n    $$invalidate('active', active = false);\n  }\n\n  function Activate() {\n    $$invalidate('active', active = true);\n    setTimeout(Deactivate, 200);\n    if (onPress) {\n      setTimeout(onPress, 1);\n    }\n  }\n\n  function Keypress(e) {\n    if (\n      !$disableHotkeys && !disable &&\n      !e.ctrlKey && !e.metaKey &&\n      e.key == value\n    ) {\n      e.preventDefault();\n      Activate();\n    }\n  }\n\n\t$$self.$set = $$props => {\n\t\tif ('value' in $$props) $$invalidate('value', value = $$props.value);\n\t\tif ('onPress' in $$props) $$invalidate('onPress', onPress = $$props.onPress);\n\t\tif ('label' in $$props) $$invalidate('label', label = $$props.label);\n\t\tif ('disable' in $$props) $$invalidate('disable', disable = $$props.disable);\n\t};\n\n\treturn {\n\t\tvalue,\n\t\tonPress,\n\t\tlabel,\n\t\tdisable,\n\t\tdisableHotkeys,\n\t\tactive,\n\t\tActivate,\n\t\tKeypress\n\t};\n}\n\nclass Hotkey extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-1olzq4i-style\")) add_css$1();\n\t\tinit(this, options, instance$1, create_fragment$1, safe_not_equal, [\"value\", \"onPress\", \"label\", \"disable\"]);\n\t}\n}\n\n/* src/client/debug/main/InteractiveFunction.svelte generated by Svelte v3.12.1 */\n\nfunction add_css$2() {\n\tvar style = element(\"style\");\n\tstyle.id = 'svelte-1mppqmp-style';\n\tstyle.textContent = \".move.svelte-1mppqmp{display:flex;flex-direction:row;cursor:pointer;margin-left:10px;color:#666}.move.svelte-1mppqmp:hover{color:#333}.move.active.svelte-1mppqmp{color:#111;font-weight:bold}.arg-field.svelte-1mppqmp{outline:none;font-family:monospace}\";\n\tappend(document.head, style);\n}\n\nfunction create_fragment$2(ctx) {\n\tvar div, span0, t0, t1, span1, t3, span2, t4, span3, dispose;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tspan0 = element(\"span\");\n\t\t\tt0 = text(ctx.name);\n\t\t\tt1 = space();\n\t\t\tspan1 = element(\"span\");\n\t\t\tspan1.textContent = \"(\";\n\t\t\tt3 = space();\n\t\t\tspan2 = element(\"span\");\n\t\t\tt4 = space();\n\t\t\tspan3 = element(\"span\");\n\t\t\tspan3.textContent = \")\";\n\t\t\tattr(span2, \"class\", \"arg-field svelte-1mppqmp\");\n\t\t\tattr(span2, \"contenteditable\", \"\");\n\t\t\tattr(div, \"class\", \"move svelte-1mppqmp\");\n\t\t\ttoggle_class(div, \"active\", ctx.active);\n\n\t\t\tdispose = [\n\t\t\t\tlisten(span2, \"blur\", ctx.Deactivate),\n\t\t\t\tlisten(span2, \"keypress\", stop_propagation(keypress_handler)),\n\t\t\t\tlisten(span2, \"keydown\", ctx.OnKeyDown),\n\t\t\t\tlisten(div, \"click\", ctx.Activate)\n\t\t\t];\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, span0);\n\t\t\tappend(span0, t0);\n\t\t\tappend(div, t1);\n\t\t\tappend(div, span1);\n\t\t\tappend(div, t3);\n\t\t\tappend(div, span2);\n\t\t\tctx.span2_binding(span2);\n\t\t\tappend(div, t4);\n\t\t\tappend(div, span3);\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif (changed.name) {\n\t\t\t\tset_data(t0, ctx.name);\n\t\t\t}\n\n\t\t\tif (changed.active) {\n\t\t\t\ttoggle_class(div, \"active\", ctx.active);\n\t\t\t}\n\t\t},\n\n\t\ti: noop,\n\t\to: noop,\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(div);\n\t\t\t}\n\n\t\t\tctx.span2_binding(null);\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\nconst keypress_handler = () => {};\n\nfunction instance$2($$self, $$props, $$invalidate) {\n\tlet { Activate, Deactivate, name, active } = $$props;\n  let span;\n  const dispatch = createEventDispatcher();\n\n  function Submit() {\n    try {\n      const value = span.innerText;\n      let argArray = new Function(`return [${value}]`)();\n      dispatch('submit', argArray);\n    } catch (error) {\n      dispatch('error', error);\n    }\n    $$invalidate('span', span.innerText = '', span);\n  }\n\n  function OnKeyDown(e) {\n    if (e.key == 'Enter') {\n      e.preventDefault();\n      Submit();\n    }\n\n    if (e.key == 'Escape') {\n      e.preventDefault();\n      Deactivate();\n    }\n  }\n\n  afterUpdate(() => {\n    if (active) {\n      span.focus();\n    } else {\n      span.blur();\n    }\n  });\n\n\tfunction span2_binding($$value) {\n\t\tbinding_callbacks[$$value ? 'unshift' : 'push'](() => {\n\t\t\t$$invalidate('span', span = $$value);\n\t\t});\n\t}\n\n\t$$self.$set = $$props => {\n\t\tif ('Activate' in $$props) $$invalidate('Activate', Activate = $$props.Activate);\n\t\tif ('Deactivate' in $$props) $$invalidate('Deactivate', Deactivate = $$props.Deactivate);\n\t\tif ('name' in $$props) $$invalidate('name', name = $$props.name);\n\t\tif ('active' in $$props) $$invalidate('active', active = $$props.active);\n\t};\n\n\treturn {\n\t\tActivate,\n\t\tDeactivate,\n\t\tname,\n\t\tactive,\n\t\tspan,\n\t\tOnKeyDown,\n\t\tspan2_binding\n\t};\n}\n\nclass InteractiveFunction extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-1mppqmp-style\")) add_css$2();\n\t\tinit(this, options, instance$2, create_fragment$2, safe_not_equal, [\"Activate\", \"Deactivate\", \"name\", \"active\"]);\n\t}\n}\n\n/* src/client/debug/main/Move.svelte generated by Svelte v3.12.1 */\n\nfunction add_css$3() {\n\tvar style = element(\"style\");\n\tstyle.id = 'svelte-smqssc-style';\n\tstyle.textContent = \".move-error.svelte-smqssc{color:#a00;font-weight:bold}.wrapper.svelte-smqssc{display:flex;flex-direction:row;align-items:center}\";\n\tappend(document.head, style);\n}\n\n// (65:2) {#if error}\nfunction create_if_block$1(ctx) {\n\tvar span, t;\n\n\treturn {\n\t\tc() {\n\t\t\tspan = element(\"span\");\n\t\t\tt = text(ctx.error);\n\t\t\tattr(span, \"class\", \"move-error svelte-smqssc\");\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, span, anchor);\n\t\t\tappend(span, t);\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif (changed.error) {\n\t\t\t\tset_data(t, ctx.error);\n\t\t\t}\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(span);\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction create_fragment$3(ctx) {\n\tvar div1, div0, t0, t1, current;\n\n\tvar hotkey = new Hotkey({\n\t\tprops: { value: ctx.shortcut, onPress: ctx.Activate }\n\t});\n\n\tvar interactivefunction = new InteractiveFunction({\n\t\tprops: {\n\t\tActivate: ctx.Activate,\n\t\tDeactivate: ctx.Deactivate,\n\t\tname: ctx.name,\n\t\tactive: ctx.active\n\t}\n\t});\n\tinteractivefunction.$on(\"submit\", ctx.Submit);\n\tinteractivefunction.$on(\"error\", ctx.Error);\n\n\tvar if_block = (ctx.error) && create_if_block$1(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tdiv1 = element(\"div\");\n\t\t\tdiv0 = element(\"div\");\n\t\t\thotkey.$$.fragment.c();\n\t\t\tt0 = space();\n\t\t\tinteractivefunction.$$.fragment.c();\n\t\t\tt1 = space();\n\t\t\tif (if_block) if_block.c();\n\t\t\tattr(div0, \"class\", \"wrapper svelte-smqssc\");\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div1, anchor);\n\t\t\tappend(div1, div0);\n\t\t\tmount_component(hotkey, div0, null);\n\t\t\tappend(div0, t0);\n\t\t\tmount_component(interactivefunction, div0, null);\n\t\t\tappend(div1, t1);\n\t\t\tif (if_block) if_block.m(div1, null);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tvar hotkey_changes = {};\n\t\t\tif (changed.shortcut) hotkey_changes.value = ctx.shortcut;\n\t\t\thotkey.$set(hotkey_changes);\n\n\t\t\tvar interactivefunction_changes = {};\n\t\t\tif (changed.name) interactivefunction_changes.name = ctx.name;\n\t\t\tif (changed.active) interactivefunction_changes.active = ctx.active;\n\t\t\tinteractivefunction.$set(interactivefunction_changes);\n\n\t\t\tif (ctx.error) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(changed, ctx);\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$1(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(div1, null);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = null;\n\t\t\t}\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(hotkey.$$.fragment, local);\n\n\t\t\ttransition_in(interactivefunction.$$.fragment, local);\n\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\ttransition_out(hotkey.$$.fragment, local);\n\t\t\ttransition_out(interactivefunction.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(div1);\n\t\t\t}\n\n\t\t\tdestroy_component(hotkey);\n\n\t\t\tdestroy_component(interactivefunction);\n\n\t\t\tif (if_block) if_block.d();\n\t\t}\n\t};\n}\n\nfunction instance$3($$self, $$props, $$invalidate) {\n\tlet { shortcut, name, fn } = $$props;\n\n  const {disableHotkeys} = getContext('hotkeys');\n\n  let error$1 = '';\n  let active = false;\n\n  function Activate() {\n    disableHotkeys.set(true);\n    $$invalidate('active', active = true);\n  }\n\n  function Deactivate() {\n    disableHotkeys.set(false);\n    $$invalidate('error', error$1 = '');\n    $$invalidate('active', active = false);\n  }\n\n  function Submit(e) {\n    $$invalidate('error', error$1 = '');\n    Deactivate();\n    fn.apply(this, e.detail);\n  }\n\n  function Error(e) {\n    $$invalidate('error', error$1 = e.detail);\n    error(e.detail);\n  }\n\n\t$$self.$set = $$props => {\n\t\tif ('shortcut' in $$props) $$invalidate('shortcut', shortcut = $$props.shortcut);\n\t\tif ('name' in $$props) $$invalidate('name', name = $$props.name);\n\t\tif ('fn' in $$props) $$invalidate('fn', fn = $$props.fn);\n\t};\n\n\treturn {\n\t\tshortcut,\n\t\tname,\n\t\tfn,\n\t\terror: error$1,\n\t\tactive,\n\t\tActivate,\n\t\tDeactivate,\n\t\tSubmit,\n\t\tError\n\t};\n}\n\nclass Move extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-smqssc-style\")) add_css$3();\n\t\tinit(this, options, instance$3, create_fragment$3, safe_not_equal, [\"shortcut\", \"name\", \"fn\"]);\n\t}\n}\n\n/* src/client/debug/main/Controls.svelte generated by Svelte v3.12.1 */\n\nfunction add_css$4() {\n\tvar style = element(\"style\");\n\tstyle.id = 'svelte-1x2w9i0-style';\n\tstyle.textContent = \"li.svelte-1x2w9i0{list-style:none;margin:none;margin-bottom:5px}\";\n\tappend(document.head, style);\n}\n\nfunction create_fragment$4(ctx) {\n\tvar section, li0, t0, li1, t1, li2, t2, li3, current;\n\n\tvar hotkey0 = new Hotkey({\n\t\tprops: {\n\t\tvalue: \"1\",\n\t\tonPress: ctx.client.reset,\n\t\tlabel: \"reset\"\n\t}\n\t});\n\n\tvar hotkey1 = new Hotkey({\n\t\tprops: {\n\t\tvalue: \"2\",\n\t\tonPress: ctx.Save,\n\t\tlabel: \"save\"\n\t}\n\t});\n\n\tvar hotkey2 = new Hotkey({\n\t\tprops: {\n\t\tvalue: \"3\",\n\t\tonPress: ctx.Restore,\n\t\tlabel: \"restore\"\n\t}\n\t});\n\n\tvar hotkey3 = new Hotkey({\n\t\tprops: {\n\t\tvalue: \".\",\n\t\tdisable: true,\n\t\tlabel: \"hide\"\n\t}\n\t});\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\tli0 = element(\"li\");\n\t\t\thotkey0.$$.fragment.c();\n\t\t\tt0 = space();\n\t\t\tli1 = element(\"li\");\n\t\t\thotkey1.$$.fragment.c();\n\t\t\tt1 = space();\n\t\t\tli2 = element(\"li\");\n\t\t\thotkey2.$$.fragment.c();\n\t\t\tt2 = space();\n\t\t\tli3 = element(\"li\");\n\t\t\thotkey3.$$.fragment.c();\n\t\t\tattr(li0, \"class\", \"svelte-1x2w9i0\");\n\t\t\tattr(li1, \"class\", \"svelte-1x2w9i0\");\n\t\t\tattr(li2, \"class\", \"svelte-1x2w9i0\");\n\t\t\tattr(li3, \"class\", \"svelte-1x2w9i0\");\n\t\t\tattr(section, \"id\", \"debug-controls\");\n\t\t\tattr(section, \"class\", \"controls\");\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tappend(section, li0);\n\t\t\tmount_component(hotkey0, li0, null);\n\t\t\tappend(section, t0);\n\t\t\tappend(section, li1);\n\t\t\tmount_component(hotkey1, li1, null);\n\t\t\tappend(section, t1);\n\t\t\tappend(section, li2);\n\t\t\tmount_component(hotkey2, li2, null);\n\t\t\tappend(section, t2);\n\t\t\tappend(section, li3);\n\t\t\tmount_component(hotkey3, li3, null);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tvar hotkey0_changes = {};\n\t\t\tif (changed.client) hotkey0_changes.onPress = ctx.client.reset;\n\t\t\thotkey0.$set(hotkey0_changes);\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(hotkey0.$$.fragment, local);\n\n\t\t\ttransition_in(hotkey1.$$.fragment, local);\n\n\t\t\ttransition_in(hotkey2.$$.fragment, local);\n\n\t\t\ttransition_in(hotkey3.$$.fragment, local);\n\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\ttransition_out(hotkey0.$$.fragment, local);\n\t\t\ttransition_out(hotkey1.$$.fragment, local);\n\t\t\ttransition_out(hotkey2.$$.fragment, local);\n\t\t\ttransition_out(hotkey3.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(section);\n\t\t\t}\n\n\t\t\tdestroy_component(hotkey0);\n\n\t\t\tdestroy_component(hotkey1);\n\n\t\t\tdestroy_component(hotkey2);\n\n\t\t\tdestroy_component(hotkey3);\n\t\t}\n\t};\n}\n\nfunction instance$4($$self, $$props, $$invalidate) {\n\tlet { client } = $$props;\n\n  function Save() {\n    // get state to persist and overwrite deltalog, _undo, and _redo\n    const state = client.getState();\n    const json = stringify({\n      ...state,\n      _undo: [],\n      _redo: [],\n      deltalog: [],\n    });\n    window.localStorage.setItem('gamestate', json);\n    window.localStorage.setItem('initialState', stringify(client.initialState));\n  }\n\n  function Restore() {\n    const gamestateJSON = window.localStorage.getItem('gamestate');\n    const initialStateJSON = window.localStorage.getItem('initialState');\n    if (gamestateJSON !== null && initialStateJSON !== null) {\n      const gamestate = parse(gamestateJSON);\n      const initialState = parse(initialStateJSON);\n      client.store.dispatch(sync({ state: gamestate, initialState }));\n    }\n  }\n\n\t$$self.$set = $$props => {\n\t\tif ('client' in $$props) $$invalidate('client', client = $$props.client);\n\t};\n\n\treturn { client, Save, Restore };\n}\n\nclass Controls extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-1x2w9i0-style\")) add_css$4();\n\t\tinit(this, options, instance$4, create_fragment$4, safe_not_equal, [\"client\"]);\n\t}\n}\n\n/* src/client/debug/main/PlayerInfo.svelte generated by Svelte v3.12.1 */\n\nfunction add_css$5() {\n\tvar style = element(\"style\");\n\tstyle.id = 'svelte-6sf87x-style';\n\tstyle.textContent = \".player-box.svelte-6sf87x{display:flex;flex-direction:row}.player.svelte-6sf87x{cursor:pointer;text-align:center;width:30px;height:30px;line-height:30px;background:#eee;border:3px solid #fefefe;box-sizing:content-box}.player.current.svelte-6sf87x{background:#555;color:#eee;font-weight:bold}.player.active.svelte-6sf87x{border:3px solid #ff7f50}\";\n\tappend(document.head, style);\n}\n\nfunction get_each_context$1(ctx, list, i) {\n\tconst child_ctx = Object.create(ctx);\n\tchild_ctx.player = list[i];\n\treturn child_ctx;\n}\n\n// (49:2) {#each players as player}\nfunction create_each_block$1(ctx) {\n\tvar div, t0_value = ctx.player + \"\", t0, t1, dispose;\n\n\tfunction click_handler() {\n\t\treturn ctx.click_handler(ctx);\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tt0 = text(t0_value);\n\t\t\tt1 = space();\n\t\t\tattr(div, \"class\", \"player svelte-6sf87x\");\n\t\t\ttoggle_class(div, \"current\", ctx.player == ctx.ctx.currentPlayer);\n\t\t\ttoggle_class(div, \"active\", ctx.player == ctx.playerID);\n\t\t\tdispose = listen(div, \"click\", click_handler);\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, t0);\n\t\t\tappend(div, t1);\n\t\t},\n\n\t\tp(changed, new_ctx) {\n\t\t\tctx = new_ctx;\n\t\t\tif ((changed.players) && t0_value !== (t0_value = ctx.player + \"\")) {\n\t\t\t\tset_data(t0, t0_value);\n\t\t\t}\n\n\t\t\tif ((changed.players || changed.ctx)) {\n\t\t\t\ttoggle_class(div, \"current\", ctx.player == ctx.ctx.currentPlayer);\n\t\t\t}\n\n\t\t\tif ((changed.players || changed.playerID)) {\n\t\t\t\ttoggle_class(div, \"active\", ctx.player == ctx.playerID);\n\t\t\t}\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(div);\n\t\t\t}\n\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction create_fragment$5(ctx) {\n\tvar div;\n\n\tlet each_value = ctx.players;\n\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$1(get_each_context$1(ctx, each_value, i));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\t\t\tattr(div, \"class\", \"player-box svelte-6sf87x\");\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(div, null);\n\t\t\t}\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif (changed.players || changed.ctx || changed.playerID) {\n\t\t\t\teach_value = ctx.players;\n\n\t\t\t\tlet i;\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$1(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(changed, child_ctx);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$1(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\teach_blocks[i].m(div, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (; i < each_blocks.length; i += 1) {\n\t\t\t\t\teach_blocks[i].d(1);\n\t\t\t\t}\n\t\t\t\teach_blocks.length = each_value.length;\n\t\t\t}\n\t\t},\n\n\t\ti: noop,\n\t\to: noop,\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(div);\n\t\t\t}\n\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$5($$self, $$props, $$invalidate) {\n\tlet { ctx, playerID } = $$props;\n\n  const dispatch = createEventDispatcher();\n  function OnClick(player) {\n    if (player == playerID) {\n      dispatch(\"change\", { playerID: null });\n    } else {\n      dispatch(\"change\", { playerID: player });\n    }\n  }\n\n  let players;\n\n\tconst click_handler = ({ player }) => OnClick(player);\n\n\t$$self.$set = $$props => {\n\t\tif ('ctx' in $$props) $$invalidate('ctx', ctx = $$props.ctx);\n\t\tif ('playerID' in $$props) $$invalidate('playerID', playerID = $$props.playerID);\n\t};\n\n\t$$self.$$.update = ($$dirty = { ctx: 1 }) => {\n\t\tif ($$dirty.ctx) { $$invalidate('players', players = ctx ? [...Array(ctx.numPlayers).keys()].map(i => i.toString()) : []); }\n\t};\n\n\treturn {\n\t\tctx,\n\t\tplayerID,\n\t\tOnClick,\n\t\tplayers,\n\t\tclick_handler\n\t};\n}\n\nclass PlayerInfo extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-6sf87x-style\")) add_css$5();\n\t\tinit(this, options, instance$5, create_fragment$5, safe_not_equal, [\"ctx\", \"playerID\"]);\n\t}\n}\n\n/*\n * Copyright 2018 The boardgame.io Authors\n *\n * Use of this source code is governed by a MIT-style\n * license that can be found in the LICENSE file or at\n * https://opensource.org/licenses/MIT.\n */\nfunction AssignShortcuts(moveNames, eventNames, blacklist) {\n  var shortcuts = {};\n  var events = {};\n\n  for (var name in moveNames) {\n    events[name] = name;\n  }\n\n  for (var _name in eventNames) {\n    events[_name] = _name;\n  }\n\n  var taken = {};\n\n  for (var i = 0; i < blacklist.length; i++) {\n    var c = blacklist[i];\n    taken[c] = true;\n  } // Try assigning the first char of each move as the shortcut.\n\n\n  var t = taken;\n  var canUseFirstChar = true;\n\n  for (var _name2 in events) {\n    var shortcut = _name2[0];\n\n    if (t[shortcut]) {\n      canUseFirstChar = false;\n      break;\n    }\n\n    t[shortcut] = true;\n    shortcuts[_name2] = shortcut;\n  }\n\n  if (canUseFirstChar) {\n    return shortcuts;\n  } // If those aren't unique, use a-z.\n\n\n  t = taken;\n  var next = 97;\n  shortcuts = {};\n\n  for (var _name3 in events) {\n    var _shortcut = String.fromCharCode(next);\n\n    while (t[_shortcut]) {\n      next++;\n      _shortcut = String.fromCharCode(next);\n    }\n\n    t[_shortcut] = true;\n    shortcuts[_name3] = _shortcut;\n  }\n\n  return shortcuts;\n}\n\n/* src/client/debug/main/Main.svelte generated by Svelte v3.12.1 */\n\nfunction add_css$6() {\n\tvar style = element(\"style\");\n\tstyle.id = 'svelte-1vg2l2b-style';\n\tstyle.textContent = \".json.svelte-1vg2l2b{font-family:monospace;color:#888}label.svelte-1vg2l2b{font-weight:bold;font-size:1.1em;display:inline}h3.svelte-1vg2l2b{text-transform:uppercase}li.svelte-1vg2l2b{list-style:none;margin:none;margin-bottom:5px}.events.svelte-1vg2l2b{display:flex;flex-direction:column}.events.svelte-1vg2l2b button.svelte-1vg2l2b{width:100px}.events.svelte-1vg2l2b button.svelte-1vg2l2b:not(:last-child){margin-bottom:10px}\";\n\tappend(document.head, style);\n}\n\nfunction get_each_context$2(ctx, list, i) {\n\tconst child_ctx = Object.create(ctx);\n\tchild_ctx.name = list[i][0];\n\tchild_ctx.fn = list[i][1];\n\treturn child_ctx;\n}\n\n// (85:2) {#each Object.entries(client.moves) as [name, fn]}\nfunction create_each_block$2(ctx) {\n\tvar li, t, current;\n\n\tvar move = new Move({\n\t\tprops: {\n\t\tshortcut: ctx.shortcuts[ctx.name],\n\t\tfn: ctx.fn,\n\t\tname: ctx.name\n\t}\n\t});\n\n\treturn {\n\t\tc() {\n\t\t\tli = element(\"li\");\n\t\t\tmove.$$.fragment.c();\n\t\t\tt = space();\n\t\t\tattr(li, \"class\", \"svelte-1vg2l2b\");\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, li, anchor);\n\t\t\tmount_component(move, li, null);\n\t\t\tappend(li, t);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tvar move_changes = {};\n\t\t\tif (changed.client) move_changes.shortcut = ctx.shortcuts[ctx.name];\n\t\t\tif (changed.client) move_changes.fn = ctx.fn;\n\t\t\tif (changed.client) move_changes.name = ctx.name;\n\t\t\tmove.$set(move_changes);\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(move.$$.fragment, local);\n\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\ttransition_out(move.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(li);\n\t\t\t}\n\n\t\t\tdestroy_component(move);\n\t\t}\n\t};\n}\n\n// (96:2) {#if client.events.endTurn}\nfunction create_if_block_2(ctx) {\n\tvar button, dispose;\n\n\treturn {\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tbutton.textContent = \"End Turn\";\n\t\t\tattr(button, \"class\", \"svelte-1vg2l2b\");\n\t\t\tdispose = listen(button, \"click\", ctx.click_handler);\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(button);\n\t\t\t}\n\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\n// (99:2) {#if ctx.phase && client.events.endPhase}\nfunction create_if_block_1(ctx) {\n\tvar button, dispose;\n\n\treturn {\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tbutton.textContent = \"End Phase\";\n\t\t\tattr(button, \"class\", \"svelte-1vg2l2b\");\n\t\t\tdispose = listen(button, \"click\", ctx.click_handler_1);\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(button);\n\t\t\t}\n\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\n// (102:2) {#if ctx.activePlayers && client.events.endStage}\nfunction create_if_block$2(ctx) {\n\tvar button, dispose;\n\n\treturn {\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tbutton.textContent = \"End Stage\";\n\t\t\tattr(button, \"class\", \"svelte-1vg2l2b\");\n\t\t\tdispose = listen(button, \"click\", ctx.click_handler_2);\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(button);\n\t\t\t}\n\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction create_fragment$6(ctx) {\n\tvar section0, h30, t1, t2, section1, h31, t4, t5, section2, h32, t7, t8, section3, h33, t10, div, t11, t12, t13, section4, label0, t15, pre0, t16_value = JSON.stringify(ctx.G, null, 2) + \"\", t16, t17, section5, label1, t19, pre1, t20_value = JSON.stringify(SanitizeCtx(ctx.ctx), null, 2) + \"\", t20, current;\n\n\tvar controls = new Controls({ props: { client: ctx.client } });\n\n\tvar playerinfo = new PlayerInfo({\n\t\tprops: {\n\t\tctx: ctx.ctx,\n\t\tplayerID: ctx.playerID\n\t}\n\t});\n\tplayerinfo.$on(\"change\", ctx.change_handler);\n\n\tlet each_value = Object.entries(ctx.client.moves);\n\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$2(get_each_context$2(ctx, each_value, i));\n\t}\n\n\tconst out = i => transition_out(each_blocks[i], 1, 1, () => {\n\t\teach_blocks[i] = null;\n\t});\n\n\tvar if_block0 = (ctx.client.events.endTurn) && create_if_block_2(ctx);\n\n\tvar if_block1 = (ctx.ctx.phase && ctx.client.events.endPhase) && create_if_block_1(ctx);\n\n\tvar if_block2 = (ctx.ctx.activePlayers && ctx.client.events.endStage) && create_if_block$2(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tsection0 = element(\"section\");\n\t\t\th30 = element(\"h3\");\n\t\t\th30.textContent = \"Controls\";\n\t\t\tt1 = space();\n\t\t\tcontrols.$$.fragment.c();\n\t\t\tt2 = space();\n\t\t\tsection1 = element(\"section\");\n\t\t\th31 = element(\"h3\");\n\t\t\th31.textContent = \"Players\";\n\t\t\tt4 = space();\n\t\t\tplayerinfo.$$.fragment.c();\n\t\t\tt5 = space();\n\t\t\tsection2 = element(\"section\");\n\t\t\th32 = element(\"h3\");\n\t\t\th32.textContent = \"Moves\";\n\t\t\tt7 = space();\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tt8 = space();\n\t\t\tsection3 = element(\"section\");\n\t\t\th33 = element(\"h3\");\n\t\t\th33.textContent = \"Events\";\n\t\t\tt10 = space();\n\t\t\tdiv = element(\"div\");\n\t\t\tif (if_block0) if_block0.c();\n\t\t\tt11 = space();\n\t\t\tif (if_block1) if_block1.c();\n\t\t\tt12 = space();\n\t\t\tif (if_block2) if_block2.c();\n\t\t\tt13 = space();\n\t\t\tsection4 = element(\"section\");\n\t\t\tlabel0 = element(\"label\");\n\t\t\tlabel0.textContent = \"G\";\n\t\t\tt15 = space();\n\t\t\tpre0 = element(\"pre\");\n\t\t\tt16 = text(t16_value);\n\t\t\tt17 = space();\n\t\t\tsection5 = element(\"section\");\n\t\t\tlabel1 = element(\"label\");\n\t\t\tlabel1.textContent = \"ctx\";\n\t\t\tt19 = space();\n\t\t\tpre1 = element(\"pre\");\n\t\t\tt20 = text(t20_value);\n\t\t\tattr(h30, \"class\", \"svelte-1vg2l2b\");\n\t\t\tattr(h31, \"class\", \"svelte-1vg2l2b\");\n\t\t\tattr(h32, \"class\", \"svelte-1vg2l2b\");\n\t\t\tattr(h33, \"class\", \"svelte-1vg2l2b\");\n\t\t\tattr(div, \"class\", \"events svelte-1vg2l2b\");\n\t\t\tattr(label0, \"class\", \"svelte-1vg2l2b\");\n\t\t\tattr(pre0, \"class\", \"json svelte-1vg2l2b\");\n\t\t\tattr(label1, \"class\", \"svelte-1vg2l2b\");\n\t\t\tattr(pre1, \"class\", \"json svelte-1vg2l2b\");\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section0, anchor);\n\t\t\tappend(section0, h30);\n\t\t\tappend(section0, t1);\n\t\t\tmount_component(controls, section0, null);\n\t\t\tinsert(target, t2, anchor);\n\t\t\tinsert(target, section1, anchor);\n\t\t\tappend(section1, h31);\n\t\t\tappend(section1, t4);\n\t\t\tmount_component(playerinfo, section1, null);\n\t\t\tinsert(target, t5, anchor);\n\t\t\tinsert(target, section2, anchor);\n\t\t\tappend(section2, h32);\n\t\t\tappend(section2, t7);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(section2, null);\n\t\t\t}\n\n\t\t\tinsert(target, t8, anchor);\n\t\t\tinsert(target, section3, anchor);\n\t\t\tappend(section3, h33);\n\t\t\tappend(section3, t10);\n\t\t\tappend(section3, div);\n\t\t\tif (if_block0) if_block0.m(div, null);\n\t\t\tappend(div, t11);\n\t\t\tif (if_block1) if_block1.m(div, null);\n\t\t\tappend(div, t12);\n\t\t\tif (if_block2) if_block2.m(div, null);\n\t\t\tinsert(target, t13, anchor);\n\t\t\tinsert(target, section4, anchor);\n\t\t\tappend(section4, label0);\n\t\t\tappend(section4, t15);\n\t\t\tappend(section4, pre0);\n\t\t\tappend(pre0, t16);\n\t\t\tinsert(target, t17, anchor);\n\t\t\tinsert(target, section5, anchor);\n\t\t\tappend(section5, label1);\n\t\t\tappend(section5, t19);\n\t\t\tappend(section5, pre1);\n\t\t\tappend(pre1, t20);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tvar controls_changes = {};\n\t\t\tif (changed.client) controls_changes.client = ctx.client;\n\t\t\tcontrols.$set(controls_changes);\n\n\t\t\tvar playerinfo_changes = {};\n\t\t\tif (changed.ctx) playerinfo_changes.ctx = ctx.ctx;\n\t\t\tif (changed.playerID) playerinfo_changes.playerID = ctx.playerID;\n\t\t\tplayerinfo.$set(playerinfo_changes);\n\n\t\t\tif (changed.shortcuts || changed.client) {\n\t\t\t\teach_value = Object.entries(ctx.client.moves);\n\n\t\t\t\tlet i;\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$2(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(changed, child_ctx);\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$2(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t\teach_blocks[i].m(section2, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgroup_outros();\n\t\t\t\tfor (i = each_value.length; i < each_blocks.length; i += 1) {\n\t\t\t\t\tout(i);\n\t\t\t\t}\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (ctx.client.events.endTurn) {\n\t\t\t\tif (!if_block0) {\n\t\t\t\t\tif_block0 = create_if_block_2(ctx);\n\t\t\t\t\tif_block0.c();\n\t\t\t\t\tif_block0.m(div, t11);\n\t\t\t\t}\n\t\t\t} else if (if_block0) {\n\t\t\t\tif_block0.d(1);\n\t\t\t\tif_block0 = null;\n\t\t\t}\n\n\t\t\tif (ctx.ctx.phase && ctx.client.events.endPhase) {\n\t\t\t\tif (!if_block1) {\n\t\t\t\t\tif_block1 = create_if_block_1(ctx);\n\t\t\t\t\tif_block1.c();\n\t\t\t\t\tif_block1.m(div, t12);\n\t\t\t\t}\n\t\t\t} else if (if_block1) {\n\t\t\t\tif_block1.d(1);\n\t\t\t\tif_block1 = null;\n\t\t\t}\n\n\t\t\tif (ctx.ctx.activePlayers && ctx.client.events.endStage) {\n\t\t\t\tif (!if_block2) {\n\t\t\t\t\tif_block2 = create_if_block$2(ctx);\n\t\t\t\t\tif_block2.c();\n\t\t\t\t\tif_block2.m(div, null);\n\t\t\t\t}\n\t\t\t} else if (if_block2) {\n\t\t\t\tif_block2.d(1);\n\t\t\t\tif_block2 = null;\n\t\t\t}\n\n\t\t\tif ((!current || changed.G) && t16_value !== (t16_value = JSON.stringify(ctx.G, null, 2) + \"\")) {\n\t\t\t\tset_data(t16, t16_value);\n\t\t\t}\n\n\t\t\tif ((!current || changed.ctx) && t20_value !== (t20_value = JSON.stringify(SanitizeCtx(ctx.ctx), null, 2) + \"\")) {\n\t\t\t\tset_data(t20, t20_value);\n\t\t\t}\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(controls.$$.fragment, local);\n\n\t\t\ttransition_in(playerinfo.$$.fragment, local);\n\n\t\t\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\t\t\ttransition_in(each_blocks[i]);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\ttransition_out(controls.$$.fragment, local);\n\t\t\ttransition_out(playerinfo.$$.fragment, local);\n\n\t\t\teach_blocks = each_blocks.filter(Boolean);\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\ttransition_out(each_blocks[i]);\n\t\t\t}\n\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(section0);\n\t\t\t}\n\n\t\t\tdestroy_component(controls);\n\n\t\t\tif (detaching) {\n\t\t\t\tdetach(t2);\n\t\t\t\tdetach(section1);\n\t\t\t}\n\n\t\t\tdestroy_component(playerinfo);\n\n\t\t\tif (detaching) {\n\t\t\t\tdetach(t5);\n\t\t\t\tdetach(section2);\n\t\t\t}\n\n\t\t\tdestroy_each(each_blocks, detaching);\n\n\t\t\tif (detaching) {\n\t\t\t\tdetach(t8);\n\t\t\t\tdetach(section3);\n\t\t\t}\n\n\t\t\tif (if_block0) if_block0.d();\n\t\t\tif (if_block1) if_block1.d();\n\t\t\tif (if_block2) if_block2.d();\n\n\t\t\tif (detaching) {\n\t\t\t\tdetach(t13);\n\t\t\t\tdetach(section4);\n\t\t\t\tdetach(t17);\n\t\t\t\tdetach(section5);\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction SanitizeCtx(ctx) {\n  let r = {};\n  for (const key in ctx) {\n    if (!key.startsWith('_')) {\n      r[key] = ctx[key];\n    }\n  }\n  return r;\n}\n\nfunction instance$6($$self, $$props, $$invalidate) {\n\tlet { client } = $$props;\n\n  const shortcuts = AssignShortcuts(client.moves, client.events, 'mlia');\n\n  let playerID = client.playerID;\n  let ctx = {};\n  let G = {};\n  client.subscribe((state) => {\n    if (state) {\n      $$invalidate('G', G = state.G);\n      $$invalidate('ctx', ctx = state.ctx);\n    }\n    $$invalidate('playerID', playerID = client.playerID);\n  });\n\n\tconst change_handler = (e) => client.updatePlayerID(e.detail.playerID);\n\n\tconst click_handler = () => client.events.endTurn();\n\n\tconst click_handler_1 = () => client.events.endPhase();\n\n\tconst click_handler_2 = () => client.events.endStage();\n\n\t$$self.$set = $$props => {\n\t\tif ('client' in $$props) $$invalidate('client', client = $$props.client);\n\t};\n\n\treturn {\n\t\tclient,\n\t\tshortcuts,\n\t\tplayerID,\n\t\tctx,\n\t\tG,\n\t\tchange_handler,\n\t\tclick_handler,\n\t\tclick_handler_1,\n\t\tclick_handler_2\n\t};\n}\n\nclass Main extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-1vg2l2b-style\")) add_css$6();\n\t\tinit(this, options, instance$6, create_fragment$6, safe_not_equal, [\"client\"]);\n\t}\n}\n\n/* src/client/debug/info/Item.svelte generated by Svelte v3.12.1 */\n\nfunction add_css$7() {\n\tvar style = element(\"style\");\n\tstyle.id = 'svelte-13qih23-style';\n\tstyle.textContent = \".item.svelte-13qih23{padding:10px}.item.svelte-13qih23:not(:first-child){border-top:1px dashed #aaa}.item.svelte-13qih23 div.svelte-13qih23{float:right;text-align:right}\";\n\tappend(document.head, style);\n}\n\nfunction create_fragment$7(ctx) {\n\tvar div1, strong, t0, t1, div0, t2_value = JSON.stringify(ctx.value) + \"\", t2;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv1 = element(\"div\");\n\t\t\tstrong = element(\"strong\");\n\t\t\tt0 = text(ctx.name);\n\t\t\tt1 = space();\n\t\t\tdiv0 = element(\"div\");\n\t\t\tt2 = text(t2_value);\n\t\t\tattr(div0, \"class\", \"svelte-13qih23\");\n\t\t\tattr(div1, \"class\", \"item svelte-13qih23\");\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div1, anchor);\n\t\t\tappend(div1, strong);\n\t\t\tappend(strong, t0);\n\t\t\tappend(div1, t1);\n\t\t\tappend(div1, div0);\n\t\t\tappend(div0, t2);\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif (changed.name) {\n\t\t\t\tset_data(t0, ctx.name);\n\t\t\t}\n\n\t\t\tif ((changed.value) && t2_value !== (t2_value = JSON.stringify(ctx.value) + \"\")) {\n\t\t\t\tset_data(t2, t2_value);\n\t\t\t}\n\t\t},\n\n\t\ti: noop,\n\t\to: noop,\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(div1);\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction instance$7($$self, $$props, $$invalidate) {\n\tlet { name, value } = $$props;\n\n\t$$self.$set = $$props => {\n\t\tif ('name' in $$props) $$invalidate('name', name = $$props.name);\n\t\tif ('value' in $$props) $$invalidate('value', value = $$props.value);\n\t};\n\n\treturn { name, value };\n}\n\nclass Item extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-13qih23-style\")) add_css$7();\n\t\tinit(this, options, instance$7, create_fragment$7, safe_not_equal, [\"name\", \"value\"]);\n\t}\n}\n\n/* src/client/debug/info/Info.svelte generated by Svelte v3.12.1 */\n\nfunction add_css$8() {\n\tvar style = element(\"style\");\n\tstyle.id = 'svelte-1yzq5o8-style';\n\tstyle.textContent = \".gameinfo.svelte-1yzq5o8{padding:10px}\";\n\tappend(document.head, style);\n}\n\n// (17:2) {#if $client.isMultiplayer}\nfunction create_if_block$3(ctx) {\n\tvar span, t, current;\n\n\tvar item0 = new Item({\n\t\tprops: { name: \"isConnected\", value: ctx.$client.isConnected }\n\t});\n\n\tvar item1 = new Item({\n\t\tprops: {\n\t\tname: \"isMultiplayer\",\n\t\tvalue: ctx.$client.isMultiplayer\n\t}\n\t});\n\n\treturn {\n\t\tc() {\n\t\t\tspan = element(\"span\");\n\t\t\titem0.$$.fragment.c();\n\t\t\tt = space();\n\t\t\titem1.$$.fragment.c();\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, span, anchor);\n\t\t\tmount_component(item0, span, null);\n\t\t\tappend(span, t);\n\t\t\tmount_component(item1, span, null);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tvar item0_changes = {};\n\t\t\tif (changed.$client) item0_changes.value = ctx.$client.isConnected;\n\t\t\titem0.$set(item0_changes);\n\n\t\t\tvar item1_changes = {};\n\t\t\tif (changed.$client) item1_changes.value = ctx.$client.isMultiplayer;\n\t\t\titem1.$set(item1_changes);\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(item0.$$.fragment, local);\n\n\t\t\ttransition_in(item1.$$.fragment, local);\n\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\ttransition_out(item0.$$.fragment, local);\n\t\t\ttransition_out(item1.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(span);\n\t\t\t}\n\n\t\t\tdestroy_component(item0);\n\n\t\t\tdestroy_component(item1);\n\t\t}\n\t};\n}\n\nfunction create_fragment$8(ctx) {\n\tvar section, t0, t1, t2, current;\n\n\tvar item0 = new Item({\n\t\tprops: { name: \"gameID\", value: ctx.client.gameID }\n\t});\n\n\tvar item1 = new Item({\n\t\tprops: { name: \"playerID\", value: ctx.client.playerID }\n\t});\n\n\tvar item2 = new Item({\n\t\tprops: { name: \"isActive\", value: ctx.$client.isActive }\n\t});\n\n\tvar if_block = (ctx.$client.isMultiplayer) && create_if_block$3(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\titem0.$$.fragment.c();\n\t\t\tt0 = space();\n\t\t\titem1.$$.fragment.c();\n\t\t\tt1 = space();\n\t\t\titem2.$$.fragment.c();\n\t\t\tt2 = space();\n\t\t\tif (if_block) if_block.c();\n\t\t\tattr(section, \"class\", \"gameinfo svelte-1yzq5o8\");\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tmount_component(item0, section, null);\n\t\t\tappend(section, t0);\n\t\t\tmount_component(item1, section, null);\n\t\t\tappend(section, t1);\n\t\t\tmount_component(item2, section, null);\n\t\t\tappend(section, t2);\n\t\t\tif (if_block) if_block.m(section, null);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tvar item0_changes = {};\n\t\t\tif (changed.client) item0_changes.value = ctx.client.gameID;\n\t\t\titem0.$set(item0_changes);\n\n\t\t\tvar item1_changes = {};\n\t\t\tif (changed.client) item1_changes.value = ctx.client.playerID;\n\t\t\titem1.$set(item1_changes);\n\n\t\t\tvar item2_changes = {};\n\t\t\tif (changed.$client) item2_changes.value = ctx.$client.isActive;\n\t\t\titem2.$set(item2_changes);\n\n\t\t\tif (ctx.$client.isMultiplayer) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(changed, ctx);\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$3(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\tif_block.m(section, null);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tgroup_outros();\n\t\t\t\ttransition_out(if_block, 1, 1, () => {\n\t\t\t\t\tif_block = null;\n\t\t\t\t});\n\t\t\t\tcheck_outros();\n\t\t\t}\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(item0.$$.fragment, local);\n\n\t\t\ttransition_in(item1.$$.fragment, local);\n\n\t\t\ttransition_in(item2.$$.fragment, local);\n\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\ttransition_out(item0.$$.fragment, local);\n\t\t\ttransition_out(item1.$$.fragment, local);\n\t\t\ttransition_out(item2.$$.fragment, local);\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(section);\n\t\t\t}\n\n\t\t\tdestroy_component(item0);\n\n\t\t\tdestroy_component(item1);\n\n\t\t\tdestroy_component(item2);\n\n\t\t\tif (if_block) if_block.d();\n\t\t}\n\t};\n}\n\nfunction instance$8($$self, $$props, $$invalidate) {\n\tlet $client;\n\n\tlet { client } = $$props; component_subscribe($$self, client, $$value => { $client = $$value; $$invalidate('$client', $client); });\n\n\t$$self.$set = $$props => {\n\t\tif ('client' in $$props) $$invalidate('client', client = $$props.client);\n\t};\n\n\treturn { client, $client };\n}\n\nclass Info extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-1yzq5o8-style\")) add_css$8();\n\t\tinit(this, options, instance$8, create_fragment$8, safe_not_equal, [\"client\"]);\n\t}\n}\n\n/* src/client/debug/log/TurnMarker.svelte generated by Svelte v3.12.1 */\n\nfunction add_css$9() {\n\tvar style = element(\"style\");\n\tstyle.id = 'svelte-6eza86-style';\n\tstyle.textContent = \".turn-marker.svelte-6eza86{display:flex;justify-content:center;align-items:center;grid-column:1;background:#555;color:#eee;text-align:center;font-weight:bold;border:1px solid #888}\";\n\tappend(document.head, style);\n}\n\nfunction create_fragment$9(ctx) {\n\tvar div, t;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tt = text(ctx.turn);\n\t\t\tattr(div, \"class\", \"turn-marker svelte-6eza86\");\n\t\t\tattr(div, \"style\", ctx.style);\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, t);\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif (changed.turn) {\n\t\t\t\tset_data(t, ctx.turn);\n\t\t\t}\n\t\t},\n\n\t\ti: noop,\n\t\to: noop,\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(div);\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction instance$9($$self, $$props, $$invalidate) {\n\tlet { turn, numEvents } = $$props;\n  const style = `grid-row: span ${numEvents}`;\n\n\t$$self.$set = $$props => {\n\t\tif ('turn' in $$props) $$invalidate('turn', turn = $$props.turn);\n\t\tif ('numEvents' in $$props) $$invalidate('numEvents', numEvents = $$props.numEvents);\n\t};\n\n\treturn { turn, numEvents, style };\n}\n\nclass TurnMarker extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-6eza86-style\")) add_css$9();\n\t\tinit(this, options, instance$9, create_fragment$9, safe_not_equal, [\"turn\", \"numEvents\"]);\n\t}\n}\n\n/* src/client/debug/log/PhaseMarker.svelte generated by Svelte v3.12.1 */\n\nfunction add_css$a() {\n\tvar style = element(\"style\");\n\tstyle.id = 'svelte-1t4xap-style';\n\tstyle.textContent = \".phase-marker.svelte-1t4xap{grid-column:3;background:#555;border:1px solid #888;color:#eee;text-align:center;font-weight:bold;padding-top:10px;padding-bottom:10px;text-orientation:sideways;writing-mode:vertical-rl;line-height:30px;width:100%}\";\n\tappend(document.head, style);\n}\n\nfunction create_fragment$a(ctx) {\n\tvar div, t_value = ctx.phase || '' + \"\", t;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tt = text(t_value);\n\t\t\tattr(div, \"class\", \"phase-marker svelte-1t4xap\");\n\t\t\tattr(div, \"style\", ctx.style);\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, t);\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif ((changed.phase) && t_value !== (t_value = ctx.phase || '' + \"\")) {\n\t\t\t\tset_data(t, t_value);\n\t\t\t}\n\t\t},\n\n\t\ti: noop,\n\t\to: noop,\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(div);\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction instance$a($$self, $$props, $$invalidate) {\n\tlet { phase, numEvents } = $$props;\n\n  const style = `grid-row: span ${numEvents}`;\n\n\t$$self.$set = $$props => {\n\t\tif ('phase' in $$props) $$invalidate('phase', phase = $$props.phase);\n\t\tif ('numEvents' in $$props) $$invalidate('numEvents', numEvents = $$props.numEvents);\n\t};\n\n\treturn { phase, numEvents, style };\n}\n\nclass PhaseMarker extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-1t4xap-style\")) add_css$a();\n\t\tinit(this, options, instance$a, create_fragment$a, safe_not_equal, [\"phase\", \"numEvents\"]);\n\t}\n}\n\n/* src/client/debug/log/CustomPayload.svelte generated by Svelte v3.12.1 */\n\nfunction create_fragment$b(ctx) {\n\tvar div, t;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tt = text(ctx.custompayload);\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, t);\n\t\t},\n\n\t\tp: noop,\n\t\ti: noop,\n\t\to: noop,\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(div);\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction instance$b($$self, $$props, $$invalidate) {\n\tlet { payload } = $$props;\n  const custompayload =\n    payload !== undefined ? JSON.stringify(payload, null, 4) : '';\n\n\t$$self.$set = $$props => {\n\t\tif ('payload' in $$props) $$invalidate('payload', payload = $$props.payload);\n\t};\n\n\treturn { payload, custompayload };\n}\n\nclass CustomPayload extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$b, create_fragment$b, safe_not_equal, [\"payload\"]);\n\t}\n}\n\n/* src/client/debug/log/LogEvent.svelte generated by Svelte v3.12.1 */\n\nfunction add_css$b() {\n\tvar style = element(\"style\");\n\tstyle.id = 'svelte-10wdo7v-style';\n\tstyle.textContent = \".log-event.svelte-10wdo7v{grid-column:2;cursor:pointer;overflow:hidden;display:flex;flex-direction:column;justify-content:center;background:#fff;border:1px dotted #ccc;border-left:5px solid #ccc;padding:5px;text-align:center;color:#888;font-size:14px;min-height:25px;line-height:25px}.log-event.svelte-10wdo7v:hover{border-style:solid;background:#eee}.log-event.pinned.svelte-10wdo7v{border-style:solid;background:#eee;opacity:1}.player0.svelte-10wdo7v{border-left-color:#ff851b}.player1.svelte-10wdo7v{border-left-color:#7fdbff}.player2.svelte-10wdo7v{border-left-color:#0074d9}.player3.svelte-10wdo7v{border-left-color:#39cccc}.player4.svelte-10wdo7v{border-left-color:#3d9970}.player5.svelte-10wdo7v{border-left-color:#2ecc40}.player6.svelte-10wdo7v{border-left-color:#01ff70}.player7.svelte-10wdo7v{border-left-color:#ffdc00}.player8.svelte-10wdo7v{border-left-color:#001f3f}.player9.svelte-10wdo7v{border-left-color:#ff4136}.player10.svelte-10wdo7v{border-left-color:#85144b}.player11.svelte-10wdo7v{border-left-color:#f012be}.player12.svelte-10wdo7v{border-left-color:#b10dc9}.player13.svelte-10wdo7v{border-left-color:#111111}.player14.svelte-10wdo7v{border-left-color:#aaaaaa}.player15.svelte-10wdo7v{border-left-color:#dddddd}\";\n\tappend(document.head, style);\n}\n\n// (122:2) {:else}\nfunction create_else_block(ctx) {\n\tvar current;\n\n\tvar custompayload = new CustomPayload({ props: { payload: ctx.payload } });\n\n\treturn {\n\t\tc() {\n\t\t\tcustompayload.$$.fragment.c();\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tmount_component(custompayload, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tvar custompayload_changes = {};\n\t\t\tif (changed.payload) custompayload_changes.payload = ctx.payload;\n\t\t\tcustompayload.$set(custompayload_changes);\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(custompayload.$$.fragment, local);\n\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\ttransition_out(custompayload.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tdestroy_component(custompayload, detaching);\n\t\t}\n\t};\n}\n\n// (120:2) {#if payloadComponent}\nfunction create_if_block$4(ctx) {\n\tvar switch_instance_anchor, current;\n\n\tvar switch_value = ctx.payloadComponent;\n\n\tfunction switch_props(ctx) {\n\t\treturn { props: { payload: ctx.payload } };\n\t}\n\n\tif (switch_value) {\n\t\tvar switch_instance = new switch_value(switch_props(ctx));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tif (switch_instance) switch_instance.$$.fragment.c();\n\t\t\tswitch_instance_anchor = empty();\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tif (switch_instance) {\n\t\t\t\tmount_component(switch_instance, target, anchor);\n\t\t\t}\n\n\t\t\tinsert(target, switch_instance_anchor, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tvar switch_instance_changes = {};\n\t\t\tif (changed.payload) switch_instance_changes.payload = ctx.payload;\n\n\t\t\tif (switch_value !== (switch_value = ctx.payloadComponent)) {\n\t\t\t\tif (switch_instance) {\n\t\t\t\t\tgroup_outros();\n\t\t\t\t\tconst old_component = switch_instance;\n\t\t\t\t\ttransition_out(old_component.$$.fragment, 1, 0, () => {\n\t\t\t\t\t\tdestroy_component(old_component, 1);\n\t\t\t\t\t});\n\t\t\t\t\tcheck_outros();\n\t\t\t\t}\n\n\t\t\t\tif (switch_value) {\n\t\t\t\t\tswitch_instance = new switch_value(switch_props(ctx));\n\n\t\t\t\t\tswitch_instance.$$.fragment.c();\n\t\t\t\t\ttransition_in(switch_instance.$$.fragment, 1);\n\t\t\t\t\tmount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);\n\t\t\t\t} else {\n\t\t\t\t\tswitch_instance = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\telse if (switch_value) {\n\t\t\t\tswitch_instance.$set(switch_instance_changes);\n\t\t\t}\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\tif (switch_instance) transition_in(switch_instance.$$.fragment, local);\n\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\tif (switch_instance) transition_out(switch_instance.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(switch_instance_anchor);\n\t\t\t}\n\n\t\t\tif (switch_instance) destroy_component(switch_instance, detaching);\n\t\t}\n\t};\n}\n\nfunction create_fragment$c(ctx) {\n\tvar div1, div0, t0_value = ctx.action.payload.type + \"\", t0, t1, t2_value = ctx.args.join(',') + \"\", t2, t3, t4, current_block_type_index, if_block, current, dispose;\n\n\tvar if_block_creators = [\n\t\tcreate_if_block$4,\n\t\tcreate_else_block\n\t];\n\n\tvar if_blocks = [];\n\n\tfunction select_block_type(changed, ctx) {\n\t\tif (ctx.payloadComponent) return 0;\n\t\treturn 1;\n\t}\n\n\tcurrent_block_type_index = select_block_type(null, ctx);\n\tif_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tdiv1 = element(\"div\");\n\t\t\tdiv0 = element(\"div\");\n\t\t\tt0 = text(t0_value);\n\t\t\tt1 = text(\"(\");\n\t\t\tt2 = text(t2_value);\n\t\t\tt3 = text(\")\");\n\t\t\tt4 = space();\n\t\t\tif_block.c();\n\t\t\tattr(div1, \"class\", \"log-event player\" + ctx.playerID + \" svelte-10wdo7v\");\n\t\t\ttoggle_class(div1, \"pinned\", ctx.pinned);\n\n\t\t\tdispose = [\n\t\t\t\tlisten(div1, \"click\", ctx.click_handler),\n\t\t\t\tlisten(div1, \"mouseenter\", ctx.mouseenter_handler),\n\t\t\t\tlisten(div1, \"mouseleave\", ctx.mouseleave_handler)\n\t\t\t];\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div1, anchor);\n\t\t\tappend(div1, div0);\n\t\t\tappend(div0, t0);\n\t\t\tappend(div0, t1);\n\t\t\tappend(div0, t2);\n\t\t\tappend(div0, t3);\n\t\t\tappend(div1, t4);\n\t\t\tif_blocks[current_block_type_index].m(div1, null);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif ((!current || changed.action) && t0_value !== (t0_value = ctx.action.payload.type + \"\")) {\n\t\t\t\tset_data(t0, t0_value);\n\t\t\t}\n\n\t\t\tvar previous_block_index = current_block_type_index;\n\t\t\tcurrent_block_type_index = select_block_type(changed, ctx);\n\t\t\tif (current_block_type_index === previous_block_index) {\n\t\t\t\tif_blocks[current_block_type_index].p(changed, ctx);\n\t\t\t} else {\n\t\t\t\tgroup_outros();\n\t\t\t\ttransition_out(if_blocks[previous_block_index], 1, 1, () => {\n\t\t\t\t\tif_blocks[previous_block_index] = null;\n\t\t\t\t});\n\t\t\t\tcheck_outros();\n\n\t\t\t\tif_block = if_blocks[current_block_type_index];\n\t\t\t\tif (!if_block) {\n\t\t\t\t\tif_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t}\n\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\tif_block.m(div1, null);\n\t\t\t}\n\n\t\t\tif (changed.pinned) {\n\t\t\t\ttoggle_class(div1, \"pinned\", ctx.pinned);\n\t\t\t}\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(div1);\n\t\t\t}\n\n\t\t\tif_blocks[current_block_type_index].d();\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\nfunction instance$c($$self, $$props, $$invalidate) {\n\tlet { logIndex, action, pinned, payload, payloadComponent } = $$props;\n\n  const dispatch = createEventDispatcher();\n\n  const args = action.payload.args || [];\n  const playerID = action.payload.playerID;\n\n\tconst click_handler = () => dispatch('click', { logIndex });\n\n\tconst mouseenter_handler = () => dispatch('mouseenter', { logIndex });\n\n\tconst mouseleave_handler = () => dispatch('mouseleave');\n\n\t$$self.$set = $$props => {\n\t\tif ('logIndex' in $$props) $$invalidate('logIndex', logIndex = $$props.logIndex);\n\t\tif ('action' in $$props) $$invalidate('action', action = $$props.action);\n\t\tif ('pinned' in $$props) $$invalidate('pinned', pinned = $$props.pinned);\n\t\tif ('payload' in $$props) $$invalidate('payload', payload = $$props.payload);\n\t\tif ('payloadComponent' in $$props) $$invalidate('payloadComponent', payloadComponent = $$props.payloadComponent);\n\t};\n\n\treturn {\n\t\tlogIndex,\n\t\taction,\n\t\tpinned,\n\t\tpayload,\n\t\tpayloadComponent,\n\t\tdispatch,\n\t\targs,\n\t\tplayerID,\n\t\tclick_handler,\n\t\tmouseenter_handler,\n\t\tmouseleave_handler\n\t};\n}\n\nclass LogEvent extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-10wdo7v-style\")) add_css$b();\n\t\tinit(this, options, instance$c, create_fragment$c, safe_not_equal, [\"logIndex\", \"action\", \"pinned\", \"payload\", \"payloadComponent\"]);\n\t}\n}\n\n/* node_modules/svelte-icons/components/IconBase.svelte generated by Svelte v3.12.1 */\n\nfunction add_css$c() {\n\tvar style = element(\"style\");\n\tstyle.id = 'svelte-c8tyih-style';\n\tstyle.textContent = \"svg.svelte-c8tyih{stroke:currentColor;fill:currentColor;stroke-width:0;width:100%;height:auto;max-height:100%}\";\n\tappend(document.head, style);\n}\n\n// (18:2) {#if title}\nfunction create_if_block$5(ctx) {\n\tvar title_1, t;\n\n\treturn {\n\t\tc() {\n\t\t\ttitle_1 = svg_element(\"title\");\n\t\t\tt = text(ctx.title);\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, title_1, anchor);\n\t\t\tappend(title_1, t);\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif (changed.title) {\n\t\t\t\tset_data(t, ctx.title);\n\t\t\t}\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(title_1);\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction create_fragment$d(ctx) {\n\tvar svg, if_block_anchor, current;\n\n\tvar if_block = (ctx.title) && create_if_block$5(ctx);\n\n\tconst default_slot_template = ctx.$$slots.default;\n\tconst default_slot = create_slot(default_slot_template, ctx, null);\n\n\treturn {\n\t\tc() {\n\t\t\tsvg = svg_element(\"svg\");\n\t\t\tif (if_block) if_block.c();\n\t\t\tif_block_anchor = empty();\n\n\t\t\tif (default_slot) default_slot.c();\n\n\t\t\tattr(svg, \"xmlns\", \"http://www.w3.org/2000/svg\");\n\t\t\tattr(svg, \"viewBox\", ctx.viewBox);\n\t\t\tattr(svg, \"class\", \"svelte-c8tyih\");\n\t\t},\n\n\t\tl(nodes) {\n\t\t\tif (default_slot) default_slot.l(svg_nodes);\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, svg, anchor);\n\t\t\tif (if_block) if_block.m(svg, null);\n\t\t\tappend(svg, if_block_anchor);\n\n\t\t\tif (default_slot) {\n\t\t\t\tdefault_slot.m(svg, null);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif (ctx.title) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(changed, ctx);\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$5(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(svg, if_block_anchor);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = null;\n\t\t\t}\n\n\t\t\tif (default_slot && default_slot.p && changed.$$scope) {\n\t\t\t\tdefault_slot.p(\n\t\t\t\t\tget_slot_changes(default_slot_template, ctx, changed, null),\n\t\t\t\t\tget_slot_context(default_slot_template, ctx, null)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (!current || changed.viewBox) {\n\t\t\t\tattr(svg, \"viewBox\", ctx.viewBox);\n\t\t\t}\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(default_slot, local);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\ttransition_out(default_slot, local);\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(svg);\n\t\t\t}\n\n\t\t\tif (if_block) if_block.d();\n\n\t\t\tif (default_slot) default_slot.d(detaching);\n\t\t}\n\t};\n}\n\nfunction instance$d($$self, $$props, $$invalidate) {\n\tlet { title = null, viewBox } = $$props;\n\n\tlet { $$slots = {}, $$scope } = $$props;\n\n\t$$self.$set = $$props => {\n\t\tif ('title' in $$props) $$invalidate('title', title = $$props.title);\n\t\tif ('viewBox' in $$props) $$invalidate('viewBox', viewBox = $$props.viewBox);\n\t\tif ('$$scope' in $$props) $$invalidate('$$scope', $$scope = $$props.$$scope);\n\t};\n\n\treturn { title, viewBox, $$slots, $$scope };\n}\n\nclass IconBase extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-c8tyih-style\")) add_css$c();\n\t\tinit(this, options, instance$d, create_fragment$d, safe_not_equal, [\"title\", \"viewBox\"]);\n\t}\n}\n\n/* node_modules/svelte-icons/fa/FaArrowAltCircleDown.svelte generated by Svelte v3.12.1 */\n\n// (4:8) <IconBase viewBox=\"0 0 512 512\" {...$$props}>\nfunction create_default_slot(ctx) {\n\tvar path;\n\n\treturn {\n\t\tc() {\n\t\t\tpath = svg_element(\"path\");\n\t\t\tattr(path, \"d\", \"M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zM212 140v116h-70.9c-10.7 0-16.1 13-8.5 20.5l114.9 114.3c4.7 4.7 12.2 4.7 16.9 0l114.9-114.3c7.6-7.6 2.2-20.5-8.5-20.5H300V140c0-6.6-5.4-12-12-12h-64c-6.6 0-12 5.4-12 12z\");\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, path, anchor);\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(path);\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction create_fragment$e(ctx) {\n\tvar current;\n\n\tvar iconbase_spread_levels = [\n\t\t{ viewBox: \"0 0 512 512\" },\n\t\tctx.$$props\n\t];\n\n\tlet iconbase_props = {\n\t\t$$slots: { default: [create_default_slot] },\n\t\t$$scope: { ctx }\n\t};\n\tfor (var i = 0; i < iconbase_spread_levels.length; i += 1) {\n\t\ticonbase_props = assign(iconbase_props, iconbase_spread_levels[i]);\n\t}\n\tvar iconbase = new IconBase({ props: iconbase_props });\n\n\treturn {\n\t\tc() {\n\t\t\ticonbase.$$.fragment.c();\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tmount_component(iconbase, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tvar iconbase_changes = (changed.$$props) ? get_spread_update(iconbase_spread_levels, [\n\t\t\t\t\t\t\t\t\ticonbase_spread_levels[0],\n\t\t\tget_spread_object(ctx.$$props)\n\t\t\t\t\t\t\t\t]) : {};\n\t\t\tif (changed.$$scope) iconbase_changes.$$scope = { changed, ctx };\n\t\t\ticonbase.$set(iconbase_changes);\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(iconbase.$$.fragment, local);\n\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\ttransition_out(iconbase.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tdestroy_component(iconbase, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$e($$self, $$props, $$invalidate) {\n\t$$self.$set = $$new_props => {\n\t\t$$invalidate('$$props', $$props = assign(assign({}, $$props), $$new_props));\n\t};\n\n\treturn {\n\t\t$$props,\n\t\t$$props: $$props = exclude_internal_props($$props)\n\t};\n}\n\nclass FaArrowAltCircleDown extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$e, create_fragment$e, safe_not_equal, []);\n\t}\n}\n\n/* src/client/debug/mcts/Action.svelte generated by Svelte v3.12.1 */\n\nfunction add_css$d() {\n\tvar style = element(\"style\");\n\tstyle.id = 'svelte-1a7time-style';\n\tstyle.textContent = \"div.svelte-1a7time{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:500px}\";\n\tappend(document.head, style);\n}\n\nfunction create_fragment$f(ctx) {\n\tvar div, t;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tt = text(ctx.text);\n\t\t\tattr(div, \"alt\", ctx.text);\n\t\t\tattr(div, \"class\", \"svelte-1a7time\");\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, t);\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif (changed.text) {\n\t\t\t\tset_data(t, ctx.text);\n\t\t\t\tattr(div, \"alt\", ctx.text);\n\t\t\t}\n\t\t},\n\n\t\ti: noop,\n\t\to: noop,\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(div);\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction instance$f($$self, $$props, $$invalidate) {\n\tlet { action } = $$props;\n\n  let text;\n\n\t$$self.$set = $$props => {\n\t\tif ('action' in $$props) $$invalidate('action', action = $$props.action);\n\t};\n\n\t$$self.$$.update = ($$dirty = { action: 1 }) => {\n\t\tif ($$dirty.action) { {\n        const { type, args } = action.payload;\n        const argsFormatted = (args || []).join(',');\n        $$invalidate('text', text = `${type}(${argsFormatted})`);\n      } }\n\t};\n\n\treturn { action, text };\n}\n\nclass Action extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-1a7time-style\")) add_css$d();\n\t\tinit(this, options, instance$f, create_fragment$f, safe_not_equal, [\"action\"]);\n\t}\n}\n\n/* src/client/debug/mcts/Table.svelte generated by Svelte v3.12.1 */\n\nfunction add_css$e() {\n\tvar style = element(\"style\");\n\tstyle.id = 'svelte-ztcwsu-style';\n\tstyle.textContent = \"table.svelte-ztcwsu{font-size:12px;border-collapse:collapse;border:1px solid #ddd;padding:0}tr.svelte-ztcwsu{cursor:pointer}tr.svelte-ztcwsu:hover td.svelte-ztcwsu{background:#eee}tr.selected.svelte-ztcwsu td.svelte-ztcwsu{background:#eee}td.svelte-ztcwsu{padding:10px;height:10px;line-height:10px;font-size:12px;border:none}th.svelte-ztcwsu{background:#888;color:#fff;padding:10px;text-align:center}\";\n\tappend(document.head, style);\n}\n\nfunction get_each_context$3(ctx, list, i) {\n\tconst child_ctx = Object.create(ctx);\n\tchild_ctx.child = list[i];\n\tchild_ctx.i = i;\n\treturn child_ctx;\n}\n\n// (86:2) {#each children as child, i}\nfunction create_each_block$3(ctx) {\n\tvar tr, td0, t0_value = ctx.child.value + \"\", t0, t1, td1, t2_value = ctx.child.visits + \"\", t2, t3, td2, t4, current, dispose;\n\n\tvar action = new Action({ props: { action: ctx.child.parentAction } });\n\n\tfunction click_handler() {\n\t\treturn ctx.click_handler(ctx);\n\t}\n\n\tfunction mouseout_handler() {\n\t\treturn ctx.mouseout_handler(ctx);\n\t}\n\n\tfunction mouseover_handler() {\n\t\treturn ctx.mouseover_handler(ctx);\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\ttr = element(\"tr\");\n\t\t\ttd0 = element(\"td\");\n\t\t\tt0 = text(t0_value);\n\t\t\tt1 = space();\n\t\t\ttd1 = element(\"td\");\n\t\t\tt2 = text(t2_value);\n\t\t\tt3 = space();\n\t\t\ttd2 = element(\"td\");\n\t\t\taction.$$.fragment.c();\n\t\t\tt4 = space();\n\t\t\tattr(td0, \"class\", \"svelte-ztcwsu\");\n\t\t\tattr(td1, \"class\", \"svelte-ztcwsu\");\n\t\t\tattr(td2, \"class\", \"svelte-ztcwsu\");\n\t\t\tattr(tr, \"class\", \"svelte-ztcwsu\");\n\t\t\ttoggle_class(tr, \"clickable\", ctx.children.length > 0);\n\t\t\ttoggle_class(tr, \"selected\", ctx.i === ctx.selectedIndex);\n\n\t\t\tdispose = [\n\t\t\t\tlisten(tr, \"click\", click_handler),\n\t\t\t\tlisten(tr, \"mouseout\", mouseout_handler),\n\t\t\t\tlisten(tr, \"mouseover\", mouseover_handler)\n\t\t\t];\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, tr, anchor);\n\t\t\tappend(tr, td0);\n\t\t\tappend(td0, t0);\n\t\t\tappend(tr, t1);\n\t\t\tappend(tr, td1);\n\t\t\tappend(td1, t2);\n\t\t\tappend(tr, t3);\n\t\t\tappend(tr, td2);\n\t\t\tmount_component(action, td2, null);\n\t\t\tappend(tr, t4);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, new_ctx) {\n\t\t\tctx = new_ctx;\n\t\t\tif ((!current || changed.children) && t0_value !== (t0_value = ctx.child.value + \"\")) {\n\t\t\t\tset_data(t0, t0_value);\n\t\t\t}\n\n\t\t\tif ((!current || changed.children) && t2_value !== (t2_value = ctx.child.visits + \"\")) {\n\t\t\t\tset_data(t2, t2_value);\n\t\t\t}\n\n\t\t\tvar action_changes = {};\n\t\t\tif (changed.children) action_changes.action = ctx.child.parentAction;\n\t\t\taction.$set(action_changes);\n\n\t\t\tif (changed.children) {\n\t\t\t\ttoggle_class(tr, \"clickable\", ctx.children.length > 0);\n\t\t\t}\n\n\t\t\tif (changed.selectedIndex) {\n\t\t\t\ttoggle_class(tr, \"selected\", ctx.i === ctx.selectedIndex);\n\t\t\t}\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(action.$$.fragment, local);\n\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\ttransition_out(action.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(tr);\n\t\t\t}\n\n\t\t\tdestroy_component(action);\n\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\nfunction create_fragment$g(ctx) {\n\tvar table, thead, t_5, tbody, current;\n\n\tlet each_value = ctx.children;\n\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$3(get_each_context$3(ctx, each_value, i));\n\t}\n\n\tconst out = i => transition_out(each_blocks[i], 1, 1, () => {\n\t\teach_blocks[i] = null;\n\t});\n\n\treturn {\n\t\tc() {\n\t\t\ttable = element(\"table\");\n\t\t\tthead = element(\"thead\");\n\t\t\tthead.innerHTML = `<th class=\"svelte-ztcwsu\">Value</th> <th class=\"svelte-ztcwsu\">Visits</th> <th class=\"svelte-ztcwsu\">Action</th>`;\n\t\t\tt_5 = space();\n\t\t\ttbody = element(\"tbody\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\t\t\tattr(table, \"class\", \"svelte-ztcwsu\");\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, table, anchor);\n\t\t\tappend(table, thead);\n\t\t\tappend(table, t_5);\n\t\t\tappend(table, tbody);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(tbody, null);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif (changed.children || changed.selectedIndex) {\n\t\t\t\teach_value = ctx.children;\n\n\t\t\t\tlet i;\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$3(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(changed, child_ctx);\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$3(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t\teach_blocks[i].m(tbody, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgroup_outros();\n\t\t\t\tfor (i = each_value.length; i < each_blocks.length; i += 1) {\n\t\t\t\t\tout(i);\n\t\t\t\t}\n\t\t\t\tcheck_outros();\n\t\t\t}\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\t\t\ttransition_in(each_blocks[i]);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\teach_blocks = each_blocks.filter(Boolean);\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\ttransition_out(each_blocks[i]);\n\t\t\t}\n\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(table);\n\t\t\t}\n\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$g($$self, $$props, $$invalidate) {\n\tlet { root, selectedIndex = null } = $$props;\n\n  const dispatch = createEventDispatcher();\n\n  let parents = [];\n  let children = [];\n\n  function Select(node, i) {\n    dispatch('select', { node, selectedIndex: i });\n  }\n\n  function Preview(node, i) {\n    if (selectedIndex === null) {\n      dispatch('preview', { node });\n    }\n  }\n\n\tconst click_handler = ({ child, i }) => Select(child, i);\n\n\tconst mouseout_handler = ({ i }) => Preview(null);\n\n\tconst mouseover_handler = ({ child, i }) => Preview(child);\n\n\t$$self.$set = $$props => {\n\t\tif ('root' in $$props) $$invalidate('root', root = $$props.root);\n\t\tif ('selectedIndex' in $$props) $$invalidate('selectedIndex', selectedIndex = $$props.selectedIndex);\n\t};\n\n\t$$self.$$.update = ($$dirty = { root: 1, parents: 1 }) => {\n\t\tif ($$dirty.root || $$dirty.parents) { {\n        let t = root;\n        $$invalidate('parents', parents = []);\n        while (t.parent) {\n          const parent = t.parent;\n          const { type, args } = t.parentAction.payload;\n          const argsFormatted = (args || []).join(',');\n          const arrowText = `${type}(${argsFormatted})`;\n          parents.push({ parent, arrowText });\n          t = parent;\n        }\n        parents.reverse();\n    \n        $$invalidate('children', children = [...root.children]\n                       .sort((a, b) => (a.visits < b.visits ? 1 : -1))\n                       .slice(0, 50));\n      } }\n\t};\n\n\treturn {\n\t\troot,\n\t\tselectedIndex,\n\t\tchildren,\n\t\tSelect,\n\t\tPreview,\n\t\tclick_handler,\n\t\tmouseout_handler,\n\t\tmouseover_handler\n\t};\n}\n\nclass Table extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-ztcwsu-style\")) add_css$e();\n\t\tinit(this, options, instance$g, create_fragment$g, safe_not_equal, [\"root\", \"selectedIndex\"]);\n\t}\n}\n\n/* src/client/debug/mcts/MCTS.svelte generated by Svelte v3.12.1 */\n\nfunction add_css$f() {\n\tvar style = element(\"style\");\n\tstyle.id = 'svelte-1f0amz4-style';\n\tstyle.textContent = \".visualizer.svelte-1f0amz4{display:flex;flex-direction:column;align-items:center;padding:50px}.preview.svelte-1f0amz4{opacity:0.5}.icon.svelte-1f0amz4{color:#777;width:32px;height:32px;margin-bottom:20px}\";\n\tappend(document.head, style);\n}\n\nfunction get_each_context$4(ctx, list, i) {\n\tconst child_ctx = Object.create(ctx);\n\tchild_ctx.node = list[i].node;\n\tchild_ctx.selectedIndex = list[i].selectedIndex;\n\tchild_ctx.i = i;\n\treturn child_ctx;\n}\n\n// (50:4) {#if i !== 0}\nfunction create_if_block_2$1(ctx) {\n\tvar div, current;\n\n\tvar arrow = new FaArrowAltCircleDown({});\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tarrow.$$.fragment.c();\n\t\t\tattr(div, \"class\", \"icon svelte-1f0amz4\");\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tmount_component(arrow, div, null);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(arrow.$$.fragment, local);\n\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\ttransition_out(arrow.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(div);\n\t\t\t}\n\n\t\t\tdestroy_component(arrow);\n\t\t}\n\t};\n}\n\n// (61:6) {:else}\nfunction create_else_block$1(ctx) {\n\tvar current;\n\n\tfunction select_handler_1(...args) {\n\t\treturn ctx.select_handler_1(ctx, ...args);\n\t}\n\n\tvar table = new Table({\n\t\tprops: {\n\t\troot: ctx.node,\n\t\tselectedIndex: ctx.selectedIndex\n\t}\n\t});\n\ttable.$on(\"select\", select_handler_1);\n\n\treturn {\n\t\tc() {\n\t\t\ttable.$$.fragment.c();\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tmount_component(table, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, new_ctx) {\n\t\t\tctx = new_ctx;\n\t\t\tvar table_changes = {};\n\t\t\tif (changed.nodes) table_changes.root = ctx.node;\n\t\t\tif (changed.nodes) table_changes.selectedIndex = ctx.selectedIndex;\n\t\t\ttable.$set(table_changes);\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(table.$$.fragment, local);\n\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\ttransition_out(table.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tdestroy_component(table, detaching);\n\t\t}\n\t};\n}\n\n// (57:6) {#if i === nodes.length - 1}\nfunction create_if_block_1$1(ctx) {\n\tvar current;\n\n\tfunction select_handler(...args) {\n\t\treturn ctx.select_handler(ctx, ...args);\n\t}\n\n\tfunction preview_handler(...args) {\n\t\treturn ctx.preview_handler(ctx, ...args);\n\t}\n\n\tvar table = new Table({ props: { root: ctx.node } });\n\ttable.$on(\"select\", select_handler);\n\ttable.$on(\"preview\", preview_handler);\n\n\treturn {\n\t\tc() {\n\t\t\ttable.$$.fragment.c();\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tmount_component(table, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, new_ctx) {\n\t\t\tctx = new_ctx;\n\t\t\tvar table_changes = {};\n\t\t\tif (changed.nodes) table_changes.root = ctx.node;\n\t\t\ttable.$set(table_changes);\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(table.$$.fragment, local);\n\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\ttransition_out(table.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tdestroy_component(table, detaching);\n\t\t}\n\t};\n}\n\n// (49:2) {#each nodes as { node, selectedIndex }\nfunction create_each_block$4(ctx) {\n\tvar t, section, current_block_type_index, if_block1, current;\n\n\tvar if_block0 = (ctx.i !== 0) && create_if_block_2$1();\n\n\tvar if_block_creators = [\n\t\tcreate_if_block_1$1,\n\t\tcreate_else_block$1\n\t];\n\n\tvar if_blocks = [];\n\n\tfunction select_block_type(changed, ctx) {\n\t\tif (ctx.i === ctx.nodes.length - 1) return 0;\n\t\treturn 1;\n\t}\n\n\tcurrent_block_type_index = select_block_type(null, ctx);\n\tif_block1 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tif (if_block0) if_block0.c();\n\t\t\tt = space();\n\t\t\tsection = element(\"section\");\n\t\t\tif_block1.c();\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tif (if_block0) if_block0.m(target, anchor);\n\t\t\tinsert(target, t, anchor);\n\t\t\tinsert(target, section, anchor);\n\t\t\tif_blocks[current_block_type_index].m(section, null);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tvar previous_block_index = current_block_type_index;\n\t\t\tcurrent_block_type_index = select_block_type(changed, ctx);\n\t\t\tif (current_block_type_index === previous_block_index) {\n\t\t\t\tif_blocks[current_block_type_index].p(changed, ctx);\n\t\t\t} else {\n\t\t\t\tgroup_outros();\n\t\t\t\ttransition_out(if_blocks[previous_block_index], 1, 1, () => {\n\t\t\t\t\tif_blocks[previous_block_index] = null;\n\t\t\t\t});\n\t\t\t\tcheck_outros();\n\n\t\t\t\tif_block1 = if_blocks[current_block_type_index];\n\t\t\t\tif (!if_block1) {\n\t\t\t\t\tif_block1 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\t\t\t\t\tif_block1.c();\n\t\t\t\t}\n\t\t\t\ttransition_in(if_block1, 1);\n\t\t\t\tif_block1.m(section, null);\n\t\t\t}\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block0);\n\t\t\ttransition_in(if_block1);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\ttransition_out(if_block0);\n\t\t\ttransition_out(if_block1);\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (if_block0) if_block0.d(detaching);\n\n\t\t\tif (detaching) {\n\t\t\t\tdetach(t);\n\t\t\t\tdetach(section);\n\t\t\t}\n\n\t\t\tif_blocks[current_block_type_index].d();\n\t\t}\n\t};\n}\n\n// (69:2) {#if preview}\nfunction create_if_block$6(ctx) {\n\tvar div, t, section, current;\n\n\tvar arrow = new FaArrowAltCircleDown({});\n\n\tvar table = new Table({ props: { root: ctx.preview } });\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tarrow.$$.fragment.c();\n\t\t\tt = space();\n\t\t\tsection = element(\"section\");\n\t\t\ttable.$$.fragment.c();\n\t\t\tattr(div, \"class\", \"icon svelte-1f0amz4\");\n\t\t\tattr(section, \"class\", \"preview svelte-1f0amz4\");\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tmount_component(arrow, div, null);\n\t\t\tinsert(target, t, anchor);\n\t\t\tinsert(target, section, anchor);\n\t\t\tmount_component(table, section, null);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tvar table_changes = {};\n\t\t\tif (changed.preview) table_changes.root = ctx.preview;\n\t\t\ttable.$set(table_changes);\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(arrow.$$.fragment, local);\n\n\t\t\ttransition_in(table.$$.fragment, local);\n\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\ttransition_out(arrow.$$.fragment, local);\n\t\t\ttransition_out(table.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(div);\n\t\t\t}\n\n\t\t\tdestroy_component(arrow);\n\n\t\t\tif (detaching) {\n\t\t\t\tdetach(t);\n\t\t\t\tdetach(section);\n\t\t\t}\n\n\t\t\tdestroy_component(table);\n\t\t}\n\t};\n}\n\nfunction create_fragment$h(ctx) {\n\tvar div, t, current;\n\n\tlet each_value = ctx.nodes;\n\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$4(get_each_context$4(ctx, each_value, i));\n\t}\n\n\tconst out = i => transition_out(each_blocks[i], 1, 1, () => {\n\t\teach_blocks[i] = null;\n\t});\n\n\tvar if_block = (ctx.preview) && create_if_block$6(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tt = space();\n\t\t\tif (if_block) if_block.c();\n\t\t\tattr(div, \"class\", \"visualizer svelte-1f0amz4\");\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(div, null);\n\t\t\t}\n\n\t\t\tappend(div, t);\n\t\t\tif (if_block) if_block.m(div, null);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif (changed.nodes) {\n\t\t\t\teach_value = ctx.nodes;\n\n\t\t\t\tlet i;\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$4(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(changed, child_ctx);\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$4(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t\teach_blocks[i].m(div, t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgroup_outros();\n\t\t\t\tfor (i = each_value.length; i < each_blocks.length; i += 1) {\n\t\t\t\t\tout(i);\n\t\t\t\t}\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (ctx.preview) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(changed, ctx);\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$6(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\tif_block.m(div, null);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tgroup_outros();\n\t\t\t\ttransition_out(if_block, 1, 1, () => {\n\t\t\t\t\tif_block = null;\n\t\t\t\t});\n\t\t\t\tcheck_outros();\n\t\t\t}\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\t\t\ttransition_in(each_blocks[i]);\n\t\t\t}\n\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\teach_blocks = each_blocks.filter(Boolean);\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\ttransition_out(each_blocks[i]);\n\t\t\t}\n\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(div);\n\t\t\t}\n\n\t\t\tdestroy_each(each_blocks, detaching);\n\n\t\t\tif (if_block) if_block.d();\n\t\t}\n\t};\n}\n\nfunction instance$h($$self, $$props, $$invalidate) {\n\tlet { metadata } = $$props;\n\n  let nodes = [];\n  let preview = null;\n\n  function SelectNode({ node, selectedIndex }, i) {\n    $$invalidate('preview', preview = null);\n    $$invalidate('nodes', nodes[i].selectedIndex = selectedIndex, nodes);\n    $$invalidate('nodes', nodes = [...nodes.slice(0, i + 1), { node }]);\n  }\n\n  function PreviewNode({ node }, i) {\n    $$invalidate('preview', preview = node);\n  }\n\n\tconst select_handler = ({ i }, e) => SelectNode(e.detail, i);\n\n\tconst preview_handler = ({ i }, e) => PreviewNode(e.detail);\n\n\tconst select_handler_1 = ({ i }, e) => SelectNode(e.detail, i);\n\n\t$$self.$set = $$props => {\n\t\tif ('metadata' in $$props) $$invalidate('metadata', metadata = $$props.metadata);\n\t};\n\n\t$$self.$$.update = ($$dirty = { metadata: 1 }) => {\n\t\tif ($$dirty.metadata) { {\n        $$invalidate('nodes', nodes = [{ node: metadata }]);\n      } }\n\t};\n\n\treturn {\n\t\tmetadata,\n\t\tnodes,\n\t\tpreview,\n\t\tSelectNode,\n\t\tPreviewNode,\n\t\tselect_handler,\n\t\tpreview_handler,\n\t\tselect_handler_1\n\t};\n}\n\nclass MCTS extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-1f0amz4-style\")) add_css$f();\n\t\tinit(this, options, instance$h, create_fragment$h, safe_not_equal, [\"metadata\"]);\n\t}\n}\n\n/* src/client/debug/log/Log.svelte generated by Svelte v3.12.1 */\n\nfunction add_css$g() {\n\tvar style = element(\"style\");\n\tstyle.id = 'svelte-1pq5e4b-style';\n\tstyle.textContent = \".gamelog.svelte-1pq5e4b{display:grid;grid-template-columns:30px 1fr 30px;grid-auto-rows:auto;grid-auto-flow:column}\";\n\tappend(document.head, style);\n}\n\nfunction get_each_context$5(ctx, list, i) {\n\tconst child_ctx = Object.create(ctx);\n\tchild_ctx.phase = list[i].phase;\n\tchild_ctx.i = i;\n\treturn child_ctx;\n}\n\nfunction get_each_context_1(ctx, list, i) {\n\tconst child_ctx = Object.create(ctx);\n\tchild_ctx.action = list[i].action;\n\tchild_ctx.payload = list[i].payload;\n\tchild_ctx.i = i;\n\treturn child_ctx;\n}\n\nfunction get_each_context_2(ctx, list, i) {\n\tconst child_ctx = Object.create(ctx);\n\tchild_ctx.turn = list[i].turn;\n\tchild_ctx.i = i;\n\treturn child_ctx;\n}\n\n// (137:4) {#if i in turnBoundaries}\nfunction create_if_block_1$2(ctx) {\n\tvar current;\n\n\tvar turnmarker = new TurnMarker({\n\t\tprops: {\n\t\tturn: ctx.turn,\n\t\tnumEvents: ctx.turnBoundaries[ctx.i]\n\t}\n\t});\n\n\treturn {\n\t\tc() {\n\t\t\tturnmarker.$$.fragment.c();\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tmount_component(turnmarker, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tvar turnmarker_changes = {};\n\t\t\tif (changed.renderedLogEntries) turnmarker_changes.turn = ctx.turn;\n\t\t\tif (changed.turnBoundaries) turnmarker_changes.numEvents = ctx.turnBoundaries[ctx.i];\n\t\t\tturnmarker.$set(turnmarker_changes);\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(turnmarker.$$.fragment, local);\n\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\ttransition_out(turnmarker.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tdestroy_component(turnmarker, detaching);\n\t\t}\n\t};\n}\n\n// (136:2) {#each renderedLogEntries as { turn }\nfunction create_each_block_2(ctx) {\n\tvar if_block_anchor, current;\n\n\tvar if_block = (ctx.i in ctx.turnBoundaries) && create_if_block_1$2(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tif (if_block) if_block.c();\n\t\t\tif_block_anchor = empty();\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tif (if_block) if_block.m(target, anchor);\n\t\t\tinsert(target, if_block_anchor, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif (ctx.i in ctx.turnBoundaries) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(changed, ctx);\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block_1$2(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\tif_block.m(if_block_anchor.parentNode, if_block_anchor);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tgroup_outros();\n\t\t\t\ttransition_out(if_block, 1, 1, () => {\n\t\t\t\t\tif_block = null;\n\t\t\t\t});\n\t\t\t\tcheck_outros();\n\t\t\t}\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (if_block) if_block.d(detaching);\n\n\t\t\tif (detaching) {\n\t\t\t\tdetach(if_block_anchor);\n\t\t\t}\n\t\t}\n\t};\n}\n\n// (142:2) {#each renderedLogEntries as { action, payload }\nfunction create_each_block_1(ctx) {\n\tvar current;\n\n\tvar logevent = new LogEvent({\n\t\tprops: {\n\t\tpinned: ctx.i === ctx.pinned,\n\t\tlogIndex: ctx.i,\n\t\taction: ctx.action,\n\t\tpayload: ctx.payload\n\t}\n\t});\n\tlogevent.$on(\"click\", ctx.OnLogClick);\n\tlogevent.$on(\"mouseenter\", ctx.OnMouseEnter);\n\tlogevent.$on(\"mouseleave\", ctx.OnMouseLeave);\n\n\treturn {\n\t\tc() {\n\t\t\tlogevent.$$.fragment.c();\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tmount_component(logevent, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tvar logevent_changes = {};\n\t\t\tif (changed.pinned) logevent_changes.pinned = ctx.i === ctx.pinned;\n\t\t\tif (changed.renderedLogEntries) logevent_changes.action = ctx.action;\n\t\t\tif (changed.renderedLogEntries) logevent_changes.payload = ctx.payload;\n\t\t\tlogevent.$set(logevent_changes);\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(logevent.$$.fragment, local);\n\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\ttransition_out(logevent.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tdestroy_component(logevent, detaching);\n\t\t}\n\t};\n}\n\n// (154:4) {#if i in phaseBoundaries}\nfunction create_if_block$7(ctx) {\n\tvar current;\n\n\tvar phasemarker = new PhaseMarker({\n\t\tprops: {\n\t\tphase: ctx.phase,\n\t\tnumEvents: ctx.phaseBoundaries[ctx.i]\n\t}\n\t});\n\n\treturn {\n\t\tc() {\n\t\t\tphasemarker.$$.fragment.c();\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tmount_component(phasemarker, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tvar phasemarker_changes = {};\n\t\t\tif (changed.renderedLogEntries) phasemarker_changes.phase = ctx.phase;\n\t\t\tif (changed.phaseBoundaries) phasemarker_changes.numEvents = ctx.phaseBoundaries[ctx.i];\n\t\t\tphasemarker.$set(phasemarker_changes);\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(phasemarker.$$.fragment, local);\n\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\ttransition_out(phasemarker.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tdestroy_component(phasemarker, detaching);\n\t\t}\n\t};\n}\n\n// (153:2) {#each renderedLogEntries as { phase }\nfunction create_each_block$5(ctx) {\n\tvar if_block_anchor, current;\n\n\tvar if_block = (ctx.i in ctx.phaseBoundaries) && create_if_block$7(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tif (if_block) if_block.c();\n\t\t\tif_block_anchor = empty();\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tif (if_block) if_block.m(target, anchor);\n\t\t\tinsert(target, if_block_anchor, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif (ctx.i in ctx.phaseBoundaries) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(changed, ctx);\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$7(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\tif_block.m(if_block_anchor.parentNode, if_block_anchor);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tgroup_outros();\n\t\t\t\ttransition_out(if_block, 1, 1, () => {\n\t\t\t\t\tif_block = null;\n\t\t\t\t});\n\t\t\t\tcheck_outros();\n\t\t\t}\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (if_block) if_block.d(detaching);\n\n\t\t\tif (detaching) {\n\t\t\t\tdetach(if_block_anchor);\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction create_fragment$i(ctx) {\n\tvar div, t0, t1, current, dispose;\n\n\tlet each_value_2 = ctx.renderedLogEntries;\n\n\tlet each_blocks_2 = [];\n\n\tfor (let i = 0; i < each_value_2.length; i += 1) {\n\t\teach_blocks_2[i] = create_each_block_2(get_each_context_2(ctx, each_value_2, i));\n\t}\n\n\tconst out = i => transition_out(each_blocks_2[i], 1, 1, () => {\n\t\teach_blocks_2[i] = null;\n\t});\n\n\tlet each_value_1 = ctx.renderedLogEntries;\n\n\tlet each_blocks_1 = [];\n\n\tfor (let i = 0; i < each_value_1.length; i += 1) {\n\t\teach_blocks_1[i] = create_each_block_1(get_each_context_1(ctx, each_value_1, i));\n\t}\n\n\tconst out_1 = i => transition_out(each_blocks_1[i], 1, 1, () => {\n\t\teach_blocks_1[i] = null;\n\t});\n\n\tlet each_value = ctx.renderedLogEntries;\n\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$5(get_each_context$5(ctx, each_value, i));\n\t}\n\n\tconst out_2 = i => transition_out(each_blocks[i], 1, 1, () => {\n\t\teach_blocks[i] = null;\n\t});\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\teach_blocks_2[i].c();\n\t\t\t}\n\n\t\t\tt0 = space();\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\teach_blocks_1[i].c();\n\t\t\t}\n\n\t\t\tt1 = space();\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\t\t\tattr(div, \"class\", \"gamelog svelte-1pq5e4b\");\n\t\t\ttoggle_class(div, \"pinned\", ctx.pinned);\n\t\t\tdispose = listen(window, \"keydown\", ctx.OnKeyDown);\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\teach_blocks_2[i].m(div, null);\n\t\t\t}\n\n\t\t\tappend(div, t0);\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\teach_blocks_1[i].m(div, null);\n\t\t\t}\n\n\t\t\tappend(div, t1);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(div, null);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif (changed.turnBoundaries || changed.renderedLogEntries) {\n\t\t\t\teach_value_2 = ctx.renderedLogEntries;\n\n\t\t\t\tlet i;\n\t\t\t\tfor (i = 0; i < each_value_2.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context_2(ctx, each_value_2, i);\n\n\t\t\t\t\tif (each_blocks_2[i]) {\n\t\t\t\t\t\teach_blocks_2[i].p(changed, child_ctx);\n\t\t\t\t\t\ttransition_in(each_blocks_2[i], 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks_2[i] = create_each_block_2(child_ctx);\n\t\t\t\t\t\teach_blocks_2[i].c();\n\t\t\t\t\t\ttransition_in(each_blocks_2[i], 1);\n\t\t\t\t\t\teach_blocks_2[i].m(div, t0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgroup_outros();\n\t\t\t\tfor (i = each_value_2.length; i < each_blocks_2.length; i += 1) {\n\t\t\t\t\tout(i);\n\t\t\t\t}\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (changed.pinned || changed.renderedLogEntries) {\n\t\t\t\teach_value_1 = ctx.renderedLogEntries;\n\n\t\t\t\tlet i;\n\t\t\t\tfor (i = 0; i < each_value_1.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context_1(ctx, each_value_1, i);\n\n\t\t\t\t\tif (each_blocks_1[i]) {\n\t\t\t\t\t\teach_blocks_1[i].p(changed, child_ctx);\n\t\t\t\t\t\ttransition_in(each_blocks_1[i], 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks_1[i] = create_each_block_1(child_ctx);\n\t\t\t\t\t\teach_blocks_1[i].c();\n\t\t\t\t\t\ttransition_in(each_blocks_1[i], 1);\n\t\t\t\t\t\teach_blocks_1[i].m(div, t1);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgroup_outros();\n\t\t\t\tfor (i = each_value_1.length; i < each_blocks_1.length; i += 1) {\n\t\t\t\t\tout_1(i);\n\t\t\t\t}\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (changed.phaseBoundaries || changed.renderedLogEntries) {\n\t\t\t\teach_value = ctx.renderedLogEntries;\n\n\t\t\t\tlet i;\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$5(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(changed, child_ctx);\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$5(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t\teach_blocks[i].m(div, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgroup_outros();\n\t\t\t\tfor (i = each_value.length; i < each_blocks.length; i += 1) {\n\t\t\t\t\tout_2(i);\n\t\t\t\t}\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (changed.pinned) {\n\t\t\t\ttoggle_class(div, \"pinned\", ctx.pinned);\n\t\t\t}\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\tfor (let i = 0; i < each_value_2.length; i += 1) {\n\t\t\t\ttransition_in(each_blocks_2[i]);\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < each_value_1.length; i += 1) {\n\t\t\t\ttransition_in(each_blocks_1[i]);\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\t\t\ttransition_in(each_blocks[i]);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\teach_blocks_2 = each_blocks_2.filter(Boolean);\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\ttransition_out(each_blocks_2[i]);\n\t\t\t}\n\n\t\t\teach_blocks_1 = each_blocks_1.filter(Boolean);\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\ttransition_out(each_blocks_1[i]);\n\t\t\t}\n\n\t\t\teach_blocks = each_blocks.filter(Boolean);\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\ttransition_out(each_blocks[i]);\n\t\t\t}\n\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(div);\n\t\t\t}\n\n\t\t\tdestroy_each(each_blocks_2, detaching);\n\n\t\t\tdestroy_each(each_blocks_1, detaching);\n\n\t\t\tdestroy_each(each_blocks, detaching);\n\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction instance$i($$self, $$props, $$invalidate) {\n\tlet $client;\n\n\tlet { client } = $$props; component_subscribe($$self, client, $$value => { $client = $$value; $$invalidate('$client', $client); });\n\n  const { secondaryPane } = getContext('secondaryPane');\n\n  const initialState = client.getInitialState();\n  let { log } = $client;\n  let pinned = null;\n\n  function rewind(logIndex) {\n    let state = initialState;\n    for (let i = 0; i < log.length; i++) {\n      const { action, automatic } = log[i];\n\n      if (!automatic) {\n        state = client.reducer(state, action);\n      }\n\n      if (action.type == MAKE_MOVE) {\n        if (logIndex == 0) {\n          break;\n        }\n\n        logIndex--;\n      }\n    }\n    return { G: state.G, ctx: state.ctx };\n  }\n\n  function OnLogClick(e) {\n    const { logIndex } = e.detail;\n    const state = rewind(logIndex);\n    const renderedLogEntries = log.filter(e => e.action.type == MAKE_MOVE);\n    client.overrideGameState(state);\n\n    if (pinned == logIndex) {\n      $$invalidate('pinned', pinned = null);\n      secondaryPane.set(null);\n    } else {\n      $$invalidate('pinned', pinned = logIndex);\n      const { metadata } = renderedLogEntries[logIndex].action.payload;\n      if (metadata) {\n        secondaryPane.set({ component: MCTS, metadata });\n      }\n    }\n  }\n\n  function OnMouseEnter(e) {\n    const { logIndex } = e.detail;\n    if (pinned === null) {\n      const state = rewind(logIndex);\n      client.overrideGameState(state);\n    }\n  }\n\n  function OnMouseLeave() {\n    if (pinned === null) {\n      client.overrideGameState(null);\n    }\n  }\n\n  function Reset() {\n    $$invalidate('pinned', pinned = null);\n    client.overrideGameState(null);\n    secondaryPane.set(null);\n  }\n\n  onDestroy(Reset);\n\n  function OnKeyDown(e) {\n    // ESC.\n    if (e.keyCode == 27) {\n      Reset();\n    }\n  }\n\n  let renderedLogEntries;\n  let turnBoundaries = {};\n  let phaseBoundaries = {};\n\n\t$$self.$set = $$props => {\n\t\tif ('client' in $$props) $$invalidate('client', client = $$props.client);\n\t};\n\n\t$$self.$$.update = ($$dirty = { $client: 1, log: 1, renderedLogEntries: 1 }) => {\n\t\tif ($$dirty.$client || $$dirty.log || $$dirty.renderedLogEntries) { {\n        $$invalidate('log', log = $client.log);\n        $$invalidate('renderedLogEntries', renderedLogEntries = log.filter(e => e.action.type == MAKE_MOVE));\n    \n        let eventsInCurrentPhase = 0;\n        let eventsInCurrentTurn = 0;\n    \n        $$invalidate('turnBoundaries', turnBoundaries = {});\n        $$invalidate('phaseBoundaries', phaseBoundaries = {});\n    \n        for (let i = 0; i < renderedLogEntries.length; i++) {\n          const { action, payload, turn, phase } = renderedLogEntries[i];\n    \n          eventsInCurrentTurn++;\n          eventsInCurrentPhase++;\n    \n          if (\n            i == renderedLogEntries.length - 1 ||\n            renderedLogEntries[i + 1].turn != turn\n          ) {\n            $$invalidate('turnBoundaries', turnBoundaries[i] = eventsInCurrentTurn, turnBoundaries);\n            eventsInCurrentTurn = 0;\n          }\n    \n          if (\n            i == renderedLogEntries.length - 1 ||\n            renderedLogEntries[i + 1].phase != phase\n          ) {\n            $$invalidate('phaseBoundaries', phaseBoundaries[i] = eventsInCurrentPhase, phaseBoundaries);\n            eventsInCurrentPhase = 0;\n          }\n        }\n      } }\n\t};\n\n\treturn {\n\t\tclient,\n\t\tpinned,\n\t\tOnLogClick,\n\t\tOnMouseEnter,\n\t\tOnMouseLeave,\n\t\tOnKeyDown,\n\t\trenderedLogEntries,\n\t\tturnBoundaries,\n\t\tphaseBoundaries\n\t};\n}\n\nclass Log extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-1pq5e4b-style\")) add_css$g();\n\t\tinit(this, options, instance$i, create_fragment$i, safe_not_equal, [\"client\"]);\n\t}\n}\n\n/* src/client/debug/ai/Options.svelte generated by Svelte v3.12.1 */\nconst { Object: Object_1 } = globals;\n\nfunction add_css$h() {\n\tvar style = element(\"style\");\n\tstyle.id = 'svelte-7cel4i-style';\n\tstyle.textContent = \"label.svelte-7cel4i{font-weight:bold;color:#999}.option.svelte-7cel4i{margin-bottom:20px}.value.svelte-7cel4i{font-weight:bold}input[type='checkbox'].svelte-7cel4i{vertical-align:middle}\";\n\tappend(document.head, style);\n}\n\nfunction get_each_context$6(ctx, list, i) {\n\tconst child_ctx = Object_1.create(ctx);\n\tchild_ctx.key = list[i][0];\n\tchild_ctx.value = list[i][1];\n\treturn child_ctx;\n}\n\n// (39:4) {#if value.range}\nfunction create_if_block_1$3(ctx) {\n\tvar span, t0_value = ctx.values[ctx.key] + \"\", t0, t1, input, input_min_value, input_max_value, dispose;\n\n\tfunction input_change_input_handler() {\n\t\tctx.input_change_input_handler.call(input, ctx);\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tspan = element(\"span\");\n\t\t\tt0 = text(t0_value);\n\t\t\tt1 = space();\n\t\t\tinput = element(\"input\");\n\t\t\tattr(span, \"class\", \"value svelte-7cel4i\");\n\t\t\tattr(input, \"type\", \"range\");\n\t\t\tattr(input, \"min\", input_min_value = ctx.value.range.min);\n\t\t\tattr(input, \"max\", input_max_value = ctx.value.range.max);\n\n\t\t\tdispose = [\n\t\t\t\tlisten(input, \"change\", input_change_input_handler),\n\t\t\t\tlisten(input, \"input\", input_change_input_handler),\n\t\t\t\tlisten(input, \"change\", ctx.OnChange)\n\t\t\t];\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, span, anchor);\n\t\t\tappend(span, t0);\n\t\t\tinsert(target, t1, anchor);\n\t\t\tinsert(target, input, anchor);\n\n\t\t\tset_input_value(input, ctx.values[ctx.key]);\n\t\t},\n\n\t\tp(changed, new_ctx) {\n\t\t\tctx = new_ctx;\n\t\t\tif ((changed.values || changed.bot) && t0_value !== (t0_value = ctx.values[ctx.key] + \"\")) {\n\t\t\t\tset_data(t0, t0_value);\n\t\t\t}\n\n\t\t\tif ((changed.values || changed.Object || changed.bot)) set_input_value(input, ctx.values[ctx.key]);\n\n\t\t\tif ((changed.bot) && input_min_value !== (input_min_value = ctx.value.range.min)) {\n\t\t\t\tattr(input, \"min\", input_min_value);\n\t\t\t}\n\n\t\t\tif ((changed.bot) && input_max_value !== (input_max_value = ctx.value.range.max)) {\n\t\t\t\tattr(input, \"max\", input_max_value);\n\t\t\t}\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(span);\n\t\t\t\tdetach(t1);\n\t\t\t\tdetach(input);\n\t\t\t}\n\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\n// (44:4) {#if typeof value.value === 'boolean'}\nfunction create_if_block$8(ctx) {\n\tvar input, dispose;\n\n\tfunction input_change_handler() {\n\t\tctx.input_change_handler.call(input, ctx);\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tinput = element(\"input\");\n\t\t\tattr(input, \"type\", \"checkbox\");\n\t\t\tattr(input, \"class\", \"svelte-7cel4i\");\n\n\t\t\tdispose = [\n\t\t\t\tlisten(input, \"change\", input_change_handler),\n\t\t\t\tlisten(input, \"change\", ctx.OnChange)\n\t\t\t];\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, input, anchor);\n\n\t\t\tinput.checked = ctx.values[ctx.key];\n\t\t},\n\n\t\tp(changed, new_ctx) {\n\t\t\tctx = new_ctx;\n\t\t\tif ((changed.values || changed.Object || changed.bot)) input.checked = ctx.values[ctx.key];\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(input);\n\t\t\t}\n\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\n// (35:0) {#each Object.entries(bot.opts()) as [key, value]}\nfunction create_each_block$6(ctx) {\n\tvar div, label, t0_value = ctx.key + \"\", t0, t1, t2, t3;\n\n\tvar if_block0 = (ctx.value.range) && create_if_block_1$3(ctx);\n\n\tvar if_block1 = (typeof ctx.value.value === 'boolean') && create_if_block$8(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tlabel = element(\"label\");\n\t\t\tt0 = text(t0_value);\n\t\t\tt1 = space();\n\t\t\tif (if_block0) if_block0.c();\n\t\t\tt2 = space();\n\t\t\tif (if_block1) if_block1.c();\n\t\t\tt3 = space();\n\t\t\tattr(label, \"class\", \"svelte-7cel4i\");\n\t\t\tattr(div, \"class\", \"option svelte-7cel4i\");\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, label);\n\t\t\tappend(label, t0);\n\t\t\tappend(div, t1);\n\t\t\tif (if_block0) if_block0.m(div, null);\n\t\t\tappend(div, t2);\n\t\t\tif (if_block1) if_block1.m(div, null);\n\t\t\tappend(div, t3);\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif ((changed.bot) && t0_value !== (t0_value = ctx.key + \"\")) {\n\t\t\t\tset_data(t0, t0_value);\n\t\t\t}\n\n\t\t\tif (ctx.value.range) {\n\t\t\t\tif (if_block0) {\n\t\t\t\t\tif_block0.p(changed, ctx);\n\t\t\t\t} else {\n\t\t\t\t\tif_block0 = create_if_block_1$3(ctx);\n\t\t\t\t\tif_block0.c();\n\t\t\t\t\tif_block0.m(div, t2);\n\t\t\t\t}\n\t\t\t} else if (if_block0) {\n\t\t\t\tif_block0.d(1);\n\t\t\t\tif_block0 = null;\n\t\t\t}\n\n\t\t\tif (typeof ctx.value.value === 'boolean') {\n\t\t\t\tif (if_block1) {\n\t\t\t\t\tif_block1.p(changed, ctx);\n\t\t\t\t} else {\n\t\t\t\t\tif_block1 = create_if_block$8(ctx);\n\t\t\t\t\tif_block1.c();\n\t\t\t\t\tif_block1.m(div, t3);\n\t\t\t\t}\n\t\t\t} else if (if_block1) {\n\t\t\t\tif_block1.d(1);\n\t\t\t\tif_block1 = null;\n\t\t\t}\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(div);\n\t\t\t}\n\n\t\t\tif (if_block0) if_block0.d();\n\t\t\tif (if_block1) if_block1.d();\n\t\t}\n\t};\n}\n\nfunction create_fragment$j(ctx) {\n\tvar each_1_anchor;\n\n\tlet each_value = ctx.Object.entries(ctx.bot.opts());\n\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$6(get_each_context$6(ctx, each_value, i));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\teach_1_anchor = empty();\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(target, anchor);\n\t\t\t}\n\n\t\t\tinsert(target, each_1_anchor, anchor);\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif (changed.Object || changed.bot || changed.values) {\n\t\t\t\teach_value = ctx.Object.entries(ctx.bot.opts());\n\n\t\t\t\tlet i;\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$6(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(changed, child_ctx);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$6(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\teach_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (; i < each_blocks.length; i += 1) {\n\t\t\t\t\teach_blocks[i].d(1);\n\t\t\t\t}\n\t\t\t\teach_blocks.length = each_value.length;\n\t\t\t}\n\t\t},\n\n\t\ti: noop,\n\t\to: noop,\n\n\t\td(detaching) {\n\t\t\tdestroy_each(each_blocks, detaching);\n\n\t\t\tif (detaching) {\n\t\t\t\tdetach(each_1_anchor);\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction instance$j($$self, $$props, $$invalidate) {\n\tlet { bot } = $$props;\n\n  let values = {};\n  for (let [key, value] of Object.entries(bot.opts())) {\n    $$invalidate('values', values[key] = value.value, values);\n  }\n\n  function OnChange() {\n    for (let [key, value] of Object.entries(values)) {\n      bot.setOpt(key, value);\n    }\n  }\n\n\tfunction input_change_input_handler({ key }) {\n\t\tvalues[key] = to_number(this.value);\n\t\t$$invalidate('values', values);\n\t\t$$invalidate('Object', Object);\n\t\t$$invalidate('bot', bot);\n\t}\n\n\tfunction input_change_handler({ key }) {\n\t\tvalues[key] = this.checked;\n\t\t$$invalidate('values', values);\n\t\t$$invalidate('Object', Object);\n\t\t$$invalidate('bot', bot);\n\t}\n\n\t$$self.$set = $$props => {\n\t\tif ('bot' in $$props) $$invalidate('bot', bot = $$props.bot);\n\t};\n\n\treturn {\n\t\tbot,\n\t\tvalues,\n\t\tOnChange,\n\t\tObject,\n\t\tinput_change_input_handler,\n\t\tinput_change_handler\n\t};\n}\n\nclass Options extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-7cel4i-style\")) add_css$h();\n\t\tinit(this, options, instance$j, create_fragment$j, safe_not_equal, [\"bot\"]);\n\t}\n}\n\n/* src/client/debug/ai/AI.svelte generated by Svelte v3.12.1 */\n\nfunction add_css$i() {\n\tvar style = element(\"style\");\n\tstyle.id = 'svelte-hsd9fq-style';\n\tstyle.textContent = \"li.svelte-hsd9fq{list-style:none;margin:none;margin-bottom:5px}h3.svelte-hsd9fq{text-transform:uppercase}label.svelte-hsd9fq{font-weight:bold;color:#999}input[type='checkbox'].svelte-hsd9fq{vertical-align:middle}\";\n\tappend(document.head, style);\n}\n\nfunction get_each_context$7(ctx, list, i) {\n\tconst child_ctx = Object.create(ctx);\n\tchild_ctx.bot = list[i];\n\treturn child_ctx;\n}\n\n// (193:4) {:else}\nfunction create_else_block$2(ctx) {\n\tvar p0, t_1, p1;\n\n\treturn {\n\t\tc() {\n\t\t\tp0 = element(\"p\");\n\t\t\tp0.textContent = \"No bots available.\";\n\t\t\tt_1 = space();\n\t\t\tp1 = element(\"p\");\n\t\t\tp1.innerHTML = `\n\t\t\t        Follow the instructions\n\t\t\t        <a href=\"https://boardgame.io/documentation/#/tutorial?id=bots\" target=\"_blank\">\n\t\t\t          here</a>\n\t\t\t        to set up bots.\n\t\t\t      `;\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, p0, anchor);\n\t\t\tinsert(target, t_1, anchor);\n\t\t\tinsert(target, p1, anchor);\n\t\t},\n\n\t\tp: noop,\n\t\ti: noop,\n\t\to: noop,\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(p0);\n\t\t\t\tdetach(t_1);\n\t\t\t\tdetach(p1);\n\t\t\t}\n\t\t}\n\t};\n}\n\n// (191:4) {#if client.multiplayer}\nfunction create_if_block_5(ctx) {\n\tvar p;\n\n\treturn {\n\t\tc() {\n\t\t\tp = element(\"p\");\n\t\t\tp.textContent = \"The bot debugger is only available in singleplayer mode.\";\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, p, anchor);\n\t\t},\n\n\t\tp: noop,\n\t\ti: noop,\n\t\to: noop,\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(p);\n\t\t\t}\n\t\t}\n\t};\n}\n\n// (145:2) {#if client.game.ai && !client.multiplayer}\nfunction create_if_block$9(ctx) {\n\tvar section0, h30, t1, li0, t2, li1, t3, li2, t4, section1, h31, t6, select, t7, show_if = Object.keys(ctx.bot.opts()).length, t8, if_block1_anchor, current, dispose;\n\n\tvar hotkey0 = new Hotkey({\n\t\tprops: {\n\t\tvalue: \"1\",\n\t\tonPress: ctx.Reset,\n\t\tlabel: \"reset\"\n\t}\n\t});\n\n\tvar hotkey1 = new Hotkey({\n\t\tprops: {\n\t\tvalue: \"2\",\n\t\tonPress: ctx.Step,\n\t\tlabel: \"play\"\n\t}\n\t});\n\n\tvar hotkey2 = new Hotkey({\n\t\tprops: {\n\t\tvalue: \"3\",\n\t\tonPress: ctx.Simulate,\n\t\tlabel: \"simulate\"\n\t}\n\t});\n\n\tlet each_value = Object.keys(ctx.bots);\n\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$7(get_each_context$7(ctx, each_value, i));\n\t}\n\n\tvar if_block0 = (show_if) && create_if_block_4(ctx);\n\n\tvar if_block1 = (ctx.botAction || ctx.iterationCounter) && create_if_block_1$4(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tsection0 = element(\"section\");\n\t\t\th30 = element(\"h3\");\n\t\t\th30.textContent = \"Controls\";\n\t\t\tt1 = space();\n\t\t\tli0 = element(\"li\");\n\t\t\thotkey0.$$.fragment.c();\n\t\t\tt2 = space();\n\t\t\tli1 = element(\"li\");\n\t\t\thotkey1.$$.fragment.c();\n\t\t\tt3 = space();\n\t\t\tli2 = element(\"li\");\n\t\t\thotkey2.$$.fragment.c();\n\t\t\tt4 = space();\n\t\t\tsection1 = element(\"section\");\n\t\t\th31 = element(\"h3\");\n\t\t\th31.textContent = \"Bot\";\n\t\t\tt6 = space();\n\t\t\tselect = element(\"select\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tt7 = space();\n\t\t\tif (if_block0) if_block0.c();\n\t\t\tt8 = space();\n\t\t\tif (if_block1) if_block1.c();\n\t\t\tif_block1_anchor = empty();\n\t\t\tattr(h30, \"class\", \"svelte-hsd9fq\");\n\t\t\tattr(li0, \"class\", \"svelte-hsd9fq\");\n\t\t\tattr(li1, \"class\", \"svelte-hsd9fq\");\n\t\t\tattr(li2, \"class\", \"svelte-hsd9fq\");\n\t\t\tattr(h31, \"class\", \"svelte-hsd9fq\");\n\t\t\tif (ctx.selectedBot === void 0) add_render_callback(() => ctx.select_change_handler.call(select));\n\n\t\t\tdispose = [\n\t\t\t\tlisten(select, \"change\", ctx.select_change_handler),\n\t\t\t\tlisten(select, \"change\", ctx.ChangeBot)\n\t\t\t];\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section0, anchor);\n\t\t\tappend(section0, h30);\n\t\t\tappend(section0, t1);\n\t\t\tappend(section0, li0);\n\t\t\tmount_component(hotkey0, li0, null);\n\t\t\tappend(section0, t2);\n\t\t\tappend(section0, li1);\n\t\t\tmount_component(hotkey1, li1, null);\n\t\t\tappend(section0, t3);\n\t\t\tappend(section0, li2);\n\t\t\tmount_component(hotkey2, li2, null);\n\t\t\tinsert(target, t4, anchor);\n\t\t\tinsert(target, section1, anchor);\n\t\t\tappend(section1, h31);\n\t\t\tappend(section1, t6);\n\t\t\tappend(section1, select);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(select, null);\n\t\t\t}\n\n\t\t\tselect_option(select, ctx.selectedBot);\n\n\t\t\tinsert(target, t7, anchor);\n\t\t\tif (if_block0) if_block0.m(target, anchor);\n\t\t\tinsert(target, t8, anchor);\n\t\t\tif (if_block1) if_block1.m(target, anchor);\n\t\t\tinsert(target, if_block1_anchor, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif (changed.bots) {\n\t\t\t\teach_value = Object.keys(ctx.bots);\n\n\t\t\t\tlet i;\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$7(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(changed, child_ctx);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$7(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\teach_blocks[i].m(select, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (; i < each_blocks.length; i += 1) {\n\t\t\t\t\teach_blocks[i].d(1);\n\t\t\t\t}\n\t\t\t\teach_blocks.length = each_value.length;\n\t\t\t}\n\n\t\t\tif (changed.selectedBot) select_option(select, ctx.selectedBot);\n\n\t\t\tif (changed.bot) show_if = Object.keys(ctx.bot.opts()).length;\n\n\t\t\tif (show_if) {\n\t\t\t\tif (if_block0) {\n\t\t\t\t\tif_block0.p(changed, ctx);\n\t\t\t\t\ttransition_in(if_block0, 1);\n\t\t\t\t} else {\n\t\t\t\t\tif_block0 = create_if_block_4(ctx);\n\t\t\t\t\tif_block0.c();\n\t\t\t\t\ttransition_in(if_block0, 1);\n\t\t\t\t\tif_block0.m(t8.parentNode, t8);\n\t\t\t\t}\n\t\t\t} else if (if_block0) {\n\t\t\t\tgroup_outros();\n\t\t\t\ttransition_out(if_block0, 1, 1, () => {\n\t\t\t\t\tif_block0 = null;\n\t\t\t\t});\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (ctx.botAction || ctx.iterationCounter) {\n\t\t\t\tif (if_block1) {\n\t\t\t\t\tif_block1.p(changed, ctx);\n\t\t\t\t} else {\n\t\t\t\t\tif_block1 = create_if_block_1$4(ctx);\n\t\t\t\t\tif_block1.c();\n\t\t\t\t\tif_block1.m(if_block1_anchor.parentNode, if_block1_anchor);\n\t\t\t\t}\n\t\t\t} else if (if_block1) {\n\t\t\t\tif_block1.d(1);\n\t\t\t\tif_block1 = null;\n\t\t\t}\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(hotkey0.$$.fragment, local);\n\n\t\t\ttransition_in(hotkey1.$$.fragment, local);\n\n\t\t\ttransition_in(hotkey2.$$.fragment, local);\n\n\t\t\ttransition_in(if_block0);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\ttransition_out(hotkey0.$$.fragment, local);\n\t\t\ttransition_out(hotkey1.$$.fragment, local);\n\t\t\ttransition_out(hotkey2.$$.fragment, local);\n\t\t\ttransition_out(if_block0);\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(section0);\n\t\t\t}\n\n\t\t\tdestroy_component(hotkey0);\n\n\t\t\tdestroy_component(hotkey1);\n\n\t\t\tdestroy_component(hotkey2);\n\n\t\t\tif (detaching) {\n\t\t\t\tdetach(t4);\n\t\t\t\tdetach(section1);\n\t\t\t}\n\n\t\t\tdestroy_each(each_blocks, detaching);\n\n\t\t\tif (detaching) {\n\t\t\t\tdetach(t7);\n\t\t\t}\n\n\t\t\tif (if_block0) if_block0.d(detaching);\n\n\t\t\tif (detaching) {\n\t\t\t\tdetach(t8);\n\t\t\t}\n\n\t\t\tif (if_block1) if_block1.d(detaching);\n\n\t\t\tif (detaching) {\n\t\t\t\tdetach(if_block1_anchor);\n\t\t\t}\n\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\n// (162:8) {#each Object.keys(bots) as bot}\nfunction create_each_block$7(ctx) {\n\tvar option, t_value = ctx.bot + \"\", t;\n\n\treturn {\n\t\tc() {\n\t\t\toption = element(\"option\");\n\t\t\tt = text(t_value);\n\t\t\toption.__value = ctx.bot;\n\t\t\toption.value = option.__value;\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, option, anchor);\n\t\t\tappend(option, t);\n\t\t},\n\n\t\tp: noop,\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(option);\n\t\t\t}\n\t\t}\n\t};\n}\n\n// (168:4) {#if Object.keys(bot.opts()).length}\nfunction create_if_block_4(ctx) {\n\tvar section, h3, t1, label, t3, input, t4, current, dispose;\n\n\tvar options = new Options({ props: { bot: ctx.bot } });\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\th3 = element(\"h3\");\n\t\t\th3.textContent = \"Options\";\n\t\t\tt1 = space();\n\t\t\tlabel = element(\"label\");\n\t\t\tlabel.textContent = \"debug\";\n\t\t\tt3 = space();\n\t\t\tinput = element(\"input\");\n\t\t\tt4 = space();\n\t\t\toptions.$$.fragment.c();\n\t\t\tattr(h3, \"class\", \"svelte-hsd9fq\");\n\t\t\tattr(label, \"class\", \"svelte-hsd9fq\");\n\t\t\tattr(input, \"type\", \"checkbox\");\n\t\t\tattr(input, \"class\", \"svelte-hsd9fq\");\n\n\t\t\tdispose = [\n\t\t\t\tlisten(input, \"change\", ctx.input_change_handler),\n\t\t\t\tlisten(input, \"change\", ctx.OnDebug)\n\t\t\t];\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tappend(section, h3);\n\t\t\tappend(section, t1);\n\t\t\tappend(section, label);\n\t\t\tappend(section, t3);\n\t\t\tappend(section, input);\n\n\t\t\tinput.checked = ctx.debug;\n\n\t\t\tappend(section, t4);\n\t\t\tmount_component(options, section, null);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif (changed.debug) input.checked = ctx.debug;\n\n\t\t\tvar options_changes = {};\n\t\t\tif (changed.bot) options_changes.bot = ctx.bot;\n\t\t\toptions.$set(options_changes);\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(options.$$.fragment, local);\n\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\ttransition_out(options.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(section);\n\t\t\t}\n\n\t\t\tdestroy_component(options);\n\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\n// (177:4) {#if botAction || iterationCounter}\nfunction create_if_block_1$4(ctx) {\n\tvar section, h3, t1, t2;\n\n\tvar if_block0 = (ctx.progress && ctx.progress < 1.0) && create_if_block_3(ctx);\n\n\tvar if_block1 = (ctx.botAction) && create_if_block_2$2(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\th3 = element(\"h3\");\n\t\t\th3.textContent = \"Result\";\n\t\t\tt1 = space();\n\t\t\tif (if_block0) if_block0.c();\n\t\t\tt2 = space();\n\t\t\tif (if_block1) if_block1.c();\n\t\t\tattr(h3, \"class\", \"svelte-hsd9fq\");\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tappend(section, h3);\n\t\t\tappend(section, t1);\n\t\t\tif (if_block0) if_block0.m(section, null);\n\t\t\tappend(section, t2);\n\t\t\tif (if_block1) if_block1.m(section, null);\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif (ctx.progress && ctx.progress < 1.0) {\n\t\t\t\tif (if_block0) {\n\t\t\t\t\tif_block0.p(changed, ctx);\n\t\t\t\t} else {\n\t\t\t\t\tif_block0 = create_if_block_3(ctx);\n\t\t\t\t\tif_block0.c();\n\t\t\t\t\tif_block0.m(section, t2);\n\t\t\t\t}\n\t\t\t} else if (if_block0) {\n\t\t\t\tif_block0.d(1);\n\t\t\t\tif_block0 = null;\n\t\t\t}\n\n\t\t\tif (ctx.botAction) {\n\t\t\t\tif (if_block1) {\n\t\t\t\t\tif_block1.p(changed, ctx);\n\t\t\t\t} else {\n\t\t\t\t\tif_block1 = create_if_block_2$2(ctx);\n\t\t\t\t\tif_block1.c();\n\t\t\t\t\tif_block1.m(section, null);\n\t\t\t\t}\n\t\t\t} else if (if_block1) {\n\t\t\t\tif_block1.d(1);\n\t\t\t\tif_block1 = null;\n\t\t\t}\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(section);\n\t\t\t}\n\n\t\t\tif (if_block0) if_block0.d();\n\t\t\tif (if_block1) if_block1.d();\n\t\t}\n\t};\n}\n\n// (180:6) {#if progress && progress < 1.0}\nfunction create_if_block_3(ctx) {\n\tvar progress_1;\n\n\treturn {\n\t\tc() {\n\t\t\tprogress_1 = element(\"progress\");\n\t\t\tprogress_1.value = ctx.progress;\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, progress_1, anchor);\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif (changed.progress) {\n\t\t\t\tprogress_1.value = ctx.progress;\n\t\t\t}\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(progress_1);\n\t\t\t}\n\t\t}\n\t};\n}\n\n// (184:6) {#if botAction}\nfunction create_if_block_2$2(ctx) {\n\tvar li0, t0, t1, t2, li1, t3, t4_value = JSON.stringify(ctx.botActionArgs) + \"\", t4;\n\n\treturn {\n\t\tc() {\n\t\t\tli0 = element(\"li\");\n\t\t\tt0 = text(\"Action: \");\n\t\t\tt1 = text(ctx.botAction);\n\t\t\tt2 = space();\n\t\t\tli1 = element(\"li\");\n\t\t\tt3 = text(\"Args: \");\n\t\t\tt4 = text(t4_value);\n\t\t\tattr(li0, \"class\", \"svelte-hsd9fq\");\n\t\t\tattr(li1, \"class\", \"svelte-hsd9fq\");\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, li0, anchor);\n\t\t\tappend(li0, t0);\n\t\t\tappend(li0, t1);\n\t\t\tinsert(target, t2, anchor);\n\t\t\tinsert(target, li1, anchor);\n\t\t\tappend(li1, t3);\n\t\t\tappend(li1, t4);\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif (changed.botAction) {\n\t\t\t\tset_data(t1, ctx.botAction);\n\t\t\t}\n\n\t\t\tif ((changed.botActionArgs) && t4_value !== (t4_value = JSON.stringify(ctx.botActionArgs) + \"\")) {\n\t\t\t\tset_data(t4, t4_value);\n\t\t\t}\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(li0);\n\t\t\t\tdetach(t2);\n\t\t\t\tdetach(li1);\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction create_fragment$k(ctx) {\n\tvar section, current_block_type_index, if_block, current, dispose;\n\n\tvar if_block_creators = [\n\t\tcreate_if_block$9,\n\t\tcreate_if_block_5,\n\t\tcreate_else_block$2\n\t];\n\n\tvar if_blocks = [];\n\n\tfunction select_block_type(changed, ctx) {\n\t\tif (ctx.client.game.ai && !ctx.client.multiplayer) return 0;\n\t\tif (ctx.client.multiplayer) return 1;\n\t\treturn 2;\n\t}\n\n\tcurrent_block_type_index = select_block_type(null, ctx);\n\tif_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\tif_block.c();\n\t\t\tdispose = listen(window, \"keydown\", ctx.OnKeyDown);\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tif_blocks[current_block_type_index].m(section, null);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tvar previous_block_index = current_block_type_index;\n\t\t\tcurrent_block_type_index = select_block_type(changed, ctx);\n\t\t\tif (current_block_type_index === previous_block_index) {\n\t\t\t\tif_blocks[current_block_type_index].p(changed, ctx);\n\t\t\t} else {\n\t\t\t\tgroup_outros();\n\t\t\t\ttransition_out(if_blocks[previous_block_index], 1, 1, () => {\n\t\t\t\t\tif_blocks[previous_block_index] = null;\n\t\t\t\t});\n\t\t\t\tcheck_outros();\n\n\t\t\t\tif_block = if_blocks[current_block_type_index];\n\t\t\t\tif (!if_block) {\n\t\t\t\t\tif_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t}\n\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\tif_block.m(section, null);\n\t\t\t}\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(section);\n\t\t\t}\n\n\t\t\tif_blocks[current_block_type_index].d();\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction instance$k($$self, $$props, $$invalidate) {\n\tlet { client } = $$props;\n\n  const { secondaryPane } = getContext('secondaryPane');\n\n  const bots = {\n    'MCTS': MCTSBot,\n    'Random': RandomBot,\n  };\n\n  let debug = false;\n  let progress = null;\n  let iterationCounter = 0;\n  let metadata = null;\n  const iterationCallback = ({ iterationCounter: c, numIterations, metadata: m }) => {\n    $$invalidate('iterationCounter', iterationCounter = c);\n    $$invalidate('progress', progress = c / numIterations);\n    metadata = m;\n\n    if (debug && metadata) {\n      secondaryPane.set({ component: MCTS, metadata });\n    }\n  };\n\n  function OnDebug() {\n    if (debug && metadata) {\n      secondaryPane.set({ component: MCTS, metadata });\n    } else {\n      secondaryPane.set(null);\n    }\n  }\n\n  let bot;\n  if (client.game.ai) {\n    $$invalidate('bot', bot = new MCTSBot({\n      game: client.game,\n      enumerate: client.game.ai.enumerate,\n      iterationCallback,\n    }));\n    bot.setOpt('async', true);\n  }\n\n  let selectedBot;\n  let botAction;\n  let botActionArgs;\n  function ChangeBot() {\n    const botConstructor = bots[selectedBot];\n    $$invalidate('bot', bot = new botConstructor({\n      game: client.game,\n      enumerate: client.game.ai.enumerate,\n      iterationCallback,\n    }));\n    bot.setOpt('async', true);\n    $$invalidate('botAction', botAction = null);\n    metadata = null;\n    secondaryPane.set(null);\n    $$invalidate('iterationCounter', iterationCounter = 0);\n  }\n\n  async function Step$1() {\n    $$invalidate('botAction', botAction = null);\n    metadata = null;\n    $$invalidate('iterationCounter', iterationCounter = 0);\n\n    const t = await Step(client, bot);\n\n    if (t) {\n      $$invalidate('botAction', botAction = t.payload.type);\n      $$invalidate('botActionArgs', botActionArgs = t.payload.args);\n    }\n  }\n\n  function Simulate(iterations = 10000, sleepTimeout = 100) {\n    $$invalidate('botAction', botAction = null);\n    metadata = null;\n    $$invalidate('iterationCounter', iterationCounter = 0);\n    const step = async () => {\n      for (let i = 0; i < iterations; i++) {\n        const action = await Step(client, bot);\n        if (!action) break;\n        await new Promise(resolve => setTimeout(resolve, sleepTimeout));\n      }\n    };\n\n    return step();\n  }\n\n  function Exit() {\n    client.overrideGameState(null);\n    secondaryPane.set(null);\n    $$invalidate('debug', debug = false);\n  }\n\n  function Reset() {\n    client.reset();\n    $$invalidate('botAction', botAction = null);\n    metadata = null;\n    $$invalidate('iterationCounter', iterationCounter = 0);\n    Exit();\n  }\n\n  function OnKeyDown(e) {\n    // ESC.\n    if (e.keyCode == 27) {\n      Exit();\n    }\n  }\n\n  onDestroy(Exit);\n\n\tfunction select_change_handler() {\n\t\tselectedBot = select_value(this);\n\t\t$$invalidate('selectedBot', selectedBot);\n\t\t$$invalidate('bots', bots);\n\t}\n\n\tfunction input_change_handler() {\n\t\tdebug = this.checked;\n\t\t$$invalidate('debug', debug);\n\t}\n\n\t$$self.$set = $$props => {\n\t\tif ('client' in $$props) $$invalidate('client', client = $$props.client);\n\t};\n\n\treturn {\n\t\tclient,\n\t\tbots,\n\t\tdebug,\n\t\tprogress,\n\t\titerationCounter,\n\t\tOnDebug,\n\t\tbot,\n\t\tselectedBot,\n\t\tbotAction,\n\t\tbotActionArgs,\n\t\tChangeBot,\n\t\tStep: Step$1,\n\t\tSimulate,\n\t\tReset,\n\t\tOnKeyDown,\n\t\tselect_change_handler,\n\t\tinput_change_handler\n\t};\n}\n\nclass AI extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-hsd9fq-style\")) add_css$i();\n\t\tinit(this, options, instance$k, create_fragment$k, safe_not_equal, [\"client\"]);\n\t}\n}\n\n/* src/client/debug/Debug.svelte generated by Svelte v3.12.1 */\n\nfunction add_css$j() {\n\tvar style = element(\"style\");\n\tstyle.id = 'svelte-1h5kecx-style';\n\tstyle.textContent = \".debug-panel.svelte-1h5kecx{position:fixed;color:#555;font-family:monospace;display:flex;flex-direction:row;text-align:left;right:0;top:0;height:100%;font-size:14px;box-sizing:border-box;opacity:0.9}.pane.svelte-1h5kecx{flex-grow:2;overflow-x:hidden;overflow-y:scroll;background:#fefefe;padding:20px;border-left:1px solid #ccc;box-shadow:-1px 0 5px rgba(0, 0, 0, 0.2);box-sizing:border-box;width:280px}.secondary-pane.svelte-1h5kecx{background:#fefefe;overflow-y:scroll}.debug-panel.svelte-1h5kecx button, select{cursor:pointer;outline:none;background:#eee;border:1px solid #bbb;color:#555;padding:3px;border-radius:3px}.debug-panel.svelte-1h5kecx button{padding-left:10px;padding-right:10px}.debug-panel.svelte-1h5kecx button:hover{background:#ddd}.debug-panel.svelte-1h5kecx button:active{background:#888;color:#fff}.debug-panel.svelte-1h5kecx section{margin-bottom:20px}\";\n\tappend(document.head, style);\n}\n\n// (112:0) {#if visible}\nfunction create_if_block$a(ctx) {\n\tvar div1, t0, div0, t1, div1_transition, current;\n\n\tvar menu = new Menu({\n\t\tprops: {\n\t\tpanes: ctx.panes,\n\t\tpane: ctx.pane\n\t}\n\t});\n\tmenu.$on(\"change\", ctx.MenuChange);\n\n\tvar switch_value = ctx.panes[ctx.pane].component;\n\n\tfunction switch_props(ctx) {\n\t\treturn { props: { client: ctx.client } };\n\t}\n\n\tif (switch_value) {\n\t\tvar switch_instance = new switch_value(switch_props(ctx));\n\t}\n\n\tvar if_block = (ctx.$secondaryPane) && create_if_block_1$5(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tdiv1 = element(\"div\");\n\t\t\tmenu.$$.fragment.c();\n\t\t\tt0 = space();\n\t\t\tdiv0 = element(\"div\");\n\t\t\tif (switch_instance) switch_instance.$$.fragment.c();\n\t\t\tt1 = space();\n\t\t\tif (if_block) if_block.c();\n\t\t\tattr(div0, \"class\", \"pane svelte-1h5kecx\");\n\t\t\tattr(div1, \"class\", \"debug-panel svelte-1h5kecx\");\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div1, anchor);\n\t\t\tmount_component(menu, div1, null);\n\t\t\tappend(div1, t0);\n\t\t\tappend(div1, div0);\n\n\t\t\tif (switch_instance) {\n\t\t\t\tmount_component(switch_instance, div0, null);\n\t\t\t}\n\n\t\t\tappend(div1, t1);\n\t\t\tif (if_block) if_block.m(div1, null);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tvar menu_changes = {};\n\t\t\tif (changed.pane) menu_changes.pane = ctx.pane;\n\t\t\tmenu.$set(menu_changes);\n\n\t\t\tvar switch_instance_changes = {};\n\t\t\tif (changed.client) switch_instance_changes.client = ctx.client;\n\n\t\t\tif (switch_value !== (switch_value = ctx.panes[ctx.pane].component)) {\n\t\t\t\tif (switch_instance) {\n\t\t\t\t\tgroup_outros();\n\t\t\t\t\tconst old_component = switch_instance;\n\t\t\t\t\ttransition_out(old_component.$$.fragment, 1, 0, () => {\n\t\t\t\t\t\tdestroy_component(old_component, 1);\n\t\t\t\t\t});\n\t\t\t\t\tcheck_outros();\n\t\t\t\t}\n\n\t\t\t\tif (switch_value) {\n\t\t\t\t\tswitch_instance = new switch_value(switch_props(ctx));\n\n\t\t\t\t\tswitch_instance.$$.fragment.c();\n\t\t\t\t\ttransition_in(switch_instance.$$.fragment, 1);\n\t\t\t\t\tmount_component(switch_instance, div0, null);\n\t\t\t\t} else {\n\t\t\t\t\tswitch_instance = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\telse if (switch_value) {\n\t\t\t\tswitch_instance.$set(switch_instance_changes);\n\t\t\t}\n\n\t\t\tif (ctx.$secondaryPane) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(changed, ctx);\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block_1$5(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\tif_block.m(div1, null);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tgroup_outros();\n\t\t\t\ttransition_out(if_block, 1, 1, () => {\n\t\t\t\t\tif_block = null;\n\t\t\t\t});\n\t\t\t\tcheck_outros();\n\t\t\t}\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(menu.$$.fragment, local);\n\n\t\t\tif (switch_instance) transition_in(switch_instance.$$.fragment, local);\n\n\t\t\ttransition_in(if_block);\n\n\t\t\tadd_render_callback(() => {\n\t\t\t\tif (!div1_transition) div1_transition = create_bidirectional_transition(div1, fly, { x: 400 }, true);\n\t\t\t\tdiv1_transition.run(1);\n\t\t\t});\n\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\ttransition_out(menu.$$.fragment, local);\n\t\t\tif (switch_instance) transition_out(switch_instance.$$.fragment, local);\n\t\t\ttransition_out(if_block);\n\n\t\t\tif (!div1_transition) div1_transition = create_bidirectional_transition(div1, fly, { x: 400 }, false);\n\t\t\tdiv1_transition.run(0);\n\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(div1);\n\t\t\t}\n\n\t\t\tdestroy_component(menu);\n\n\t\t\tif (switch_instance) destroy_component(switch_instance);\n\t\t\tif (if_block) if_block.d();\n\n\t\t\tif (detaching) {\n\t\t\t\tif (div1_transition) div1_transition.end();\n\t\t\t}\n\t\t}\n\t};\n}\n\n// (118:4) {#if $secondaryPane}\nfunction create_if_block_1$5(ctx) {\n\tvar div, current;\n\n\tvar switch_value = ctx.$secondaryPane.component;\n\n\tfunction switch_props(ctx) {\n\t\treturn { props: { metadata: ctx.$secondaryPane.metadata } };\n\t}\n\n\tif (switch_value) {\n\t\tvar switch_instance = new switch_value(switch_props(ctx));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tif (switch_instance) switch_instance.$$.fragment.c();\n\t\t\tattr(div, \"class\", \"secondary-pane svelte-1h5kecx\");\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\n\t\t\tif (switch_instance) {\n\t\t\t\tmount_component(switch_instance, div, null);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tvar switch_instance_changes = {};\n\t\t\tif (changed.$secondaryPane) switch_instance_changes.metadata = ctx.$secondaryPane.metadata;\n\n\t\t\tif (switch_value !== (switch_value = ctx.$secondaryPane.component)) {\n\t\t\t\tif (switch_instance) {\n\t\t\t\t\tgroup_outros();\n\t\t\t\t\tconst old_component = switch_instance;\n\t\t\t\t\ttransition_out(old_component.$$.fragment, 1, 0, () => {\n\t\t\t\t\t\tdestroy_component(old_component, 1);\n\t\t\t\t\t});\n\t\t\t\t\tcheck_outros();\n\t\t\t\t}\n\n\t\t\t\tif (switch_value) {\n\t\t\t\t\tswitch_instance = new switch_value(switch_props(ctx));\n\n\t\t\t\t\tswitch_instance.$$.fragment.c();\n\t\t\t\t\ttransition_in(switch_instance.$$.fragment, 1);\n\t\t\t\t\tmount_component(switch_instance, div, null);\n\t\t\t\t} else {\n\t\t\t\t\tswitch_instance = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\telse if (switch_value) {\n\t\t\t\tswitch_instance.$set(switch_instance_changes);\n\t\t\t}\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\tif (switch_instance) transition_in(switch_instance.$$.fragment, local);\n\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\tif (switch_instance) transition_out(switch_instance.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (detaching) {\n\t\t\t\tdetach(div);\n\t\t\t}\n\n\t\t\tif (switch_instance) destroy_component(switch_instance);\n\t\t}\n\t};\n}\n\nfunction create_fragment$l(ctx) {\n\tvar if_block_anchor, current, dispose;\n\n\tvar if_block = (ctx.visible) && create_if_block$a(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tif (if_block) if_block.c();\n\t\t\tif_block_anchor = empty();\n\t\t\tdispose = listen(window, \"keypress\", ctx.Keypress);\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tif (if_block) if_block.m(target, anchor);\n\t\t\tinsert(target, if_block_anchor, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif (ctx.visible) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(changed, ctx);\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$a(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\tif_block.m(if_block_anchor.parentNode, if_block_anchor);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tgroup_outros();\n\t\t\t\ttransition_out(if_block, 1, 1, () => {\n\t\t\t\t\tif_block = null;\n\t\t\t\t});\n\t\t\t\tcheck_outros();\n\t\t\t}\n\t\t},\n\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\n\t\to(local) {\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\n\t\td(detaching) {\n\t\t\tif (if_block) if_block.d(detaching);\n\n\t\t\tif (detaching) {\n\t\t\t\tdetach(if_block_anchor);\n\t\t\t}\n\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction instance$l($$self, $$props, $$invalidate) {\n\tlet $secondaryPane;\n\n\tlet { client } = $$props;\n\n  const panes = {\n    main: { label: 'Main', shortcut: 'm', component: Main },\n    log: { label: 'Log', shortcut: 'l', component: Log },\n    info: { label: 'Info', shortcut: 'i', component: Info },\n    ai: { label: 'AI', shortcut: 'a', component: AI },\n  };\n\n  const disableHotkeys = writable(false);\n  const secondaryPane = writable(null); component_subscribe($$self, secondaryPane, $$value => { $secondaryPane = $$value; $$invalidate('$secondaryPane', $secondaryPane); });\n\n  setContext('hotkeys', { disableHotkeys });\n  setContext('secondaryPane', { secondaryPane });\n\n  let pane = 'main';\n  function MenuChange(e) {\n    $$invalidate('pane', pane = e.detail);\n  }\n\n  let visible = true;\n  function Keypress(e) {\n    // Toggle debugger visibilty\n    if (e.key == '.') {\n      $$invalidate('visible', visible = !visible);\n      return;\n    }\n    // Set displayed pane\n    if (!visible) return;\n    Object.entries(panes).forEach(([key, { shortcut }]) => {\n      if (e.key == shortcut) {\n        $$invalidate('pane', pane = key);\n      }\n    });\n  }\n\n\t$$self.$set = $$props => {\n\t\tif ('client' in $$props) $$invalidate('client', client = $$props.client);\n\t};\n\n\treturn {\n\t\tclient,\n\t\tpanes,\n\t\tsecondaryPane,\n\t\tpane,\n\t\tMenuChange,\n\t\tvisible,\n\t\tKeypress,\n\t\t$secondaryPane\n\t};\n}\n\nclass Debug extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-1h5kecx-style\")) add_css$j();\n\t\tinit(this, options, instance$l, create_fragment$l, safe_not_equal, [\"client\"]);\n\t}\n}\n\nexport { Debug as D };\n","import { t as Setup, d as Enhance, E as EnhanceCtx, f as Flush } from './turn-order-d7fe23d9.js';\nimport { P as ProcessGameConfig } from './reducer-186c7602.js';\n\n/*\r\n * Copyright 2020 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Creates the initial game state.\r\n */\r\nfunction InitializeGame({ game, numPlayers, setupData, }) {\r\n    game = ProcessGameConfig(game);\r\n    if (!numPlayers) {\r\n        numPlayers = 2;\r\n    }\r\n    let ctx = game.flow.ctx(numPlayers);\r\n    let state = {\r\n        // User managed state.\r\n        G: {},\r\n        // Framework managed state.\r\n        ctx,\r\n        // Plugin related state.\r\n        plugins: {},\r\n    };\r\n    // Run plugins over initial state.\r\n    state = Setup(state, { game });\r\n    state = Enhance(state, { game, playerID: undefined });\r\n    const enhancedCtx = EnhanceCtx(state);\r\n    state.G = game.setup(enhancedCtx, setupData);\r\n    let initial = {\r\n        ...state,\r\n        // List of {G, ctx} pairs that can be undone.\r\n        _undo: [],\r\n        // List of {G, ctx} pairs that can be redone.\r\n        _redo: [],\r\n        // A monotonically non-decreasing ID to ensure that\r\n        // state updates are only allowed from clients that\r\n        // are at the same version that the server.\r\n        _stateID: 0,\r\n    };\r\n    initial = game.flow.init(initial);\r\n    initial = Flush(initial, { game });\r\n    return initial;\r\n}\n\nexport { InitializeGame as I };\n","import { compose, applyMiddleware, createStore } from 'redux';\nimport { A as ActionCreators, r as reset, u as undo, q as redo, M as MAKE_MOVE, G as GAME_EVENT, R as RESET, j as UPDATE, k as SYNC } from './turn-order-d7fe23d9.js';\nimport { P as ProcessGameConfig, C as CreateGameReducer } from './reducer-186c7602.js';\nimport { D as Debug } from './Debug-b191d299.js';\nimport { I as InitializeGame } from './initialize-f1052b38.js';\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * createDispatchers\r\n *\r\n * Create action dispatcher wrappers with bound playerID and credentials\r\n */\r\nfunction createDispatchers(storeActionType, innerActionNames, store, playerID, credentials, multiplayer) {\r\n    return innerActionNames.reduce((dispatchers, name) => {\r\n        dispatchers[name] = function (...args) {\r\n            let assumedPlayerID = playerID;\r\n            // In singleplayer mode, if the client does not have a playerID\r\n            // associated with it, we attach the currentPlayer as playerID.\r\n            if (!multiplayer && (playerID === null || playerID === undefined)) {\r\n                const state = store.getState();\r\n                assumedPlayerID = state.ctx.currentPlayer;\r\n            }\r\n            store.dispatch(ActionCreators[storeActionType](name, args, assumedPlayerID, credentials));\r\n        };\r\n        return dispatchers;\r\n    }, {});\r\n}\r\n// Creates a set of dispatchers to make moves.\r\nconst createMoveDispatchers = createDispatchers.bind(null, 'makeMove');\r\n// Creates a set of dispatchers to dispatch game flow events.\r\nconst createEventDispatchers = createDispatchers.bind(null, 'gameEvent');\r\n// Creates a set of dispatchers to dispatch actions to plugins.\r\nconst createPluginDispatchers = createDispatchers.bind(null, 'plugin');\r\n/**\r\n * Implementation of Client (see below).\r\n */\r\nclass _ClientImpl {\r\n    constructor({ game, debug, numPlayers, multiplayer, gameID, playerID, credentials, enhancer, }) {\r\n        this.game = ProcessGameConfig(game);\r\n        this.playerID = playerID;\r\n        this.gameID = gameID;\r\n        this.credentials = credentials;\r\n        this.multiplayer = multiplayer;\r\n        this.debug = debug;\r\n        this.gameStateOverride = null;\r\n        this.subscribers = {};\r\n        this._running = false;\r\n        this.reducer = CreateGameReducer({\r\n            game: this.game,\r\n            isClient: multiplayer !== undefined,\r\n        });\r\n        this.initialState = null;\r\n        if (!multiplayer) {\r\n            this.initialState = InitializeGame({ game: this.game, numPlayers });\r\n        }\r\n        this.reset = () => {\r\n            this.store.dispatch(reset(this.initialState));\r\n        };\r\n        this.undo = () => {\r\n            this.store.dispatch(undo(this.playerID, this.credentials));\r\n        };\r\n        this.redo = () => {\r\n            this.store.dispatch(redo(this.playerID, this.credentials));\r\n        };\r\n        this.store = null;\r\n        this.log = [];\r\n        /**\r\n         * Middleware that manages the log object.\r\n         * Reducers generate deltalogs, which are log events\r\n         * that are the result of application of a single action.\r\n         * The master may also send back a deltalog or the entire\r\n         * log depending on the type of request.\r\n         * The middleware below takes care of all these cases while\r\n         * managing the log object.\r\n         */\r\n        const LogMiddleware = (store) => (next) => (action) => {\r\n            const result = next(action);\r\n            const state = store.getState();\r\n            switch (action.type) {\r\n                case MAKE_MOVE:\r\n                case GAME_EVENT: {\r\n                    const deltalog = state.deltalog;\r\n                    this.log = [...this.log, ...deltalog];\r\n                    break;\r\n                }\r\n                case RESET: {\r\n                    this.log = [];\r\n                    break;\r\n                }\r\n                case UPDATE: {\r\n                    let id = -1;\r\n                    if (this.log.length > 0) {\r\n                        id = this.log[this.log.length - 1]._stateID;\r\n                    }\r\n                    let deltalog = action.deltalog || [];\r\n                    // Filter out actions that are already present\r\n                    // in the current log. This may occur when the\r\n                    // client adds an entry to the log followed by\r\n                    // the update from the master here.\r\n                    deltalog = deltalog.filter(l => l._stateID > id);\r\n                    this.log = [...this.log, ...deltalog];\r\n                    break;\r\n                }\r\n                case SYNC: {\r\n                    this.initialState = action.initialState;\r\n                    this.log = action.log || [];\r\n                    break;\r\n                }\r\n            }\r\n            return result;\r\n        };\r\n        /**\r\n         * Middleware that intercepts actions and sends them to the master,\r\n         * which keeps the authoritative version of the state.\r\n         */\r\n        const TransportMiddleware = (store) => (next) => (action) => {\r\n            const baseState = store.getState();\r\n            const result = next(action);\r\n            if (!('clientOnly' in action)) {\r\n                this.transport.onAction(baseState, action);\r\n            }\r\n            return result;\r\n        };\r\n        /**\r\n         * Middleware that intercepts actions and invokes the subscription callback.\r\n         */\r\n        const SubscriptionMiddleware = () => (next) => (action) => {\r\n            const result = next(action);\r\n            this.notifySubscribers();\r\n            return result;\r\n        };\r\n        if (enhancer !== undefined) {\r\n            enhancer = compose(applyMiddleware(SubscriptionMiddleware, TransportMiddleware, LogMiddleware), enhancer);\r\n        }\r\n        else {\r\n            enhancer = applyMiddleware(SubscriptionMiddleware, TransportMiddleware, LogMiddleware);\r\n        }\r\n        this.store = createStore(this.reducer, this.initialState, enhancer);\r\n        this.transport = {\r\n            isConnected: true,\r\n            onAction: () => { },\r\n            subscribe: () => { },\r\n            subscribeGameMetadata: () => { },\r\n            connect: () => { },\r\n            disconnect: () => { },\r\n            updateGameID: () => { },\r\n            updatePlayerID: () => { },\r\n        };\r\n        if (multiplayer) {\r\n            // typeof multiplayer is 'function'\r\n            this.transport = multiplayer({\r\n                gameKey: game,\r\n                game: this.game,\r\n                store: this.store,\r\n                gameID,\r\n                playerID,\r\n                gameName: this.game.name,\r\n                numPlayers,\r\n            });\r\n        }\r\n        this.createDispatchers();\r\n        this.transport.subscribeGameMetadata(metadata => {\r\n            this.gameMetadata = metadata;\r\n        });\r\n        this._debugPanel = null;\r\n    }\r\n    notifySubscribers() {\r\n        Object.values(this.subscribers).forEach(fn => fn(this.getState()));\r\n    }\r\n    overrideGameState(state) {\r\n        this.gameStateOverride = state;\r\n        this.notifySubscribers();\r\n    }\r\n    start() {\r\n        this.transport.connect();\r\n        this._running = true;\r\n        let debugImpl = null;\r\n        if (process.env.NODE_ENV !== 'production') {\r\n            debugImpl = Debug;\r\n        }\r\n        if (this.debug && this.debug !== true && this.debug.impl) {\r\n            debugImpl = this.debug.impl;\r\n        }\r\n        if (debugImpl !== null &&\r\n            this.debug !== false &&\r\n            this._debugPanel == null &&\r\n            typeof document !== 'undefined') {\r\n            let target = document.body;\r\n            if (this.debug &&\r\n                this.debug !== true &&\r\n                this.debug.target !== undefined) {\r\n                target = this.debug.target;\r\n            }\r\n            if (target) {\r\n                this._debugPanel = new debugImpl({\r\n                    target,\r\n                    props: {\r\n                        client: this,\r\n                    },\r\n                });\r\n            }\r\n        }\r\n    }\r\n    stop() {\r\n        this.transport.disconnect();\r\n        this._running = false;\r\n        if (this._debugPanel != null) {\r\n            this._debugPanel.$destroy();\r\n            this._debugPanel = null;\r\n        }\r\n    }\r\n    subscribe(fn) {\r\n        const id = Object.keys(this.subscribers).length;\r\n        this.subscribers[id] = fn;\r\n        this.transport.subscribe(() => this.notifySubscribers());\r\n        if (this._running || !this.multiplayer) {\r\n            fn(this.getState());\r\n        }\r\n        // Return a handle that allows the caller to unsubscribe.\r\n        return () => {\r\n            delete this.subscribers[id];\r\n        };\r\n    }\r\n    getInitialState() {\r\n        return this.initialState;\r\n    }\r\n    getState() {\r\n        let state = this.store.getState();\r\n        if (this.gameStateOverride !== null) {\r\n            state = this.gameStateOverride;\r\n        }\r\n        // This is the state before a sync with the game master.\r\n        if (state === null) {\r\n            return state;\r\n        }\r\n        // isActive.\r\n        let isActive = true;\r\n        const isPlayerActive = this.game.flow.isPlayerActive(state.G, state.ctx, this.playerID);\r\n        if (this.multiplayer && !isPlayerActive) {\r\n            isActive = false;\r\n        }\r\n        if (!this.multiplayer &&\r\n            this.playerID !== null &&\r\n            this.playerID !== undefined &&\r\n            !isPlayerActive) {\r\n            isActive = false;\r\n        }\r\n        if (state.ctx.gameover !== undefined) {\r\n            isActive = false;\r\n        }\r\n        // Secrets are normally stripped on the server,\r\n        // but we also strip them here so that game developers\r\n        // can see their effects while prototyping.\r\n        const G = this.game.playerView(state.G, state.ctx, this.playerID);\r\n        // Combine into return value.\r\n        return {\r\n            ...state,\r\n            G,\r\n            log: this.log,\r\n            isActive,\r\n            isConnected: this.transport.isConnected,\r\n        };\r\n    }\r\n    createDispatchers() {\r\n        this.moves = createMoveDispatchers(this.game.moveNames, this.store, this.playerID, this.credentials, this.multiplayer);\r\n        this.events = createEventDispatchers(this.game.flow.enabledEventNames, this.store, this.playerID, this.credentials, this.multiplayer);\r\n        this.plugins = createPluginDispatchers(this.game.pluginNames, this.store, this.playerID, this.credentials, this.multiplayer);\r\n    }\r\n    updatePlayerID(playerID) {\r\n        this.playerID = playerID;\r\n        this.createDispatchers();\r\n        this.transport.updatePlayerID(playerID);\r\n        this.notifySubscribers();\r\n    }\r\n    updateGameID(gameID) {\r\n        this.gameID = gameID;\r\n        this.createDispatchers();\r\n        this.transport.updateGameID(gameID);\r\n        this.notifySubscribers();\r\n    }\r\n    updateCredentials(credentials) {\r\n        this.credentials = credentials;\r\n        this.createDispatchers();\r\n        this.notifySubscribers();\r\n    }\r\n}\r\n/**\r\n * Client\r\n *\r\n * boardgame.io JS client.\r\n *\r\n * @param {...object} game - The return value of `Game`.\r\n * @param {...object} numPlayers - The number of players.\r\n * @param {...object} multiplayer - Set to a falsy value or a transportFactory, e.g., SocketIO()\r\n * @param {...object} gameID - The gameID that you want to connect to.\r\n * @param {...object} playerID - The playerID associated with this client.\r\n * @param {...string} credentials - The authentication credentials associated with this client.\r\n *\r\n * Returns:\r\n *   A JS object that provides an API to interact with the\r\n *   game by dispatching moves and events.\r\n */\r\nfunction Client(opts) {\r\n    return new _ClientImpl(opts);\r\n}\n\nexport { Client as C };\n","import 'redux';\nimport './turn-order-d7fe23d9.js';\nimport 'immer';\nimport './reducer-186c7602.js';\nimport './Debug-b191d299.js';\nimport 'flatted';\nimport './ai-11415cb8.js';\nexport { C as Client } from './client-051f8c0a.js';\nimport './initialize-f1052b38.js';\n","export const They8={\r\n  setup: () =>({ cells: Array(9).fill(null) }), \r\n  moves:{\r\n    clickCell: (G, ctx, id) => {\r\n      G.cells[id] = ctx.currentPlayer;\r\n    },\r\n  },\r\n};\r\n","import {Client} from 'boardgame.io/client';\r\nimport {They8} from './Game';\r\n\r\nclass They8Client{\r\n  constructor(){\r\n    this.client=Client({game:They8});\r\n    this.client.start();\r\n  }\r\n}\r\n\r\nconst app= new They8Client();\r\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}